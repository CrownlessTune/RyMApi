const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CharacterSearch-iQtcB7FG.js","assets/CharacterSearch-DN73pSPz.css","assets/UserProfile-ClazR2Xi.js","assets/UserProfile-DAPVusVE.css"])))=>i.map(i=>d[i]);
function dS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Yu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hS={exports:{}},Xh={},fS={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=Symbol.for("react.element"),ck=Symbol.for("react.portal"),dk=Symbol.for("react.fragment"),hk=Symbol.for("react.strict_mode"),fk=Symbol.for("react.profiler"),pk=Symbol.for("react.provider"),mk=Symbol.for("react.context"),gk=Symbol.for("react.forward_ref"),yk=Symbol.for("react.suspense"),vk=Symbol.for("react.memo"),wk=Symbol.for("react.lazy"),k0=Symbol.iterator;function _k(t){return t===null||typeof t!="object"?null:(t=k0&&t[k0]||t["@@iterator"],typeof t=="function"?t:null)}var pS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mS=Object.assign,gS={};function Za(t,e,n){this.props=t,this.context=e,this.refs=gS,this.updater=n||pS}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yS(){}yS.prototype=Za.prototype;function yy(t,e,n){this.props=t,this.context=e,this.refs=gS,this.updater=n||pS}var vy=yy.prototype=new yS;vy.constructor=yy;mS(vy,Za.prototype);vy.isPureReactComponent=!0;var x0=Array.isArray,vS=Object.prototype.hasOwnProperty,wy={current:null},wS={key:!0,ref:!0,__self:!0,__source:!0};function _S(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vS.call(e,r)&&!wS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ju,type:t,key:s,ref:o,props:i,_owner:wy.current}}function Ek(t,e){return{$$typeof:Ju,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _y(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ju}function Tk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var O0=/\/+/g;function Ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tk(""+t.key):e.toString(36)}function gd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ju:case ck:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ap(o,0):r,x0(i)?(n="",t!=null&&(n=t.replace(O0,"$&/")+"/"),gd(i,e,n,"",function(c){return c})):i!=null&&(_y(i)&&(i=Ek(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(O0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",x0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ap(s,a);o+=gd(s,e,n,l,i)}else if(l=_k(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ap(s,a++),o+=gd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zc(t,e,n){if(t==null)return t;var r=[],i=0;return gd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Sk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},yd={transition:null},Ik={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:yd,ReactCurrentOwner:wy};function ES(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:zc,forEach:function(t,e,n){zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zc(t,function(){e++}),e},toArray:function(t){return zc(t,function(e){return e})||[]},only:function(t){if(!_y(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Za;Ce.Fragment=dk;Ce.Profiler=fk;Ce.PureComponent=yy;Ce.StrictMode=hk;Ce.Suspense=yk;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;Ce.act=ES;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vS.call(e,l)&&!wS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ju,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:mk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pk,_context:t},t.Consumer=t};Ce.createElement=_S;Ce.createFactory=function(t){var e=_S.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:gk,render:t}};Ce.isValidElement=_y;Ce.lazy=function(t){return{$$typeof:wk,_payload:{_status:-1,_result:t},_init:Sk}};Ce.memo=function(t,e){return{$$typeof:vk,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=yd.transition;yd.transition={};try{t()}finally{yd.transition=e}};Ce.unstable_act=ES;Ce.useCallback=function(t,e){return dn.current.useCallback(t,e)};Ce.useContext=function(t){return dn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return dn.current.useEffect(t,e)};Ce.useId=function(){return dn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return dn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Ce.useRef=function(t){return dn.current.useRef(t)};Ce.useState=function(t){return dn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return dn.current.useTransition()};Ce.version="18.3.1";fS.exports=Ce;var N=fS.exports;const Zh=Yu(N),bk=dS({__proto__:null,default:Zh},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak=N,Ck=Symbol.for("react.element"),Rk=Symbol.for("react.fragment"),Pk=Object.prototype.hasOwnProperty,kk=Ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xk={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Pk.call(e,r)&&!xk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ck,type:t,key:s,ref:o,props:i,_owner:kk.current}}Xh.Fragment=Rk;Xh.jsx=TS;Xh.jsxs=TS;hS.exports=Xh;var x=hS.exports,Rm={},SS={exports:{}},Un={},IS={exports:{}},bS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,ue){var fe=Q.length;Q.push(ue);e:for(;0<fe;){var Ie=fe-1>>>1,_e=Q[Ie];if(0<i(_e,ue))Q[Ie]=ue,Q[fe]=_e,fe=Ie;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ue=Q[0],fe=Q.pop();if(fe!==ue){Q[0]=fe;e:for(var Ie=0,_e=Q.length,Fe=_e>>>1;Ie<Fe;){var ut=2*(Ie+1)-1,rt=Q[ut],Tt=ut+1,Ot=Q[Tt];if(0>i(rt,fe))Tt<_e&&0>i(Ot,rt)?(Q[Ie]=Ot,Q[Tt]=fe,Ie=Tt):(Q[Ie]=rt,Q[ut]=fe,Ie=ut);else if(Tt<_e&&0>i(Ot,fe))Q[Ie]=Ot,Q[Tt]=fe,Ie=Tt;else break e}}return ue}function i(Q,ue){var fe=Q.sortIndex-ue.sortIndex;return fe!==0?fe:Q.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,w=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Q){for(var ue=n(c);ue!==null;){if(ue.callback===null)r(c);else if(ue.startTime<=Q)r(c),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=n(c)}}function L(Q){if(E=!1,T(Q),!w)if(n(l)!==null)w=!0,qn(z);else{var ue=n(c);ue!==null&&je(L,ue.startTime-Q)}}function z(Q,ue){w=!1,E&&(E=!1,b(y),y=-1),g=!0;var fe=p;try{for(T(ue),f=n(l);f!==null&&(!(f.expirationTime>ue)||Q&&!k());){var Ie=f.callback;if(typeof Ie=="function"){f.callback=null,p=f.priorityLevel;var _e=Ie(f.expirationTime<=ue);ue=t.unstable_now(),typeof _e=="function"?f.callback=_e:f===n(l)&&r(l),T(ue)}else r(l);f=n(l)}if(f!==null)var Fe=!0;else{var ut=n(c);ut!==null&&je(L,ut.startTime-ue),Fe=!1}return Fe}finally{f=null,p=fe,g=!1}}var A=!1,S=null,y=-1,I=5,C=-1;function k(){return!(t.unstable_now()-C<I)}function D(){if(S!==null){var Q=t.unstable_now();C=Q;var ue=!0;try{ue=S(!0,Q)}finally{ue?P():(A=!1,S=null)}}else A=!1}var P;if(typeof v=="function")P=function(){v(D)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Vt=Te.port2;Te.port1.onmessage=D,P=function(){Vt.postMessage(null)}}else P=function(){R(D,0)};function qn(Q){S=Q,A||(A=!0,P())}function je(Q,ue){y=R(function(){Q(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,qn(z))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var ue=3;break;default:ue=p}var fe=p;p=ue;try{return Q()}finally{p=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=p;p=Q;try{return ue()}finally{p=fe}},t.unstable_scheduleCallback=function(Q,ue,fe){var Ie=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,Q){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=fe+_e,Q={id:d++,callback:ue,priorityLevel:Q,startTime:fe,expirationTime:_e,sortIndex:-1},fe>Ie?(Q.sortIndex=fe,e(c,Q),n(l)===null&&Q===n(c)&&(E?(b(y),y=-1):E=!0,je(L,fe-Ie))):(Q.sortIndex=_e,e(l,Q),w||g||(w=!0,qn(z))),Q},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Q){var ue=p;return function(){var fe=p;p=ue;try{return Q.apply(this,arguments)}finally{p=fe}}}})(bS);IS.exports=bS;var Ok=IS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk=N,Vn=Ok;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AS=new Set,vu={};function Po(t,e){La(t,e),La(t+"Capture",e)}function La(t,e){for(vu[t]=e,t=0;t<e.length;t++)AS.add(e[t])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pm=Object.prototype.hasOwnProperty,Dk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N0={},D0={};function Lk(t){return Pm.call(D0,t)?!0:Pm.call(N0,t)?!1:Dk.test(t)?D0[t]=!0:(N0[t]=!0,!1)}function Mk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fk(t,e,n,r){if(e===null||typeof e>"u"||Mk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ey=/[\-:]([a-z])/g;function Ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ey,Ty);qt[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ey,Ty);qt[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ey,Ty);qt[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sy(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fk(e,n,i,r)&&(n=null),r||i===null?Lk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ci=Nk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),ua=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),CS=Symbol.for("react.provider"),RS=Symbol.for("react.context"),by=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),Om=Symbol.for("react.suspense_list"),Ay=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),PS=Symbol.for("react.offscreen"),L0=Symbol.iterator;function Pl(t){return t===null||typeof t!="object"?null:(t=L0&&t[L0]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Cp;function Bl(t){if(Cp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cp=e&&e[1]||""}return`
`+Cp+t}var Rp=!1;function Pp(t,e){if(!t||Rp)return"";Rp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bl(t):""}function Vk(t){switch(t.tag){case 5:return Bl(t.type);case 16:return Bl("Lazy");case 13:return Bl("Suspense");case 19:return Bl("SuspenseList");case 0:case 2:case 15:return t=Pp(t.type,!1),t;case 11:return t=Pp(t.type.render,!1),t;case 1:return t=Pp(t.type,!0),t;default:return""}}function Nm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ca:return"Fragment";case ua:return"Portal";case km:return"Profiler";case Iy:return"StrictMode";case xm:return"Suspense";case Om:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RS:return(t.displayName||"Context")+".Consumer";case CS:return(t._context.displayName||"Context")+".Provider";case by:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ay:return e=t.displayName||null,e!==null?e:Nm(t.type)||"Memo";case Hi:e=t._payload,t=t._init;try{return Nm(t(e))}catch{}}return null}function jk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nm(e);case 8:return e===Iy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ws(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uk(t){var e=kS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=Uk(t))}function xS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dm(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ws(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OS(t,e){e=e.checked,e!=null&&Sy(t,"checked",e,!1)}function Lm(t,e){OS(t,e);var n=ws(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mm(t,e.type,ws(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mm(t,e,n){(e!=="number"||Hd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zl=Array.isArray;function Sa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ws(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function V0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(zl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ws(n)}}function NS(t,e){var n=ws(e.value),r=ws(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function DS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?DS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wc,LS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wc=Wc||document.createElement("div"),Wc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$k=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(t){$k.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eu[e]=eu[t]})});function MS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eu.hasOwnProperty(t)&&eu[t]?(""+e).trim():e+"px"}function FS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Bk=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jm(t,e){if(e){if(Bk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Um(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $m=null;function Cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bm=null,Ia=null,ba=null;function U0(t){if(t=ec(t)){if(typeof Bm!="function")throw Error(K(280));var e=t.stateNode;e&&(e=sf(e),Bm(t.stateNode,t.type,e))}}function VS(t){Ia?ba?ba.push(t):ba=[t]:Ia=t}function jS(){if(Ia){var t=Ia,e=ba;if(ba=Ia=null,U0(t),e)for(t=0;t<e.length;t++)U0(e[t])}}function US(t,e){return t(e)}function $S(){}var kp=!1;function BS(t,e,n){if(kp)return t(e,n);kp=!0;try{return US(t,e,n)}finally{kp=!1,(Ia!==null||ba!==null)&&($S(),jS())}}function _u(t,e){var n=t.stateNode;if(n===null)return null;var r=sf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var zm=!1;if(wi)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){zm=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{zm=!1}function zk(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var tu=!1,qd=null,Wd=!1,Hm=null,Hk={onError:function(t){tu=!0,qd=t}};function qk(t,e,n,r,i,s,o,a,l){tu=!1,qd=null,zk.apply(Hk,arguments)}function Wk(t,e,n,r,i,s,o,a,l){if(qk.apply(this,arguments),tu){if(tu){var c=qd;tu=!1,qd=null}else throw Error(K(198));Wd||(Wd=!0,Hm=c)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $0(t){if(ko(t)!==t)throw Error(K(188))}function Kk(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $0(i),t;if(s===r)return $0(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function HS(t){return t=Kk(t),t!==null?qS(t):null}function qS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qS(t);if(e!==null)return e;t=t.sibling}return null}var WS=Vn.unstable_scheduleCallback,B0=Vn.unstable_cancelCallback,Gk=Vn.unstable_shouldYield,Qk=Vn.unstable_requestPaint,_t=Vn.unstable_now,Yk=Vn.unstable_getCurrentPriorityLevel,Ry=Vn.unstable_ImmediatePriority,KS=Vn.unstable_UserBlockingPriority,Kd=Vn.unstable_NormalPriority,Jk=Vn.unstable_LowPriority,GS=Vn.unstable_IdlePriority,ef=null,Vr=null;function Xk(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(ef,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:tx,Zk=Math.log,ex=Math.LN2;function tx(t){return t>>>=0,t===0?32:31-(Zk(t)/ex|0)|0}var Kc=64,Gc=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Hl(a):(s&=o,s!==0&&(r=Hl(s)))}else o=n&~i,o!==0?r=Hl(o):s!==0&&(r=Hl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),i=1<<n,r|=t[n],e&=~i;return r}function nx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-yr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function qm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QS(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function xp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function ix(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Py(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function YS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JS,ky,XS,ZS,eI,Wm=!1,Qc=[],os=null,as=null,ls=null,Eu=new Map,Tu=new Map,Ki=[],sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(e.pointerId)}}function xl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ec(e),e!==null&&ky(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ox(t,e,n,r,i){switch(e){case"focusin":return os=xl(os,t,e,n,r,i),!0;case"dragenter":return as=xl(as,t,e,n,r,i),!0;case"mouseover":return ls=xl(ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Eu.set(s,xl(Eu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tu.set(s,xl(Tu.get(s)||null,t,e,n,r,i)),!0}return!1}function tI(t){var e=eo(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=zS(n),e!==null){t.blockedOn=e,eI(t.priority,function(){XS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Km(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$m=r,n.target.dispatchEvent(r),$m=null}else return e=ec(n),e!==null&&ky(e),t.blockedOn=n,!1;e.shift()}return!0}function H0(t,e,n){vd(t)&&n.delete(e)}function ax(){Wm=!1,os!==null&&vd(os)&&(os=null),as!==null&&vd(as)&&(as=null),ls!==null&&vd(ls)&&(ls=null),Eu.forEach(H0),Tu.forEach(H0)}function Ol(t,e){t.blockedOn===e&&(t.blockedOn=null,Wm||(Wm=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,ax)))}function Su(t){function e(i){return Ol(i,t)}if(0<Qc.length){Ol(Qc[0],t);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&Ol(os,t),as!==null&&Ol(as,t),ls!==null&&Ol(ls,t),Eu.forEach(e),Tu.forEach(e),n=0;n<Ki.length;n++)r=Ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)tI(n),n.blockedOn===null&&Ki.shift()}var Aa=Ci.ReactCurrentBatchConfig,Qd=!0;function lx(t,e,n,r){var i=Be,s=Aa.transition;Aa.transition=null;try{Be=1,xy(t,e,n,r)}finally{Be=i,Aa.transition=s}}function ux(t,e,n,r){var i=Be,s=Aa.transition;Aa.transition=null;try{Be=4,xy(t,e,n,r)}finally{Be=i,Aa.transition=s}}function xy(t,e,n,r){if(Qd){var i=Km(t,e,n,r);if(i===null)$p(t,e,r,Yd,n),z0(t,r);else if(ox(i,t,e,n,r))r.stopPropagation();else if(z0(t,r),e&4&&-1<sx.indexOf(t)){for(;i!==null;){var s=ec(i);if(s!==null&&JS(s),s=Km(t,e,n,r),s===null&&$p(t,e,r,Yd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $p(t,e,r,null,n)}}var Yd=null;function Km(t,e,n,r){if(Yd=null,t=Cy(r),t=eo(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yd=t,null}function nI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yk()){case Ry:return 1;case KS:return 4;case Kd:case Jk:return 16;case GS:return 536870912;default:return 16}default:return 16}}var Zi=null,Oy=null,wd=null;function rI(){if(wd)return wd;var t,e=Oy,n=e.length,r,i="value"in Zi?Zi.value:Zi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wd=i.slice(t,1<r?1-r:void 0)}function _d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function q0(){return!1}function $n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yc:q0,this.isPropagationStopped=q0,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ny=$n(el),Zu=ft({},el,{view:0,detail:0}),cx=$n(Zu),Op,Np,Nl,tf=ft({},Zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nl&&(Nl&&t.type==="mousemove"?(Op=t.screenX-Nl.screenX,Np=t.screenY-Nl.screenY):Np=Op=0,Nl=t),Op)},movementY:function(t){return"movementY"in t?t.movementY:Np}}),W0=$n(tf),dx=ft({},tf,{dataTransfer:0}),hx=$n(dx),fx=ft({},Zu,{relatedTarget:0}),Dp=$n(fx),px=ft({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),mx=$n(px),gx=ft({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yx=$n(gx),vx=ft({},el,{data:0}),K0=$n(vx),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ex={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ex[t])?!!e[t]:!1}function Dy(){return Tx}var Sx=ft({},Zu,{key:function(t){if(t.key){var e=wx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_x[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dy,charCode:function(t){return t.type==="keypress"?_d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ix=$n(Sx),bx=ft({},tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=$n(bx),Ax=ft({},Zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dy}),Cx=$n(Ax),Rx=ft({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),Px=$n(Rx),kx=ft({},tf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xx=$n(kx),Ox=[9,13,27,32],Ly=wi&&"CompositionEvent"in window,nu=null;wi&&"documentMode"in document&&(nu=document.documentMode);var Nx=wi&&"TextEvent"in window&&!nu,iI=wi&&(!Ly||nu&&8<nu&&11>=nu),Q0=" ",Y0=!1;function sI(t,e){switch(t){case"keyup":return Ox.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function Dx(t,e){switch(t){case"compositionend":return oI(e);case"keypress":return e.which!==32?null:(Y0=!0,Q0);case"textInput":return t=e.data,t===Q0&&Y0?null:t;default:return null}}function Lx(t,e){if(da)return t==="compositionend"||!Ly&&sI(t,e)?(t=rI(),wd=Oy=Zi=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iI&&e.locale!=="ko"?null:e.data;default:return null}}var Mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Mx[t.type]:e==="textarea"}function aI(t,e,n,r){VS(r),e=Jd(e,"onChange"),0<e.length&&(n=new Ny("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,Iu=null;function Fx(t){vI(t,0)}function nf(t){var e=pa(t);if(xS(e))return t}function Vx(t,e){if(t==="change")return e}var lI=!1;if(wi){var Lp;if(wi){var Mp="oninput"in document;if(!Mp){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),Mp=typeof X0.oninput=="function"}Lp=Mp}else Lp=!1;lI=Lp&&(!document.documentMode||9<document.documentMode)}function Z0(){ru&&(ru.detachEvent("onpropertychange",uI),Iu=ru=null)}function uI(t){if(t.propertyName==="value"&&nf(Iu)){var e=[];aI(e,Iu,t,Cy(t)),BS(Fx,e)}}function jx(t,e,n){t==="focusin"?(Z0(),ru=e,Iu=n,ru.attachEvent("onpropertychange",uI)):t==="focusout"&&Z0()}function Ux(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nf(Iu)}function $x(t,e){if(t==="click")return nf(e)}function Bx(t,e){if(t==="input"||t==="change")return nf(e)}function zx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:zx;function bu(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pm.call(e,i)||!_r(t[i],e[i]))return!1}return!0}function e_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t_(t,e){var n=e_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e_(n)}}function cI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dI(){for(var t=window,e=Hd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hd(t.document)}return e}function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hx(t){var e=dI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cI(n.ownerDocument.documentElement,n)){if(r!==null&&My(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=t_(n,s);var o=t_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qx=wi&&"documentMode"in document&&11>=document.documentMode,ha=null,Gm=null,iu=null,Qm=!1;function n_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qm||ha==null||ha!==Hd(r)||(r=ha,"selectionStart"in r&&My(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&bu(iu,r)||(iu=r,r=Jd(Gm,"onSelect"),0<r.length&&(e=new Ny("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ha)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fa={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},Fp={},hI={};wi&&(hI=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function rf(t){if(Fp[t])return Fp[t];if(!fa[t])return t;var e=fa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hI)return Fp[t]=e[n];return t}var fI=rf("animationend"),pI=rf("animationiteration"),mI=rf("animationstart"),gI=rf("transitionend"),yI=new Map,r_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(t,e){yI.set(t,e),Po(e,[t])}for(var Vp=0;Vp<r_.length;Vp++){var jp=r_[Vp],Wx=jp.toLowerCase(),Kx=jp[0].toUpperCase()+jp.slice(1);Ps(Wx,"on"+Kx)}Ps(fI,"onAnimationEnd");Ps(pI,"onAnimationIteration");Ps(mI,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps(gI,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);Po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Po("onBeforeInput",["compositionend","keypress","textInput","paste"]);Po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function i_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wk(r,e,void 0,t),t.currentTarget=null}function vI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;i_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;i_(i,a,c),s=l}}}if(Wd)throw t=Hm,Wd=!1,Hm=null,t}function Ze(t,e){var n=e[eg];n===void 0&&(n=e[eg]=new Set);var r=t+"__bubble";n.has(r)||(wI(e,t,2,!1),n.add(r))}function Up(t,e,n){var r=0;e&&(r|=4),wI(n,t,r,e)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[Xc]){t[Xc]=!0,AS.forEach(function(n){n!=="selectionchange"&&(Gx.has(n)||Up(n,!1,t),Up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xc]||(e[Xc]=!0,Up("selectionchange",!1,e))}}function wI(t,e,n,r){switch(nI(e)){case 1:var i=lx;break;case 4:i=ux;break;default:i=xy}n=i.bind(null,e,n,t),i=void 0,!zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $p(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=eo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}BS(function(){var c=s,d=Cy(n),f=[];e:{var p=yI.get(t);if(p!==void 0){var g=Ny,w=t;switch(t){case"keypress":if(_d(n)===0)break e;case"keydown":case"keyup":g=Ix;break;case"focusin":w="focus",g=Dp;break;case"focusout":w="blur",g=Dp;break;case"beforeblur":case"afterblur":g=Dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Cx;break;case fI:case pI:case mI:g=mx;break;case gI:g=Px;break;case"scroll":g=cx;break;case"wheel":g=xx;break;case"copy":case"cut":case"paste":g=yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=G0}var E=(e&4)!==0,R=!E&&t==="scroll",b=E?p!==null?p+"Capture":null:p;E=[];for(var v=c,T;v!==null;){T=v;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,b!==null&&(L=_u(v,b),L!=null&&E.push(Cu(v,L,T)))),R)break;v=v.return}0<E.length&&(p=new g(p,w,null,n,d),f.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==$m&&(w=n.relatedTarget||n.fromElement)&&(eo(w)||w[_i]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?eo(w):null,w!==null&&(R=ko(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(E=W0,L="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=G0,L="onPointerLeave",b="onPointerEnter",v="pointer"),R=g==null?p:pa(g),T=w==null?p:pa(w),p=new E(L,v+"leave",g,n,d),p.target=R,p.relatedTarget=T,L=null,eo(d)===c&&(E=new E(b,v+"enter",w,n,d),E.target=T,E.relatedTarget=R,L=E),R=L,g&&w)t:{for(E=g,b=w,v=0,T=E;T;T=ta(T))v++;for(T=0,L=b;L;L=ta(L))T++;for(;0<v-T;)E=ta(E),v--;for(;0<T-v;)b=ta(b),T--;for(;v--;){if(E===b||b!==null&&E===b.alternate)break t;E=ta(E),b=ta(b)}E=null}else E=null;g!==null&&s_(f,p,g,E,!1),w!==null&&R!==null&&s_(f,R,w,E,!0)}}e:{if(p=c?pa(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var z=Vx;else if(J0(p))if(lI)z=Bx;else{z=Ux;var A=jx}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(z=$x);if(z&&(z=z(t,c))){aI(f,z,n,d);break e}A&&A(t,p,c),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Mm(p,"number",p.value)}switch(A=c?pa(c):window,t){case"focusin":(J0(A)||A.contentEditable==="true")&&(ha=A,Gm=c,iu=null);break;case"focusout":iu=Gm=ha=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,n_(f,n,d);break;case"selectionchange":if(qx)break;case"keydown":case"keyup":n_(f,n,d)}var S;if(Ly)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else da?sI(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(iI&&n.locale!=="ko"&&(da||y!=="onCompositionStart"?y==="onCompositionEnd"&&da&&(S=rI()):(Zi=d,Oy="value"in Zi?Zi.value:Zi.textContent,da=!0)),A=Jd(c,y),0<A.length&&(y=new K0(y,t,null,n,d),f.push({event:y,listeners:A}),S?y.data=S:(S=oI(n),S!==null&&(y.data=S)))),(S=Nx?Dx(t,n):Lx(t,n))&&(c=Jd(c,"onBeforeInput"),0<c.length&&(d=new K0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}vI(f,e)})}function Cu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_u(t,n),s!=null&&r.unshift(Cu(t,s,i)),s=_u(t,e),s!=null&&r.push(Cu(t,s,i))),t=t.return}return r}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function s_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=_u(n,s),l!=null&&o.unshift(Cu(n,l,a))):i||(l=_u(n,s),l!=null&&o.push(Cu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Qx=/\r\n?/g,Yx=/\u0000|\uFFFD/g;function o_(t){return(typeof t=="string"?t:""+t).replace(Qx,`
`).replace(Yx,"")}function Zc(t,e,n){if(e=o_(e),o_(t)!==e&&n)throw Error(K(425))}function Xd(){}var Ym=null,Jm=null;function Xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,Jx=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,Xx=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(Zx)}:Zm;function Zx(t){setTimeout(function(){throw t})}function Bp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Su(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function l_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Mr="__reactFiber$"+tl,Ru="__reactProps$"+tl,_i="__reactContainer$"+tl,eg="__reactEvents$"+tl,eO="__reactListeners$"+tl,tO="__reactHandles$"+tl;function eo(t){var e=t[Mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[Mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=l_(t);t!==null;){if(n=t[Mr])return n;t=l_(t)}return e}t=n,n=t.parentNode}return null}function ec(t){return t=t[Mr]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function sf(t){return t[Ru]||null}var tg=[],ma=-1;function ks(t){return{current:t}}function nt(t){0>ma||(t.current=tg[ma],tg[ma]=null,ma--)}function Ye(t,e){ma++,tg[ma]=t.current,t.current=e}var _s={},rn=ks(_s),En=ks(!1),fo=_s;function Ma(t,e){var n=t.type.contextTypes;if(!n)return _s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function Zd(){nt(En),nt(rn)}function u_(t,e,n){if(rn.current!==_s)throw Error(K(168));Ye(rn,e),Ye(En,n)}function _I(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,jk(t)||"Unknown",i));return ft({},n,r)}function eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_s,fo=rn.current,Ye(rn,t),Ye(En,En.current),!0}function c_(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=_I(t,e,fo),r.__reactInternalMemoizedMergedChildContext=t,nt(En),nt(rn),Ye(rn,t)):nt(En),Ye(En,n)}var ai=null,of=!1,zp=!1;function EI(t){ai===null?ai=[t]:ai.push(t)}function nO(t){of=!0,EI(t)}function xs(){if(!zp&&ai!==null){zp=!0;var t=0,e=Be;try{var n=ai;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ai=null,of=!1}catch(i){throw ai!==null&&(ai=ai.slice(t+1)),WS(Ry,xs),i}finally{Be=e,zp=!1}}return null}var ga=[],ya=0,th=null,nh=0,Jn=[],Xn=0,po=null,ui=1,ci="";function Qs(t,e){ga[ya++]=nh,ga[ya++]=th,th=t,nh=e}function TI(t,e,n){Jn[Xn++]=ui,Jn[Xn++]=ci,Jn[Xn++]=po,po=t;var r=ui;t=ci;var i=32-yr(r)-1;r&=~(1<<i),n+=1;var s=32-yr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ui=1<<32-yr(e)+i|n<<i|r,ci=s+t}else ui=1<<s|n<<i|r,ci=t}function Fy(t){t.return!==null&&(Qs(t,1),TI(t,1,0))}function Vy(t){for(;t===th;)th=ga[--ya],ga[ya]=null,nh=ga[--ya],ga[ya]=null;for(;t===po;)po=Jn[--Xn],Jn[Xn]=null,ci=Jn[--Xn],Jn[Xn]=null,ui=Jn[--Xn],Jn[Xn]=null}var Ln=null,Nn=null,lt=!1,hr=null;function SI(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Nn=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=po!==null?{id:ui,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Nn=null,!0):!1;default:return!1}}function ng(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rg(t){if(lt){var e=Nn;if(e){var n=e;if(!d_(t,e)){if(ng(t))throw Error(K(418));e=us(n.nextSibling);var r=Ln;e&&d_(t,e)?SI(r,n):(t.flags=t.flags&-4097|2,lt=!1,Ln=t)}}else{if(ng(t))throw Error(K(418));t.flags=t.flags&-4097|2,lt=!1,Ln=t}}}function h_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function ed(t){if(t!==Ln)return!1;if(!lt)return h_(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xm(t.type,t.memoizedProps)),e&&(e=Nn)){if(ng(t))throw II(),Error(K(418));for(;e;)SI(t,e),e=us(e.nextSibling)}if(h_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=Ln?us(t.stateNode.nextSibling):null;return!0}function II(){for(var t=Nn;t;)t=us(t.nextSibling)}function Fa(){Nn=Ln=null,lt=!1}function jy(t){hr===null?hr=[t]:hr.push(t)}var rO=Ci.ReactCurrentBatchConfig;function Dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function td(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function f_(t){var e=t._init;return e(t._payload)}function bI(t){function e(b,v){if(t){var T=b.deletions;T===null?(b.deletions=[v],b.flags|=16):T.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=fs(b,v),b.index=0,b.sibling=null,b}function s(b,v,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<v?(b.flags|=2,v):T):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,v,T,L){return v===null||v.tag!==6?(v=Yp(T,b.mode,L),v.return=b,v):(v=i(v,T),v.return=b,v)}function l(b,v,T,L){var z=T.type;return z===ca?d(b,v,T.props.children,L,T.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Hi&&f_(z)===v.type)?(L=i(v,T.props),L.ref=Dl(b,v,T),L.return=b,L):(L=Cd(T.type,T.key,T.props,null,b.mode,L),L.ref=Dl(b,v,T),L.return=b,L)}function c(b,v,T,L){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Jp(T,b.mode,L),v.return=b,v):(v=i(v,T.children||[]),v.return=b,v)}function d(b,v,T,L,z){return v===null||v.tag!==7?(v=lo(T,b.mode,L,z),v.return=b,v):(v=i(v,T),v.return=b,v)}function f(b,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yp(""+v,b.mode,T),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hc:return T=Cd(v.type,v.key,v.props,null,b.mode,T),T.ref=Dl(b,null,v),T.return=b,T;case ua:return v=Jp(v,b.mode,T),v.return=b,v;case Hi:var L=v._init;return f(b,L(v._payload),T)}if(zl(v)||Pl(v))return v=lo(v,b.mode,T,null),v.return=b,v;td(b,v)}return null}function p(b,v,T,L){var z=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return z!==null?null:a(b,v,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Hc:return T.key===z?l(b,v,T,L):null;case ua:return T.key===z?c(b,v,T,L):null;case Hi:return z=T._init,p(b,v,z(T._payload),L)}if(zl(T)||Pl(T))return z!==null?null:d(b,v,T,L,null);td(b,T)}return null}function g(b,v,T,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return b=b.get(T)||null,a(v,b,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Hc:return b=b.get(L.key===null?T:L.key)||null,l(v,b,L,z);case ua:return b=b.get(L.key===null?T:L.key)||null,c(v,b,L,z);case Hi:var A=L._init;return g(b,v,T,A(L._payload),z)}if(zl(L)||Pl(L))return b=b.get(T)||null,d(v,b,L,z,null);td(v,L)}return null}function w(b,v,T,L){for(var z=null,A=null,S=v,y=v=0,I=null;S!==null&&y<T.length;y++){S.index>y?(I=S,S=null):I=S.sibling;var C=p(b,S,T[y],L);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(b,S),v=s(C,v,y),A===null?z=C:A.sibling=C,A=C,S=I}if(y===T.length)return n(b,S),lt&&Qs(b,y),z;if(S===null){for(;y<T.length;y++)S=f(b,T[y],L),S!==null&&(v=s(S,v,y),A===null?z=S:A.sibling=S,A=S);return lt&&Qs(b,y),z}for(S=r(b,S);y<T.length;y++)I=g(S,b,y,T[y],L),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?y:I.key),v=s(I,v,y),A===null?z=I:A.sibling=I,A=I);return t&&S.forEach(function(k){return e(b,k)}),lt&&Qs(b,y),z}function E(b,v,T,L){var z=Pl(T);if(typeof z!="function")throw Error(K(150));if(T=z.call(T),T==null)throw Error(K(151));for(var A=z=null,S=v,y=v=0,I=null,C=T.next();S!==null&&!C.done;y++,C=T.next()){S.index>y?(I=S,S=null):I=S.sibling;var k=p(b,S,C.value,L);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(b,S),v=s(k,v,y),A===null?z=k:A.sibling=k,A=k,S=I}if(C.done)return n(b,S),lt&&Qs(b,y),z;if(S===null){for(;!C.done;y++,C=T.next())C=f(b,C.value,L),C!==null&&(v=s(C,v,y),A===null?z=C:A.sibling=C,A=C);return lt&&Qs(b,y),z}for(S=r(b,S);!C.done;y++,C=T.next())C=g(S,b,y,C.value,L),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?y:C.key),v=s(C,v,y),A===null?z=C:A.sibling=C,A=C);return t&&S.forEach(function(D){return e(b,D)}),lt&&Qs(b,y),z}function R(b,v,T,L){if(typeof T=="object"&&T!==null&&T.type===ca&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Hc:e:{for(var z=T.key,A=v;A!==null;){if(A.key===z){if(z=T.type,z===ca){if(A.tag===7){n(b,A.sibling),v=i(A,T.props.children),v.return=b,b=v;break e}}else if(A.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Hi&&f_(z)===A.type){n(b,A.sibling),v=i(A,T.props),v.ref=Dl(b,A,T),v.return=b,b=v;break e}n(b,A);break}else e(b,A);A=A.sibling}T.type===ca?(v=lo(T.props.children,b.mode,L,T.key),v.return=b,b=v):(L=Cd(T.type,T.key,T.props,null,b.mode,L),L.ref=Dl(b,v,T),L.return=b,b=L)}return o(b);case ua:e:{for(A=T.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(b,v.sibling),v=i(v,T.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=Jp(T,b.mode,L),v.return=b,b=v}return o(b);case Hi:return A=T._init,R(b,v,A(T._payload),L)}if(zl(T))return w(b,v,T,L);if(Pl(T))return E(b,v,T,L);td(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(b,v.sibling),v=i(v,T),v.return=b,b=v):(n(b,v),v=Yp(T,b.mode,L),v.return=b,b=v),o(b)):n(b,v)}return R}var Va=bI(!0),AI=bI(!1),rh=ks(null),ih=null,va=null,Uy=null;function $y(){Uy=va=ih=null}function By(t){var e=rh.current;nt(rh),t._currentValue=e}function ig(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ca(t,e){ih=t,Uy=va=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(Uy!==t)if(t={context:t,memoizedValue:e,next:null},va===null){if(ih===null)throw Error(K(308));va=t,ih.dependencies={lanes:0,firstContext:t}}else va=va.next=t;return e}var to=null;function zy(t){to===null?to=[t]:to.push(t)}function CI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ei(t,r)}function Ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function Hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ei(t,n)}return i=r.interleaved,i===null?(e.next=e,zy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ei(t,n)}function Ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Py(t,n)}}function p_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sh(t,e,n,r){var i=t.updateQueue;qi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,E=a;switch(p=e,g=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){f=w.call(g,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,p=typeof w=="function"?w.call(g,f,p):w,p==null)break e;f=ft({},f,p);break e;case 2:qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);go|=o,t.lanes=o,t.memoizedState=f}}function m_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var tc={},jr=ks(tc),Pu=ks(tc),ku=ks(tc);function no(t){if(t===tc)throw Error(K(174));return t}function qy(t,e){switch(Ye(ku,e),Ye(Pu,t),Ye(jr,tc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vm(e,t)}nt(jr),Ye(jr,e)}function ja(){nt(jr),nt(Pu),nt(ku)}function PI(t){no(ku.current);var e=no(jr.current),n=Vm(e,t.type);e!==n&&(Ye(Pu,t),Ye(jr,n))}function Wy(t){Pu.current===t&&(nt(jr),nt(Pu))}var dt=ks(0);function oh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function Ky(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var Td=Ci.ReactCurrentDispatcher,qp=Ci.ReactCurrentBatchConfig,mo=0,ht=null,Ct=null,Dt=null,ah=!1,su=!1,xu=0,iO=0;function Yt(){throw Error(K(321))}function Gy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function Qy(t,e,n,r,i,s){if(mo=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?lO:uO,t=n(r,i),su){s=0;do{if(su=!1,xu=0,25<=s)throw Error(K(301));s+=1,Dt=Ct=null,e.updateQueue=null,Td.current=cO,t=n(r,i)}while(su)}if(Td.current=lh,e=Ct!==null&&Ct.next!==null,mo=0,Dt=Ct=ht=null,ah=!1,e)throw Error(K(300));return t}function Yy(){var t=xu!==0;return xu=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ht.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function ir(){if(Ct===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Dt===null?ht.memoizedState:Dt.next;if(e!==null)Dt=e,Ct=t;else{if(t===null)throw Error(K(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Dt===null?ht.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Ou(t,e){return typeof e=="function"?e(t):e}function Wp(t){var e=ir(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=Ct,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((mo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ht.lanes|=d,go|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,_r(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,go|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kp(t){var e=ir(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_r(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kI(){}function xI(t,e){var n=ht,r=ir(),i=e(),s=!_r(r.memoizedState,i);if(s&&(r.memoizedState=i,_n=!0),r=r.queue,Jy(DI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Nu(9,NI.bind(null,n,r,i,e),void 0,null),Lt===null)throw Error(K(349));mo&30||OI(n,e,i)}return i}function OI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NI(t,e,n,r){e.value=n,e.getSnapshot=r,LI(e)&&MI(t)}function DI(t,e,n){return n(function(){LI(e)&&MI(t)})}function LI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function MI(t){var e=Ei(t,1);e!==null&&vr(e,t,1,-1)}function g_(t){var e=Or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:t},e.queue=t,t=t.dispatch=aO.bind(null,ht,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FI(){return ir().memoizedState}function Sd(t,e,n,r){var i=Or();ht.flags|=t,i.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function af(t,e,n,r){var i=ir();r=r===void 0?null:r;var s=void 0;if(Ct!==null){var o=Ct.memoizedState;if(s=o.destroy,r!==null&&Gy(r,o.deps)){i.memoizedState=Nu(e,n,s,r);return}}ht.flags|=t,i.memoizedState=Nu(1|e,n,s,r)}function y_(t,e){return Sd(8390656,8,t,e)}function Jy(t,e){return af(2048,8,t,e)}function VI(t,e){return af(4,2,t,e)}function jI(t,e){return af(4,4,t,e)}function UI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $I(t,e,n){return n=n!=null?n.concat([t]):null,af(4,4,UI.bind(null,e,t),n)}function Xy(){}function BI(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zI(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function HI(t,e,n){return mo&21?(_r(n,e)||(n=QS(),ht.lanes|=n,go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function sO(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{Be=n,qp.transition=r}}function qI(){return ir().memoizedState}function oO(t,e,n){var r=hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WI(t))KI(e,n);else if(n=CI(t,e,n,r),n!==null){var i=un();vr(n,t,r,i),GI(n,e,r)}}function aO(t,e,n){var r=hs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WI(t))KI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,_r(a,o)){var l=e.interleaved;l===null?(i.next=i,zy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=CI(t,e,i,r),n!==null&&(i=un(),vr(n,t,r,i),GI(n,e,r))}}function WI(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function KI(t,e){su=ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Py(t,n)}}var lh={readContext:rr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},lO={readContext:rr,useCallback:function(t,e){return Or().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:y_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4194308,4,UI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sd(4,2,t,e)},useMemo:function(t,e){var n=Or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oO.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Or();return t={current:t},e.memoizedState=t},useState:g_,useDebugValue:Xy,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=g_(!1),e=t[0];return t=sO.bind(null,t[1]),Or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=Or();if(lt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Lt===null)throw Error(K(349));mo&30||OI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,y_(DI.bind(null,r,s,t),[t]),r.flags|=2048,Nu(9,NI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Or(),e=Lt.identifierPrefix;if(lt){var n=ci,r=ui;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uO={readContext:rr,useCallback:BI,useContext:rr,useEffect:Jy,useImperativeHandle:$I,useInsertionEffect:VI,useLayoutEffect:jI,useMemo:zI,useReducer:Wp,useRef:FI,useState:function(){return Wp(Ou)},useDebugValue:Xy,useDeferredValue:function(t){var e=ir();return HI(e,Ct.memoizedState,t)},useTransition:function(){var t=Wp(Ou)[0],e=ir().memoizedState;return[t,e]},useMutableSource:kI,useSyncExternalStore:xI,useId:qI,unstable_isNewReconciler:!1},cO={readContext:rr,useCallback:BI,useContext:rr,useEffect:Jy,useImperativeHandle:$I,useInsertionEffect:VI,useLayoutEffect:jI,useMemo:zI,useReducer:Kp,useRef:FI,useState:function(){return Kp(Ou)},useDebugValue:Xy,useDeferredValue:function(t){var e=ir();return Ct===null?e.memoizedState=t:HI(e,Ct.memoizedState,t)},useTransition:function(){var t=Kp(Ou)[0],e=ir().memoizedState;return[t,e]},useMutableSource:kI,useSyncExternalStore:xI,useId:qI,unstable_isNewReconciler:!1};function ur(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lf={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),i=hs(t),s=pi(r,i);s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(vr(e,t,i,r),Ed(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),i=hs(t),s=pi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(vr(e,t,i,r),Ed(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=hs(t),i=pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=cs(t,i,r),e!==null&&(vr(e,t,r,n),Ed(e,t,r))}};function v_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bu(n,r)||!bu(i,s):!0}function QI(t,e,n){var r=!1,i=_s,s=e.contextType;return typeof s=="object"&&s!==null?s=rr(s):(i=Tn(e)?fo:rn.current,r=e.contextTypes,s=(r=r!=null)?Ma(t,i):_s),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function w_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lf.enqueueReplaceState(e,e.state,null)}function og(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rr(s):(s=Tn(e)?fo:rn.current,i.context=Ma(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lf.enqueueReplaceState(i,i.state,null),sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ua(t,e){try{var n="",r=e;do n+=Vk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ag(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dO=typeof WeakMap=="function"?WeakMap:Map;function YI(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ch||(ch=!0,yg=r),ag(t,e)},n}function JI(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ag(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ag(t,e),typeof r!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function __(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bO.bind(null,t,e,n),e.then(t,t))}function E_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,cs(n,e,1))),n.lanes|=1),t)}var hO=Ci.ReactCurrentOwner,_n=!1;function ln(t,e,n,r){e.child=t===null?AI(e,null,n,r):Va(e,t.child,n,r)}function S_(t,e,n,r,i){n=n.render;var s=e.ref;return Ca(e,i),r=Qy(t,e,n,r,s,i),n=Yy(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(lt&&n&&Fy(e),e.flags|=1,ln(t,e,r,i),e.child)}function I_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ov(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,XI(t,e,s,r,i)):(t=Cd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bu,n(o,r)&&t.ref===e.ref)return Ti(t,e,i)}return e.flags|=1,t=fs(s,r),t.ref=e.ref,t.return=e,e.child=t}function XI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bu(s,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,Ti(t,e,i)}return lg(t,e,n,r,i)}function ZI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(_a,xn),xn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(_a,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ye(_a,xn),xn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ye(_a,xn),xn|=r;return ln(t,e,i,n),e.child}function eb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lg(t,e,n,r,i){var s=Tn(n)?fo:rn.current;return s=Ma(e,s),Ca(e,i),n=Qy(t,e,n,r,s,i),r=Yy(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(lt&&r&&Fy(e),e.flags|=1,ln(t,e,n,i),e.child)}function b_(t,e,n,r,i){if(Tn(n)){var s=!0;eh(e)}else s=!1;if(Ca(e,i),e.stateNode===null)Id(t,e),QI(e,n,r),og(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=rr(c):(c=Tn(n)?fo:rn.current,c=Ma(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&w_(e,o,r,c),qi=!1;var p=e.memoizedState;o.state=p,sh(e,r,o,i),l=e.memoizedState,a!==r||p!==l||En.current||qi?(typeof d=="function"&&(sg(e,n,d,r),l=e.memoizedState),(a=qi||v_(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,RI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ur(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=Tn(n)?fo:rn.current,l=Ma(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&w_(e,o,r,l),qi=!1,p=e.memoizedState,o.state=p,sh(e,r,o,i);var w=e.memoizedState;a!==f||p!==w||En.current||qi?(typeof g=="function"&&(sg(e,n,g,r),w=e.memoizedState),(c=qi||v_(e,n,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ug(t,e,n,r,s,i)}function ug(t,e,n,r,i,s){eb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&c_(e,n,!1),Ti(t,e,s);r=e.stateNode,hO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Va(e,t.child,null,s),e.child=Va(e,null,a,s)):ln(t,e,a,s),e.memoizedState=r.state,i&&c_(e,n,!0),e.child}function tb(t){var e=t.stateNode;e.pendingContext?u_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&u_(t,e.context,!1),qy(t,e.containerInfo)}function A_(t,e,n,r,i){return Fa(),jy(i),e.flags|=256,ln(t,e,n,r),e.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function nb(t,e,n){var r=e.pendingProps,i=dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(dt,i&1),t===null)return rg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=df(o,r,0,null),t=lo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dg(n),e.memoizedState=cg,t):Zy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fs(a,s):(s=lo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?dg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cg,r}return s=t.child,t=s.sibling,r=fs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zy(t,e){return e=df({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nd(t,e,n,r){return r!==null&&jy(r),Va(e,t.child,null,n),t=Zy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Gp(Error(K(422))),nd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=df({mode:"visible",children:r.children},i,0,null),s=lo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Va(e,t.child,null,o),e.child.memoizedState=dg(o),e.memoizedState=cg,s);if(!(e.mode&1))return nd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=Gp(s,r,void 0),nd(t,e,o,r)}if(a=(o&t.childLanes)!==0,_n||a){if(r=Lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ei(t,i),vr(r,t,i,-1))}return sv(),r=Gp(Error(K(421))),nd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nn=us(i.nextSibling),Ln=e,lt=!0,hr=null,t!==null&&(Jn[Xn++]=ui,Jn[Xn++]=ci,Jn[Xn++]=po,ui=t.id,ci=t.overflow,po=e),e=Zy(e,r.children),e.flags|=4096,e)}function C_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ig(t.return,e,n)}function Qp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ln(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C_(t,n,e);else if(t.tag===19)C_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qp(e,!0,n,null,s);break;case"together":Qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=fs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pO(t,e,n){switch(e.tag){case 3:tb(e),Fa();break;case 5:PI(e);break;case 1:Tn(e.type)&&eh(e);break;case 4:qy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(rh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?nb(t,e,n):(Ye(dt,dt.current&1),t=Ti(t,e,n),t!==null?t.sibling:null);Ye(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,ZI(t,e,n)}return Ti(t,e,n)}var ib,hg,sb,ob;ib=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hg=function(){};sb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,no(jr.current);var s=null;switch(n){case"input":i=Dm(t,i),r=Dm(t,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=Fm(t,i),r=Fm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xd)}jm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ob=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ll(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mO(t,e,n){var r=e.pendingProps;switch(Vy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Tn(e.type)&&Zd(),Jt(e),null;case 3:return r=e.stateNode,ja(),nt(En),nt(rn),Ky(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(_g(hr),hr=null))),hg(t,e),Jt(e),null;case 5:Wy(e);var i=no(ku.current);if(n=e.type,t!==null&&e.stateNode!=null)sb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Jt(e),null}if(t=no(jr.current),ed(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mr]=e,r[Ru]=s,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<ql.length;i++)Ze(ql[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":M0(r,s),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",r);break;case"textarea":V0(r,s),Ze("invalid",r)}jm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",""+a]):vu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ze("scroll",r)}switch(n){case"input":qc(r),F0(r,s,!0);break;case"textarea":qc(r),j0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=DS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mr]=e,t[Ru]=r,ib(t,e,!1,!1),e.stateNode=t;e:{switch(o=Um(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<ql.length;i++)Ze(ql[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":M0(t,r),i=Dm(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":V0(t,r),i=Fm(t,r),Ze("invalid",t);break;default:i=r}jm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?FS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&LS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wu(t,l):typeof l=="number"&&wu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ze("scroll",t):l!=null&&Sy(t,s,l,o))}switch(n){case"input":qc(t),F0(t,r,!1);break;case"textarea":qc(t),j0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ws(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Sa(t,!!r.multiple,s,!1):r.defaultValue!=null&&Sa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)ob(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=no(ku.current),no(jr.current),ed(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mr]=e,(s=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=e,e.stateNode=r}return Jt(e),null;case 13:if(nt(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Nn!==null&&e.mode&1&&!(e.flags&128))II(),Fa(),e.flags|=98560,s=!1;else if(s=ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Mr]=e}else Fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),s=!1}else hr!==null&&(_g(hr),hr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Rt===0&&(Rt=3):sv())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return ja(),hg(t,e),t===null&&Au(e.stateNode.containerInfo),Jt(e),null;case 10:return By(e.type._context),Jt(e),null;case 17:return Tn(e.type)&&Zd(),Jt(e),null;case 19:if(nt(dt),s=e.memoizedState,s===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ll(s,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oh(t),o!==null){for(e.flags|=128,Ll(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(dt,dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&_t()>$a&&(e.flags|=128,r=!0,Ll(s,!1),e.lanes=4194304)}else{if(!r)if(t=oh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lt)return Jt(e),null}else 2*_t()-s.renderingStartTime>$a&&n!==1073741824&&(e.flags|=128,r=!0,Ll(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,n=dt.current,Ye(dt,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return iv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function gO(t,e){switch(Vy(e),e.tag){case 1:return Tn(e.type)&&Zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ja(),nt(En),nt(rn),Ky(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wy(e),null;case 13:if(nt(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(dt),null;case 4:return ja(),null;case 10:return By(e.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var rd=!1,en=!1,yO=typeof WeakSet=="function"?WeakSet:Set,te=null;function wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function fg(t,e,n){try{n()}catch(r){yt(t,e,r)}}var R_=!1;function vO(t,e){if(Ym=Qd,t=dI(),My(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jm={focusedElem:t,selectionRange:n},Qd=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,R=w.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?E:ur(e.type,E),R);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(L){yt(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return w=R_,R_=!1,w}function ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fg(e,n,s)}i=i.next}while(i!==r)}}function uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ab(t){var e=t.alternate;e!==null&&(t.alternate=null,ab(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mr],delete e[Ru],delete e[eg],delete e[eO],delete e[tO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lb(t){return t.tag===5||t.tag===3||t.tag===4}function P_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xd));else if(r!==4&&(t=t.child,t!==null))for(mg(t,e,n),t=t.sibling;t!==null;)mg(t,e,n),t=t.sibling}function gg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gg(t,e,n),t=t.sibling;t!==null;)gg(t,e,n),t=t.sibling}var Ut=null,cr=!1;function Ui(t,e,n){for(n=n.child;n!==null;)ub(t,e,n),n=n.sibling}function ub(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(ef,n)}catch{}switch(n.tag){case 5:en||wa(n,e);case 6:var r=Ut,i=cr;Ut=null,Ui(t,e,n),Ut=r,cr=i,Ut!==null&&(cr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(cr?(t=Ut,n=n.stateNode,t.nodeType===8?Bp(t.parentNode,n):t.nodeType===1&&Bp(t,n),Su(t)):Bp(Ut,n.stateNode));break;case 4:r=Ut,i=cr,Ut=n.stateNode.containerInfo,cr=!0,Ui(t,e,n),Ut=r,cr=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fg(n,e,o),i=i.next}while(i!==r)}Ui(t,e,n);break;case 1:if(!en&&(wa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}Ui(t,e,n);break;case 21:Ui(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Ui(t,e,n),en=r):Ui(t,e,n);break;default:Ui(t,e,n)}}function k_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yO),e.forEach(function(r){var i=CO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,cr=!1;break e;case 3:Ut=a.stateNode.containerInfo,cr=!0;break e;case 4:Ut=a.stateNode.containerInfo,cr=!0;break e}a=a.return}if(Ut===null)throw Error(K(160));ub(s,o,i),Ut=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cb(e,t),e=e.sibling}function cb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),kr(t),r&4){try{ou(3,t,t.return),uf(3,t)}catch(E){yt(t,t.return,E)}try{ou(5,t,t.return)}catch(E){yt(t,t.return,E)}}break;case 1:lr(e,t),kr(t),r&512&&n!==null&&wa(n,n.return);break;case 5:if(lr(e,t),kr(t),r&512&&n!==null&&wa(n,n.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(E){yt(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&OS(i,s),Um(a,o);var c=Um(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?FS(i,f):d==="dangerouslySetInnerHTML"?LS(i,f):d==="children"?wu(i,f):Sy(i,d,f,c)}switch(a){case"input":Lm(i,s);break;case"textarea":NS(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Sa(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Sa(i,!!s.multiple,s.defaultValue,!0):Sa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ru]=s}catch(E){yt(t,t.return,E)}}break;case 6:if(lr(e,t),kr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){yt(t,t.return,E)}}break;case 3:if(lr(e,t),kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Su(e.containerInfo)}catch(E){yt(t,t.return,E)}break;case 4:lr(e,t),kr(t);break;case 13:lr(e,t),kr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nv=_t())),r&4&&k_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(en=(c=en)||d,lr(e,t),en=c):lr(e,t),kr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(f=te=d;te!==null;){switch(p=te,g=p.child,p.tag){case 0:case 11:case 14:case 15:ou(4,p,p.return);break;case 1:wa(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(E){yt(r,n,E)}}break;case 5:wa(p,p.return);break;case 22:if(p.memoizedState!==null){O_(f);continue}}g!==null?(g.return=p,te=g):O_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=MS("display",o))}catch(E){yt(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){yt(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lr(e,t),kr(t),r&4&&k_(t);break;case 21:break;default:lr(e,t),kr(t)}}function kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lb(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wu(i,""),r.flags&=-33);var s=P_(t);gg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=P_(t);mg(t,a,o);break;default:throw Error(K(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wO(t,e,n){te=t,db(t)}function db(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||en;a=rd;var c=en;if(rd=o,(en=l)&&!c)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?N_(i):l!==null?(l.return=o,te=l):N_(i);for(;s!==null;)te=s,db(s),s=s.sibling;te=i,rd=a,en=c}x_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):x_(t)}}function x_(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&m_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}m_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Su(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}en||e.flags&512&&pg(e)}catch(p){yt(e,e.return,p)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function O_(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function N_(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uf(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var s=e.return;try{pg(e)}catch(l){yt(e,s,l)}break;case 5:var o=e.return;try{pg(e)}catch(l){yt(e,o,l)}}}catch(l){yt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var _O=Math.ceil,uh=Ci.ReactCurrentDispatcher,ev=Ci.ReactCurrentOwner,tr=Ci.ReactCurrentBatchConfig,De=0,Lt=null,bt=null,Ht=0,xn=0,_a=ks(0),Rt=0,Du=null,go=0,cf=0,tv=0,au=null,yn=null,nv=0,$a=1/0,oi=null,ch=!1,yg=null,ds=null,id=!1,es=null,dh=0,lu=0,vg=null,bd=-1,Ad=0;function un(){return De&6?_t():bd!==-1?bd:bd=_t()}function hs(t){return t.mode&1?De&2&&Ht!==0?Ht&-Ht:rO.transition!==null?(Ad===0&&(Ad=QS()),Ad):(t=Be,t!==0||(t=window.event,t=t===void 0?16:nI(t.type)),t):1}function vr(t,e,n,r){if(50<lu)throw lu=0,vg=null,Error(K(185));Xu(t,n,r),(!(De&2)||t!==Lt)&&(t===Lt&&(!(De&2)&&(cf|=n),Rt===4&&Gi(t,Ht)),Sn(t,r),n===1&&De===0&&!(e.mode&1)&&($a=_t()+500,of&&xs()))}function Sn(t,e){var n=t.callbackNode;rx(t,e);var r=Gd(t,t===Lt?Ht:0);if(r===0)n!==null&&B0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B0(n),e===1)t.tag===0?nO(D_.bind(null,t)):EI(D_.bind(null,t)),Xx(function(){!(De&6)&&xs()}),n=null;else{switch(YS(r)){case 1:n=Ry;break;case 4:n=KS;break;case 16:n=Kd;break;case 536870912:n=GS;break;default:n=Kd}n=wb(n,hb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hb(t,e){if(bd=-1,Ad=0,De&6)throw Error(K(327));var n=t.callbackNode;if(Ra()&&t.callbackNode!==n)return null;var r=Gd(t,t===Lt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hh(t,r);else{e=r;var i=De;De|=2;var s=pb();(Lt!==t||Ht!==e)&&(oi=null,$a=_t()+500,ao(t,e));do try{SO();break}catch(a){fb(t,a)}while(!0);$y(),uh.current=s,De=i,bt!==null?e=0:(Lt=null,Ht=0,e=Rt)}if(e!==0){if(e===2&&(i=qm(t),i!==0&&(r=i,e=wg(t,i))),e===1)throw n=Du,ao(t,0),Gi(t,r),Sn(t,_t()),n;if(e===6)Gi(t,r);else{if(i=t.current.alternate,!(r&30)&&!EO(i)&&(e=hh(t,r),e===2&&(s=qm(t),s!==0&&(r=s,e=wg(t,s))),e===1))throw n=Du,ao(t,0),Gi(t,r),Sn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Ys(t,yn,oi);break;case 3:if(Gi(t,r),(r&130023424)===r&&(e=nv+500-_t(),10<e)){if(Gd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zm(Ys.bind(null,t,yn,oi),e);break}Ys(t,yn,oi);break;case 4:if(Gi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-yr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_O(r/1960))-r,10<r){t.timeoutHandle=Zm(Ys.bind(null,t,yn,oi),r);break}Ys(t,yn,oi);break;case 5:Ys(t,yn,oi);break;default:throw Error(K(329))}}}return Sn(t,_t()),t.callbackNode===n?hb.bind(null,t):null}function wg(t,e){var n=au;return t.current.memoizedState.isDehydrated&&(ao(t,e).flags|=256),t=hh(t,e),t!==2&&(e=yn,yn=n,e!==null&&_g(e)),t}function _g(t){yn===null?yn=t:yn.push.apply(yn,t)}function EO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_r(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e){for(e&=~tv,e&=~cf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function D_(t){if(De&6)throw Error(K(327));Ra();var e=Gd(t,0);if(!(e&1))return Sn(t,_t()),null;var n=hh(t,e);if(t.tag!==0&&n===2){var r=qm(t);r!==0&&(e=r,n=wg(t,r))}if(n===1)throw n=Du,ao(t,0),Gi(t,e),Sn(t,_t()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ys(t,yn,oi),Sn(t,_t()),null}function rv(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&($a=_t()+500,of&&xs())}}function yo(t){es!==null&&es.tag===0&&!(De&6)&&Ra();var e=De;De|=1;var n=tr.transition,r=Be;try{if(tr.transition=null,Be=1,t)return t()}finally{Be=r,tr.transition=n,De=e,!(De&6)&&xs()}}function iv(){xn=_a.current,nt(_a)}function ao(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Jx(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(Vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zd();break;case 3:ja(),nt(En),nt(rn),Ky();break;case 5:Wy(r);break;case 4:ja();break;case 13:nt(dt);break;case 19:nt(dt);break;case 10:By(r.type._context);break;case 22:case 23:iv()}n=n.return}if(Lt=t,bt=t=fs(t.current,null),Ht=xn=e,Rt=0,Du=null,tv=cf=go=0,yn=au=null,to!==null){for(e=0;e<to.length;e++)if(n=to[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}to=null}return t}function fb(t,e){do{var n=bt;try{if($y(),Td.current=lh,ah){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ah=!1}if(mo=0,Dt=Ct=ht=null,su=!1,xu=0,ev.current=null,n===null||n.return===null){Rt=1,Du=e,bt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=E_(o);if(g!==null){g.flags&=-257,T_(g,o,a,s,e),g.mode&1&&__(s,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var E=new Set;E.add(l),e.updateQueue=E}else w.add(l);break e}else{if(!(e&1)){__(s,c,e),sv();break e}l=Error(K(426))}}else if(lt&&a.mode&1){var R=E_(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),T_(R,o,a,s,e),jy(Ua(l,a));break e}}s=l=Ua(l,a),Rt!==4&&(Rt=2),au===null?au=[s]:au.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=YI(s,l,e);p_(s,b);break e;case 1:a=l;var v=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ds===null||!ds.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=JI(s,a,e);p_(s,L);break e}}s=s.return}while(s!==null)}gb(n)}catch(z){e=z,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function pb(){var t=uh.current;return uh.current=lh,t===null?lh:t}function sv(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Lt===null||!(go&268435455)&&!(cf&268435455)||Gi(Lt,Ht)}function hh(t,e){var n=De;De|=2;var r=pb();(Lt!==t||Ht!==e)&&(oi=null,ao(t,e));do try{TO();break}catch(i){fb(t,i)}while(!0);if($y(),De=n,uh.current=r,bt!==null)throw Error(K(261));return Lt=null,Ht=0,Rt}function TO(){for(;bt!==null;)mb(bt)}function SO(){for(;bt!==null&&!Gk();)mb(bt)}function mb(t){var e=vb(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?gb(t):bt=e,ev.current=null}function gb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gO(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,bt=null;return}}else if(n=mO(n,e,xn),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Rt===0&&(Rt=5)}function Ys(t,e,n){var r=Be,i=tr.transition;try{tr.transition=null,Be=1,IO(t,e,n,r)}finally{tr.transition=i,Be=r}return null}function IO(t,e,n,r){do Ra();while(es!==null);if(De&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ix(t,s),t===Lt&&(bt=Lt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||id||(id=!0,wb(Kd,function(){return Ra(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tr.transition,tr.transition=null;var o=Be;Be=1;var a=De;De|=4,ev.current=null,vO(t,n),cb(n,t),Hx(Jm),Qd=!!Ym,Jm=Ym=null,t.current=n,wO(n),Qk(),De=a,Be=o,tr.transition=s}else t.current=n;if(id&&(id=!1,es=t,dh=i),s=t.pendingLanes,s===0&&(ds=null),Xk(n.stateNode),Sn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ch)throw ch=!1,t=yg,yg=null,t;return dh&1&&t.tag!==0&&Ra(),s=t.pendingLanes,s&1?t===vg?lu++:(lu=0,vg=t):lu=0,xs(),null}function Ra(){if(es!==null){var t=YS(dh),e=tr.transition,n=Be;try{if(tr.transition=null,Be=16>t?16:t,es===null)var r=!1;else{if(t=es,es=null,dh=0,De&6)throw Error(K(331));var i=De;for(De|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:ou(8,d,s)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var p=d.sibling,g=d.return;if(ab(d),d===c){te=null;break}if(p!==null){p.return=g,te=p;break}te=g}}}var w=s.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ou(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,te=b;break e}te=s.return}}var v=t.current;for(te=v;te!==null;){o=te;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,te=T;else e:for(o=v;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uf(9,a)}}catch(z){yt(a,a.return,z)}if(a===o){te=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,te=L;break e}te=a.return}}if(De=i,xs(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(ef,t)}catch{}r=!0}return r}finally{Be=n,tr.transition=e}}return!1}function L_(t,e,n){e=Ua(n,e),e=YI(t,e,1),t=cs(t,e,1),e=un(),t!==null&&(Xu(t,1,e),Sn(t,e))}function yt(t,e,n){if(t.tag===3)L_(t,t,n);else for(;e!==null;){if(e.tag===3){L_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=Ua(n,t),t=JI(e,t,1),e=cs(e,t,1),t=un(),e!==null&&(Xu(e,1,t),Sn(e,t));break}}e=e.return}}function bO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(Ht&n)===n&&(Rt===4||Rt===3&&(Ht&130023424)===Ht&&500>_t()-nv?ao(t,0):tv|=n),Sn(t,e)}function yb(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var n=un();t=Ei(t,e),t!==null&&(Xu(t,e,n),Sn(t,n))}function AO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yb(t,n)}function CO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),yb(t,n)}var vb;vb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,pO(t,e,n);_n=!!(t.flags&131072)}else _n=!1,lt&&e.flags&1048576&&TI(e,nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Id(t,e),t=e.pendingProps;var i=Ma(e,rn.current);Ca(e,n),i=Qy(null,e,r,t,i,n);var s=Yy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(s=!0,eh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hy(e),i.updater=lf,e.stateNode=i,i._reactInternals=e,og(e,r,t,n),e=ug(null,e,r,!0,s,n)):(e.tag=0,lt&&s&&Fy(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PO(r),t=ur(r,t),i){case 0:e=lg(null,e,r,t,n);break e;case 1:e=b_(null,e,r,t,n);break e;case 11:e=S_(null,e,r,t,n);break e;case 14:e=I_(null,e,r,ur(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),lg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),b_(t,e,r,i,n);case 3:e:{if(tb(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,RI(t,e),sh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ua(Error(K(423)),e),e=A_(t,e,r,n,i);break e}else if(r!==i){i=Ua(Error(K(424)),e),e=A_(t,e,r,n,i);break e}else for(Nn=us(e.stateNode.containerInfo.firstChild),Ln=e,lt=!0,hr=null,n=AI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fa(),r===i){e=Ti(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return PI(e),t===null&&rg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xm(r,i)?o=null:s!==null&&Xm(r,s)&&(e.flags|=32),eb(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&rg(e),null;case 13:return nb(t,e,n);case 4:return qy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Va(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),S_(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ye(rh,r._currentValue),r._currentValue=o,s!==null)if(_r(s.value,o)){if(s.children===i.children&&!En.current){e=Ti(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ig(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ig(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ca(e,n),i=rr(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=ur(r,e.pendingProps),i=ur(r.type,i),I_(t,e,r,i,n);case 15:return XI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),Id(t,e),e.tag=1,Tn(r)?(t=!0,eh(e)):t=!1,Ca(e,n),QI(e,r,i),og(e,r,i,n),ug(null,e,r,!0,t,n);case 19:return rb(t,e,n);case 22:return ZI(t,e,n)}throw Error(K(156,e.tag))};function wb(t,e){return WS(t,e)}function RO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,r){return new RO(t,e,n,r)}function ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PO(t){if(typeof t=="function")return ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===by)return 11;if(t===Ay)return 14}return 2}function fs(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ov(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ca:return lo(n.children,i,s,e);case Iy:o=8,i|=8;break;case km:return t=er(12,n,e,i|2),t.elementType=km,t.lanes=s,t;case xm:return t=er(13,n,e,i),t.elementType=xm,t.lanes=s,t;case Om:return t=er(19,n,e,i),t.elementType=Om,t.lanes=s,t;case PS:return df(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CS:o=10;break e;case RS:o=9;break e;case by:o=11;break e;case Ay:o=14;break e;case Hi:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=er(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function lo(t,e,n,r){return t=er(7,t,r,e),t.lanes=n,t}function df(t,e,n,r){return t=er(22,t,r,e),t.elementType=PS,t.lanes=n,t.stateNode={isHidden:!1},t}function Yp(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function Jp(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function av(t,e,n,r,i,s,o,a,l){return t=new kO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=er(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hy(s),t}function xO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ua,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _b(t){if(!t)return _s;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Tn(n))return _I(t,n,e)}return e}function Eb(t,e,n,r,i,s,o,a,l){return t=av(n,r,!0,t,i,s,o,a,l),t.context=_b(null),n=t.current,r=un(),i=hs(n),s=pi(r,i),s.callback=e??null,cs(n,s,i),t.current.lanes=i,Xu(t,i,r),Sn(t,r),t}function hf(t,e,n,r){var i=e.current,s=un(),o=hs(i);return n=_b(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cs(i,e,o),t!==null&&(vr(t,i,o,s),Ed(t,i,o)),o}function fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lv(t,e){M_(t,e),(t=t.alternate)&&M_(t,e)}function OO(){return null}var Tb=typeof reportError=="function"?reportError:function(t){console.error(t)};function uv(t){this._internalRoot=t}ff.prototype.render=uv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));hf(t,e,null,null)};ff.prototype.unmount=uv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yo(function(){hf(null,t,null,null)}),e[_i]=null}};function ff(t){this._internalRoot=t}ff.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ki.length&&e!==0&&e<Ki[n].priority;n++);Ki.splice(n,0,t),n===0&&tI(t)}};function cv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function F_(){}function NO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fh(o);s.call(c)}}var o=Eb(e,r,t,0,null,!1,!1,"",F_);return t._reactRootContainer=o,t[_i]=o.current,Au(t.nodeType===8?t.parentNode:t),yo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=fh(l);a.call(c)}}var l=av(t,0,!1,null,null,!1,!1,"",F_);return t._reactRootContainer=l,t[_i]=l.current,Au(t.nodeType===8?t.parentNode:t),yo(function(){hf(e,l,n,r)}),l}function mf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fh(o);a.call(l)}}hf(e,o,t,i)}else o=NO(n,e,t,i,r);return fh(o)}JS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hl(e.pendingLanes);n!==0&&(Py(e,n|1),Sn(e,_t()),!(De&6)&&($a=_t()+500,xs()))}break;case 13:yo(function(){var r=Ei(t,1);if(r!==null){var i=un();vr(r,t,1,i)}}),lv(t,1)}};ky=function(t){if(t.tag===13){var e=Ei(t,134217728);if(e!==null){var n=un();vr(e,t,134217728,n)}lv(t,134217728)}};XS=function(t){if(t.tag===13){var e=hs(t),n=Ei(t,e);if(n!==null){var r=un();vr(n,t,e,r)}lv(t,e)}};ZS=function(){return Be};eI=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};Bm=function(t,e,n){switch(e){case"input":if(Lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sf(r);if(!i)throw Error(K(90));xS(r),Lm(r,i)}}}break;case"textarea":NS(t,n);break;case"select":e=n.value,e!=null&&Sa(t,!!n.multiple,e,!1)}};US=rv;$S=yo;var DO={usingClientEntryPoint:!1,Events:[ec,pa,sf,VS,jS,rv]},Ml={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LO={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||OO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{ef=sd.inject(LO),Vr=sd}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DO;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(e))throw Error(K(200));return xO(t,e,null,n)};Un.createRoot=function(t,e){if(!cv(t))throw Error(K(299));var n=!1,r="",i=Tb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=av(t,1,!1,null,null,n,!1,r,i),t[_i]=e.current,Au(t.nodeType===8?t.parentNode:t),new uv(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=HS(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return yo(t)};Un.hydrate=function(t,e,n){if(!pf(e))throw Error(K(200));return mf(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!cv(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Tb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Eb(e,null,t,1,n??null,i,!1,s,o),t[_i]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ff(e)};Un.render=function(t,e,n){if(!pf(e))throw Error(K(200));return mf(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!pf(t))throw Error(K(40));return t._reactRootContainer?(yo(function(){mf(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};Un.unstable_batchedUpdates=rv;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pf(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return mf(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function Sb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sb)}catch(t){console.error(t)}}Sb(),SS.exports=Un;var dv=SS.exports;const MO=Yu(dv),FO=dS({__proto__:null,default:MO},[dv]);var V_=dv;Rm.createRoot=V_.createRoot,Rm.hydrateRoot=V_.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function at(){return at=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},at.apply(this,arguments)}var It;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(It||(It={}));const j_="popstate";function VO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Lu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vo(i)}return UO(e,n,null,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ba(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jO(){return Math.random().toString(36).substr(2,8)}function U_(t,e){return{usr:t.state,key:t.key,idx:e}}function Lu(t,e,n,r){return n===void 0&&(n=null),at({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Os(e):e,{state:n,key:e&&e.key||r||jO()})}function vo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Os(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function UO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=It.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(at({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=It.Pop;let R=d(),b=R==null?null:R-c;c=R,l&&l({action:a,location:E.location,delta:b})}function p(R,b){a=It.Push;let v=Lu(E.location,R,b);c=d()+1;let T=U_(v,c),L=E.createHref(v);try{o.pushState(T,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(L)}s&&l&&l({action:a,location:E.location,delta:1})}function g(R,b){a=It.Replace;let v=Lu(E.location,R,b);c=d();let T=U_(v,c),L=E.createHref(v);o.replaceState(T,"",L),s&&l&&l({action:a,location:E.location,delta:0})}function w(R){let b=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof R=="string"?R:vo(R);return v=v.replace(/ $/,"%20"),Ae(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let E={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(j_,f),l=R,()=>{i.removeEventListener(j_,f),l=null}},createHref(R){return e(i,R)},createURL:w,encodeLocation(R){let b=w(R);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:g,go(R){return o.go(R)}};return E}var qe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qe||(qe={}));const $O=new Set(["lazy","caseSensitive","path","id","index","children"]);function BO(t){return t.index===!0}function ph(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ae(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),BO(i)){let l=at({},i,e(i),{id:a});return r[a]=l,l}else{let l=at({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=ph(i.children,e,o,r)),l}})}function Xs(t,e,n){return n===void 0&&(n="/"),Rd(t,e,n,!1)}function Rd(t,e,n,r){let i=typeof e=="string"?Os(e):e,s=nl(i.pathname||"/",n);if(s==null)return null;let o=Ib(t);HO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=tN(s);a=ZO(o[l],c,r)}return a}function zO(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Ib(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ib(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:JO(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bb(s.path))i(s,o,l)}),e}function bb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function HO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qO=/^:[\w-]+$/,WO=3,KO=2,GO=1,QO=10,YO=-2,$_=t=>t==="*";function JO(t,e){let n=t.split("/"),r=n.length;return n.some($_)&&(r+=YO),e&&(r+=KO),n.filter(i=>!$_(i)).reduce((i,s)=>i+(qO.test(s)?WO:s===""?GO:QO),r)}function XO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZO(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=B_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=B_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:mi([s,f.pathname]),pathnameBase:iN(mi([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=mi([s,f.pathnameBase]))}return o}function B_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let E=a[f]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function eN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ba(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ba(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Os(t):t;return{pathname:n?n.startsWith("/")?n:rN(n,e):e,search:sN(r),hash:oN(i)}}function rN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ab(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gf(t,e){let n=Ab(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Os(t):(i=at({},t),Ae(!i.pathname||!i.pathname.includes("?"),Xp("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),Xp("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),Xp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=nN(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const mi=t=>t.join("/").replace(/\/\/+/g,"/"),iN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class mh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function vf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Cb=["post","put","patch","delete"],aN=new Set(Cb),lN=["get",...Cb],uN=new Set(lN),cN=new Set([301,302,303,307,308]),dN=new Set([307,308]),Zp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Rb="remix-router-transitions";function pN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ae(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;i=M=>({hasErrorBoundary:O(M)})}else i=fN;let s={},o=ph(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||vN,d=t.patchRoutesOnNavigation,f=at({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=null,E=null,R=null,b=t.hydrationData!=null,v=Xs(o,t.history.location,l),T=null;if(v==null&&!d){let O=pn(404,{pathname:t.history.location.pathname}),{matches:M,route:V}=Z_(o);v=M,T={[V.id]:O}}v&&!t.hydrationData&&ti(v,o,t.history.location.pathname).active&&(v=null);let L;if(v)if(v.some(O=>O.route.lazy))L=!1;else if(!v.some(O=>O.route.loader))L=!0;else if(f.v7_partialHydration){let O=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null;if(M){let V=v.findIndex(W=>M[W.route.id]!==void 0);L=v.slice(0,V+1).every(W=>!Tg(W.route,O,M))}else L=v.every(V=>!Tg(V.route,O,M))}else L=t.hydrationData!=null;else if(L=!1,v=[],f.v7_partialHydration){let O=ti(null,o,t.history.location.pathname);O.active&&O.matches&&(v=O.matches)}let z,A={historyAction:t.history.action,location:t.history.location,matches:v,initialized:L,navigation:Zp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},S=It.Pop,y=!1,I,C=!1,k=new Map,D=null,P=!1,Te=!1,Vt=[],qn=new Set,je=new Map,Q=0,ue=-1,fe=new Map,Ie=new Set,_e=new Map,Fe=new Map,ut=new Set,rt=new Map,Tt=new Map,Ot;function zo(){if(p=t.history.listen(O=>{let{action:M,location:V,delta:W}=O;if(Ot){Ot(),Ot=void 0;return}Ba(Tt.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=wl({currentLocation:A.location,nextLocation:V,historyAction:M});if(ee&&W!=null){let le=new Promise(pe=>{Ot=pe});t.history.go(W*-1),Ni(ee,{state:"blocked",location:V,proceed(){Ni(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),le.then(()=>t.history.go(W))},reset(){let pe=new Map(A.blockers);pe.set(ee,Fl),it({blockers:pe})}});return}return Pn(M,V)}),n){ON(e,k);let O=()=>NN(e,k);e.addEventListener("pagehide",O),D=()=>e.removeEventListener("pagehide",O)}return A.initialized||Pn(It.Pop,A.location,{initialHydration:!0}),z}function Ho(){p&&p(),D&&D(),g.clear(),I&&I.abort(),A.fetchers.forEach((O,M)=>sr(M)),A.blockers.forEach((O,M)=>Pc(M))}function Jr(O){return g.add(O),()=>g.delete(O)}function it(O,M){M===void 0&&(M={}),A=at({},A,O);let V=[],W=[];f.v7_fetcherPersist&&A.fetchers.forEach((ee,le)=>{ee.state==="idle"&&(ut.has(le)?W.push(le):V.push(le))}),[...g].forEach(ee=>ee(A,{deletedFetchers:W,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),f.v7_fetcherPersist&&(V.forEach(ee=>A.fetchers.delete(ee)),W.forEach(ee=>sr(ee)))}function Wn(O,M,V){var W,ee;let{flushSync:le}=V===void 0?{}:V,pe=A.actionData!=null&&A.navigation.formMethod!=null&&dr(A.navigation.formMethod)&&A.navigation.state==="loading"&&((W=O.state)==null?void 0:W._isRedirect)!==!0,re;M.actionData?Object.keys(M.actionData).length>0?re=M.actionData:re=null:pe?re=A.actionData:re=null;let ie=M.loaderData?J_(A.loaderData,M.loaderData,M.matches||[],M.errors):A.loaderData,J=A.blockers;J.size>0&&(J=new Map(J),J.forEach((be,Ke)=>J.set(Ke,Fl)));let oe=y===!0||A.navigation.formMethod!=null&&dr(A.navigation.formMethod)&&((ee=O.state)==null?void 0:ee._isRedirect)!==!0;a&&(o=a,a=void 0),P||S===It.Pop||(S===It.Push?t.history.push(O,O.state):S===It.Replace&&t.history.replace(O,O.state));let Ee;if(S===It.Pop){let be=k.get(A.location.pathname);be&&be.has(O.pathname)?Ee={currentLocation:A.location,nextLocation:O}:k.has(O.pathname)&&(Ee={currentLocation:O,nextLocation:A.location})}else if(C){let be=k.get(A.location.pathname);be?be.add(O.pathname):(be=new Set([O.pathname]),k.set(A.location.pathname,be)),Ee={currentLocation:A.location,nextLocation:O}}it(at({},M,{actionData:re,loaderData:ie,historyAction:S,location:O,initialized:!0,navigation:Zp,revalidation:"idle",restoreScrollPosition:El(O,M.matches||A.matches),preventScrollReset:oe,blockers:J}),{viewTransitionOpts:Ee,flushSync:le===!0}),S=It.Pop,y=!1,C=!1,P=!1,Te=!1,Vt=[]}async function Xr(O,M){if(typeof O=="number"){t.history.go(O);return}let V=Eg(A.location,A.matches,l,f.v7_prependBasename,O,f.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:W,submission:ee,error:le}=z_(f.v7_normalizeFormMethod,!1,V,M),pe=A.location,re=Lu(A.location,W,M&&M.state);re=at({},re,t.history.encodeLocation(re));let ie=M&&M.replace!=null?M.replace:void 0,J=It.Push;ie===!0?J=It.Replace:ie===!1||ee!=null&&dr(ee.formMethod)&&ee.formAction===A.location.pathname+A.location.search&&(J=It.Replace);let oe=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Ee=(M&&M.flushSync)===!0,be=wl({currentLocation:pe,nextLocation:re,historyAction:J});if(be){Ni(be,{state:"blocked",location:re,proceed(){Ni(be,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Xr(O,M)},reset(){let Ke=new Map(A.blockers);Ke.set(be,Fl),it({blockers:Ke})}});return}return await Pn(J,re,{submission:ee,pendingError:le,preventScrollReset:oe,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:Ee})}function Us(){if(se(),it({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Pn(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Pn(S||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:C===!0})}}async function Pn(O,M,V){I&&I.abort(),I=null,S=O,P=(V&&V.startUninterruptedRevalidation)===!0,ei(A.location,A.matches),y=(V&&V.preventScrollReset)===!0,C=(V&&V.enableViewTransition)===!0;let W=a||o,ee=V&&V.overrideNavigation,le=Xs(W,M,l),pe=(V&&V.flushSync)===!0,re=ti(le,W,M.pathname);if(re.active&&re.matches&&(le=re.matches),!le){let{error:Ue,notFoundMatches:xe,route:Ge}=Qo(M.pathname);Wn(M,{matches:xe,loaderData:{},errors:{[Ge.id]:Ue}},{flushSync:pe});return}if(A.initialized&&!Te&&IN(A.location,M)&&!(V&&V.submission&&dr(V.submission.formMethod))){Wn(M,{matches:le},{flushSync:pe});return}I=new AbortController;let ie=na(t.history,M,I.signal,V&&V.submission),J;if(V&&V.pendingError)J=[Zs(le).route.id,{type:qe.error,error:V.pendingError}];else if(V&&V.submission&&dr(V.submission.formMethod)){let Ue=await qo(ie,M,V.submission,le,re.active,{replace:V.replace,flushSync:pe});if(Ue.shortCircuited)return;if(Ue.pendingActionResult){let[xe,Ge]=Ue.pendingActionResult;if(On(Ge)&&vf(Ge.error)&&Ge.error.status===404){I=null,Wn(M,{matches:Ue.matches,loaderData:{},errors:{[xe]:Ge.error}});return}}le=Ue.matches||le,J=Ue.pendingActionResult,ee=em(M,V.submission),pe=!1,re.active=!1,ie=na(t.history,ie.url,ie.signal)}let{shortCircuited:oe,matches:Ee,loaderData:be,errors:Ke}=await vl(ie,M,le,re.active,ee,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,pe,J);oe||(I=null,Wn(M,at({matches:Ee||le},X_(J),{loaderData:be,errors:Ke})))}async function qo(O,M,V,W,ee,le){le===void 0&&(le={}),se();let pe=kN(M,V);if(it({navigation:pe},{flushSync:le.flushSync===!0}),ee){let J=await zs(W,M.pathname,O.signal);if(J.type==="aborted")return{shortCircuited:!0};if(J.type==="error"){let oe=Zs(J.partialMatches).route.id;return{matches:J.partialMatches,pendingActionResult:[oe,{type:qe.error,error:J.error}]}}else if(J.matches)W=J.matches;else{let{notFoundMatches:oe,error:Ee,route:be}=Qo(M.pathname);return{matches:oe,pendingActionResult:[be.id,{type:qe.error,error:Ee}]}}}let re,ie=Wl(W,M);if(!ie.route.action&&!ie.route.lazy)re={type:qe.error,error:pn(405,{method:O.method,pathname:M.pathname,routeId:ie.route.id})};else if(re=(await Z("action",A,O,[ie],W,null))[ie.route.id],O.signal.aborted)return{shortCircuited:!0};if(ro(re)){let J;return le&&le.replace!=null?J=le.replace:J=G_(re.response.headers.get("Location"),new URL(O.url),l)===A.location.pathname+A.location.search,await Y(O,re,!0,{submission:V,replace:J}),{shortCircuited:!0}}if(ts(re))throw pn(400,{type:"defer-action"});if(On(re)){let J=Zs(W,ie.route.id);return(le&&le.replace)!==!0&&(S=It.Push),{matches:W,pendingActionResult:[J.route.id,re]}}return{matches:W,pendingActionResult:[ie.route.id,re]}}async function vl(O,M,V,W,ee,le,pe,re,ie,J,oe){let Ee=ee||em(M,le),be=le||pe||tE(Ee),Ke=!P&&(!f.v7_partialHydration||!ie);if(W){if(Ke){let st=Wo(oe);it(at({navigation:Ee},st!==void 0?{actionData:st}:{}),{flushSync:J})}let Re=await zs(V,M.pathname,O.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let st=Zs(Re.partialMatches).route.id;return{matches:Re.partialMatches,loaderData:{},errors:{[st]:Re.error}}}else if(Re.matches)V=Re.matches;else{let{error:st,notFoundMatches:ni,route:Fi}=Qo(M.pathname);return{matches:ni,loaderData:{},errors:{[Fi.id]:st}}}}let Ue=a||o,[xe,Ge]=q_(t.history,A,V,be,M,f.v7_partialHydration&&ie===!0,f.v7_skipActionErrorRevalidation,Te,Vt,qn,ut,_e,Ie,Ue,l,oe);if(Zr(Re=>!(V&&V.some(st=>st.route.id===Re))||xe&&xe.some(st=>st.route.id===Re)),ue=++Q,xe.length===0&&Ge.length===0){let Re=xi();return Wn(M,at({matches:V,loaderData:{},errors:oe&&On(oe[1])?{[oe[0]]:oe[1].error}:null},X_(oe),Re?{fetchers:new Map(A.fetchers)}:{}),{flushSync:J}),{shortCircuited:!0}}if(Ke){let Re={};if(!W){Re.navigation=Ee;let st=Wo(oe);st!==void 0&&(Re.actionData=st)}Ge.length>0&&(Re.fetchers=ki(Ge)),it(Re,{flushSync:J})}Ge.forEach(Re=>{Kt(Re.key),Re.controller&&je.set(Re.key,Re.controller)});let Cr=()=>Ge.forEach(Re=>Kt(Re.key));I&&I.signal.addEventListener("abort",Cr);let{loaderResults:Di,fetcherResults:Kn}=await ae(A,V,xe,Ge,O);if(O.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Cr),Ge.forEach(Re=>je.delete(Re.key));let Gn=od(Di);if(Gn)return await Y(O,Gn.result,!0,{replace:re}),{shortCircuited:!0};if(Gn=od(Kn),Gn)return Ie.add(Gn.key),await Y(O,Gn.result,!0,{replace:re}),{shortCircuited:!0};let{loaderData:Li,errors:Mi}=Y_(A,V,Di,oe,Ge,Kn,rt);rt.forEach((Re,st)=>{Re.subscribe(ni=>{(ni||Re.done)&&rt.delete(st)})}),f.v7_partialHydration&&ie&&A.errors&&(Mi=at({},A.errors,Mi));let or=xi(),Rr=Oi(ue),Qn=or||Rr||Ge.length>0;return at({matches:V,loaderData:Li,errors:Mi},Qn?{fetchers:new Map(A.fetchers)}:{})}function Wo(O){if(O&&!On(O[1]))return{[O[0]]:O[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function ki(O){return O.forEach(M=>{let V=A.fetchers.get(M.key),W=Vl(void 0,V?V.data:void 0);A.fetchers.set(M.key,W)}),new Map(A.fetchers)}function $s(O,M,V,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Kt(O);let ee=(W&&W.flushSync)===!0,le=a||o,pe=Eg(A.location,A.matches,l,f.v7_prependBasename,V,f.v7_relativeSplatPath,M,W==null?void 0:W.relative),re=Xs(le,pe,l),ie=ti(re,le,pe);if(ie.active&&ie.matches&&(re=ie.matches),!re){Ne(O,M,pn(404,{pathname:pe}),{flushSync:ee});return}let{path:J,submission:oe,error:Ee}=z_(f.v7_normalizeFormMethod,!0,pe,W);if(Ee){Ne(O,M,Ee,{flushSync:ee});return}let be=Wl(re,J),Ke=(W&&W.preventScrollReset)===!0;if(oe&&dr(oe.formMethod)){Ko(O,M,J,be,re,ie.active,ee,Ke,oe);return}_e.set(O,{routeId:M,path:J}),j(O,M,J,be,re,ie.active,ee,Ke,oe)}async function Ko(O,M,V,W,ee,le,pe,re,ie){se(),_e.delete(O);function J(ct){if(!ct.route.action&&!ct.route.lazy){let Pr=pn(405,{method:ie.formMethod,pathname:V,routeId:M});return Ne(O,M,Pr,{flushSync:pe}),!0}return!1}if(!le&&J(W))return;let oe=A.fetchers.get(O);ce(O,xN(ie,oe),{flushSync:pe});let Ee=new AbortController,be=na(t.history,V,Ee.signal,ie);if(le){let ct=await zs(ee,V,be.signal);if(ct.type==="aborted")return;if(ct.type==="error"){Ne(O,M,ct.error,{flushSync:pe});return}else if(ct.matches){if(ee=ct.matches,W=Wl(ee,V),J(W))return}else{Ne(O,M,pn(404,{pathname:V}),{flushSync:pe});return}}je.set(O,Ee);let Ke=Q,xe=(await Z("action",A,be,[W],ee,O))[W.route.id];if(be.signal.aborted){je.get(O)===Ee&&je.delete(O);return}if(f.v7_fetcherPersist&&ut.has(O)){if(ro(xe)||On(xe)){ce(O,Bi(void 0));return}}else{if(ro(xe))if(je.delete(O),ue>Ke){ce(O,Bi(void 0));return}else return Ie.add(O),ce(O,Vl(ie)),Y(be,xe,!1,{fetcherSubmission:ie,preventScrollReset:re});if(On(xe)){Ne(O,M,xe.error);return}}if(ts(xe))throw pn(400,{type:"defer-action"});let Ge=A.navigation.location||A.location,Cr=na(t.history,Ge,Ee.signal),Di=a||o,Kn=A.navigation.state!=="idle"?Xs(Di,A.navigation.location,l):A.matches;Ae(Kn,"Didn't find any matches after fetcher action");let Gn=++Q;fe.set(O,Gn);let Li=Vl(ie,xe.data);A.fetchers.set(O,Li);let[Mi,or]=q_(t.history,A,Kn,ie,Ge,!1,f.v7_skipActionErrorRevalidation,Te,Vt,qn,ut,_e,Ie,Di,l,[W.route.id,xe]);or.filter(ct=>ct.key!==O).forEach(ct=>{let Pr=ct.key,Jo=A.fetchers.get(Pr),xc=Vl(void 0,Jo?Jo.data:void 0);A.fetchers.set(Pr,xc),Kt(Pr),ct.controller&&je.set(Pr,ct.controller)}),it({fetchers:new Map(A.fetchers)});let Rr=()=>or.forEach(ct=>Kt(ct.key));Ee.signal.addEventListener("abort",Rr);let{loaderResults:Qn,fetcherResults:Re}=await ae(A,Kn,Mi,or,Cr);if(Ee.signal.aborted)return;Ee.signal.removeEventListener("abort",Rr),fe.delete(O),je.delete(O),or.forEach(ct=>je.delete(ct.key));let st=od(Qn);if(st)return Y(Cr,st.result,!1,{preventScrollReset:re});if(st=od(Re),st)return Ie.add(st.key),Y(Cr,st.result,!1,{preventScrollReset:re});let{loaderData:ni,errors:Fi}=Y_(A,Kn,Qn,void 0,or,Re,rt);if(A.fetchers.has(O)){let ct=Bi(xe.data);A.fetchers.set(O,ct)}Oi(Gn),A.navigation.state==="loading"&&Gn>ue?(Ae(S,"Expected pending action"),I&&I.abort(),Wn(A.navigation.location,{matches:Kn,loaderData:ni,errors:Fi,fetchers:new Map(A.fetchers)})):(it({errors:Fi,loaderData:J_(A.loaderData,ni,Kn,Fi),fetchers:new Map(A.fetchers)}),Te=!1)}async function j(O,M,V,W,ee,le,pe,re,ie){let J=A.fetchers.get(O);ce(O,Vl(ie,J?J.data:void 0),{flushSync:pe});let oe=new AbortController,Ee=na(t.history,V,oe.signal);if(le){let xe=await zs(ee,V,Ee.signal);if(xe.type==="aborted")return;if(xe.type==="error"){Ne(O,M,xe.error,{flushSync:pe});return}else if(xe.matches)ee=xe.matches,W=Wl(ee,V);else{Ne(O,M,pn(404,{pathname:V}),{flushSync:pe});return}}je.set(O,oe);let be=Q,Ue=(await Z("loader",A,Ee,[W],ee,O))[W.route.id];if(ts(Ue)&&(Ue=await fv(Ue,Ee.signal,!0)||Ue),je.get(O)===oe&&je.delete(O),!Ee.signal.aborted){if(ut.has(O)){ce(O,Bi(void 0));return}if(ro(Ue))if(ue>be){ce(O,Bi(void 0));return}else{Ie.add(O),await Y(Ee,Ue,!1,{preventScrollReset:re});return}if(On(Ue)){Ne(O,M,Ue.error);return}Ae(!ts(Ue),"Unhandled fetcher deferred data"),ce(O,Bi(Ue.data))}}async function Y(O,M,V,W){let{submission:ee,fetcherSubmission:le,preventScrollReset:pe,replace:re}=W===void 0?{}:W;M.response.headers.has("X-Remix-Revalidate")&&(Te=!0);let ie=M.response.headers.get("Location");Ae(ie,"Expected a Location header on the redirect Response"),ie=G_(ie,new URL(O.url),l);let J=Lu(A.location,ie,{_isRedirect:!0});if(n){let xe=!1;if(M.response.headers.has("X-Remix-Reload-Document"))xe=!0;else if(hv.test(ie)){const Ge=t.history.createURL(ie);xe=Ge.origin!==e.location.origin||nl(Ge.pathname,l)==null}if(xe){re?e.location.replace(ie):e.location.assign(ie);return}}I=null;let oe=re===!0||M.response.headers.has("X-Remix-Replace")?It.Replace:It.Push,{formMethod:Ee,formAction:be,formEncType:Ke}=A.navigation;!ee&&!le&&Ee&&be&&Ke&&(ee=tE(A.navigation));let Ue=ee||le;if(dN.has(M.response.status)&&Ue&&dr(Ue.formMethod))await Pn(oe,J,{submission:at({},Ue,{formAction:ie}),preventScrollReset:pe||y,enableViewTransition:V?C:void 0});else{let xe=em(J,ee);await Pn(oe,J,{overrideNavigation:xe,fetcherSubmission:le,preventScrollReset:pe||y,enableViewTransition:V?C:void 0})}}async function Z(O,M,V,W,ee,le){let pe,re={};try{pe=await wN(c,O,M,V,W,ee,le,s,i)}catch(ie){return W.forEach(J=>{re[J.route.id]={type:qe.error,error:ie}}),re}for(let[ie,J]of Object.entries(pe))if(bN(J)){let oe=J.result;re[ie]={type:qe.redirect,response:TN(oe,V,ie,ee,l,f.v7_relativeSplatPath)}}else re[ie]=await EN(J);return re}async function ae(O,M,V,W,ee){let le=O.matches,pe=Z("loader",O,ee,V,M,null),re=Promise.all(W.map(async oe=>{if(oe.matches&&oe.match&&oe.controller){let be=(await Z("loader",O,na(t.history,oe.path,oe.controller.signal),[oe.match],oe.matches,oe.key))[oe.match.route.id];return{[oe.key]:be}}else return Promise.resolve({[oe.key]:{type:qe.error,error:pn(404,{pathname:oe.path})}})})),ie=await pe,J=(await re).reduce((oe,Ee)=>Object.assign(oe,Ee),{});return await Promise.all([RN(M,ie,ee.signal,le,O.loaderData),PN(M,J,W)]),{loaderResults:ie,fetcherResults:J}}function se(){Te=!0,Vt.push(...Zr()),_e.forEach((O,M)=>{je.has(M)&&qn.add(M),Kt(M)})}function ce(O,M,V){V===void 0&&(V={}),A.fetchers.set(O,M),it({fetchers:new Map(A.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Ne(O,M,V,W){W===void 0&&(W={});let ee=Zs(A.matches,M);sr(O),it({errors:{[ee.route.id]:V},fetchers:new Map(A.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function an(O){return f.v7_fetcherPersist&&(Fe.set(O,(Fe.get(O)||0)+1),ut.has(O)&&ut.delete(O)),A.fetchers.get(O)||hN}function sr(O){let M=A.fetchers.get(O);je.has(O)&&!(M&&M.state==="loading"&&fe.has(O))&&Kt(O),_e.delete(O),fe.delete(O),Ie.delete(O),ut.delete(O),qn.delete(O),A.fetchers.delete(O)}function Bs(O){if(f.v7_fetcherPersist){let M=(Fe.get(O)||0)-1;M<=0?(Fe.delete(O),ut.add(O)):Fe.set(O,M)}else sr(O);it({fetchers:new Map(A.fetchers)})}function Kt(O){let M=je.get(O);M&&(M.abort(),je.delete(O))}function Go(O){for(let M of O){let V=an(M),W=Bi(V.data);A.fetchers.set(M,W)}}function xi(){let O=[],M=!1;for(let V of Ie){let W=A.fetchers.get(V);Ae(W,"Expected fetcher: "+V),W.state==="loading"&&(Ie.delete(V),O.push(V),M=!0)}return Go(O),M}function Oi(O){let M=[];for(let[V,W]of fe)if(W<O){let ee=A.fetchers.get(V);Ae(ee,"Expected fetcher: "+V),ee.state==="loading"&&(Kt(V),fe.delete(V),M.push(V))}return Go(M),M.length>0}function _p(O,M){let V=A.blockers.get(O)||Fl;return Tt.get(O)!==M&&Tt.set(O,M),V}function Pc(O){A.blockers.delete(O),Tt.delete(O)}function Ni(O,M){let V=A.blockers.get(O)||Fl;Ae(V.state==="unblocked"&&M.state==="blocked"||V.state==="blocked"&&M.state==="blocked"||V.state==="blocked"&&M.state==="proceeding"||V.state==="blocked"&&M.state==="unblocked"||V.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+M.state);let W=new Map(A.blockers);W.set(O,M),it({blockers:W})}function wl(O){let{currentLocation:M,nextLocation:V,historyAction:W}=O;if(Tt.size===0)return;Tt.size>1&&Ba(!1,"A router only supports one blocker at a time");let ee=Array.from(Tt.entries()),[le,pe]=ee[ee.length-1],re=A.blockers.get(le);if(!(re&&re.state==="proceeding")&&pe({currentLocation:M,nextLocation:V,historyAction:W}))return le}function Qo(O){let M=pn(404,{pathname:O}),V=a||o,{matches:W,route:ee}=Z_(V);return Zr(),{notFoundMatches:W,route:ee,error:M}}function Zr(O){let M=[];return rt.forEach((V,W)=>{(!O||O(W))&&(V.cancel(),M.push(W),rt.delete(W))}),M}function _l(O,M,V){if(w=O,R=M,E=V||null,!b&&A.navigation===Zp){b=!0;let W=El(A.location,A.matches);W!=null&&it({restoreScrollPosition:W})}return()=>{w=null,R=null,E=null}}function Yo(O,M){return E&&E(O,M.map(W=>zO(W,A.loaderData)))||O.key}function ei(O,M){if(w&&R){let V=Yo(O,M);w[V]=R()}}function El(O,M){if(w){let V=Yo(O,M),W=w[V];if(typeof W=="number")return W}return null}function ti(O,M,V){if(d)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:Rd(M,V,l,!0)}}else return{active:!0,matches:Rd(M,V,l,!0)||[]};return{active:!1,matches:null}}async function zs(O,M,V){if(!d)return{type:"success",matches:O};let W=O;for(;;){let ee=a==null,le=a||o,pe=s;try{await d({path:M,matches:W,patch:(J,oe)=>{V.aborted||K_(J,oe,le,pe,i)}})}catch(J){return{type:"error",error:J,partialMatches:W}}finally{ee&&!V.aborted&&(o=[...o])}if(V.aborted)return{type:"aborted"};let re=Xs(le,M,l);if(re)return{type:"success",matches:re};let ie=Rd(le,M,l,!0);if(!ie||W.length===ie.length&&W.every((J,oe)=>J.route.id===ie[oe].route.id))return{type:"success",matches:null};W=ie}}function Hs(O){s={},a=ph(O,i,void 0,s)}function kc(O,M){let V=a==null;K_(O,M,a||o,s,i),V&&(o=[...o],it({}))}return z={get basename(){return l},get future(){return f},get state(){return A},get routes(){return o},get window(){return e},initialize:zo,subscribe:Jr,enableScrollRestoration:_l,navigate:Xr,fetch:$s,revalidate:Us,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:an,deleteFetcher:Bs,dispose:Ho,getBlocker:_p,deleteBlocker:Pc,patchRoutes:kc,_internalFetchControllers:je,_internalActiveDeferreds:rt,_internalSetRoutes:Hs},z}function mN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Eg(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){c=f;break}}else l=e,c=e[e.length-1];let d=yf(i||".",gf(l,s),nl(t.pathname,n)||t.pathname,a==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c){let f=pv(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(d.search),g=p.getAll("index");p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let w=p.toString();d.search=w?"?"+w:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:mi([n,d.pathname])),vo(d)}function z_(t,e,n,r){if(!r||!mN(r))return{path:n};if(r.formMethod&&!CN(r.formMethod))return{path:n,error:pn(405,{method:r.formMethod})};let i=()=>({path:n,error:pn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=xb(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!dr(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[E,R]=w;return""+g+E+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!dr(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Ae(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Sg(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Sg(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Q_(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Q_(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(dr(d.formMethod))return{path:n,submission:d};let f=Os(n);return e&&f.search&&pv(f.search)&&l.append("index",""),f.search="?"+l,{path:vo(f),submission:d}}function H_(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function q_(t,e,n,r,i,s,o,a,l,c,d,f,p,g,w,E){let R=E?On(E[1])?E[1].error:E[1].data:void 0,b=t.createURL(e.location),v=t.createURL(i),T=n;s&&e.errors?T=H_(n,Object.keys(e.errors)[0],!0):E&&On(E[1])&&(T=H_(n,E[0]));let L=E?E[1].statusCode:void 0,z=o&&L&&L>=400,A=T.filter((y,I)=>{let{route:C}=y;if(C.lazy)return!0;if(C.loader==null)return!1;if(s)return Tg(C,e.loaderData,e.errors);if(gN(e.loaderData,e.matches[I],y)||l.some(P=>P===y.route.id))return!0;let k=e.matches[I],D=y;return W_(y,at({currentUrl:b,currentParams:k.params,nextUrl:v,nextParams:D.params},r,{actionResult:R,actionStatus:L,defaultShouldRevalidate:z?!1:a||b.pathname+b.search===v.pathname+v.search||b.search!==v.search||Pb(k,D)}))}),S=[];return f.forEach((y,I)=>{if(s||!n.some(Te=>Te.route.id===y.routeId)||d.has(I))return;let C=Xs(g,y.path,w);if(!C){S.push({key:I,routeId:y.routeId,path:y.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(I),D=Wl(C,y.path),P=!1;p.has(I)?P=!1:c.has(I)?(c.delete(I),P=!0):k&&k.state!=="idle"&&k.data===void 0?P=a:P=W_(D,at({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:R,actionStatus:L,defaultShouldRevalidate:z?!1:a})),P&&S.push({key:I,routeId:y.routeId,path:y.path,matches:C,match:D,controller:new AbortController})}),[A,S]}function Tg(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function gN(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Pb(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function W_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function K_(t,e,n,r,i){var s;let o;if(t){let c=r[t];Ae(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(d=>kb(c,d))),l=ph(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function kb(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>kb(n,s))}):!1}async function yN(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ae(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ba(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!$O.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,at({},e(i),{lazy:void 0}))}async function vN(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function wN(t,e,n,r,i,s,o,a,l,c){let d=s.map(g=>g.route.lazy?yN(g.route,l,a):void 0),f=s.map((g,w)=>{let E=d[w],R=i.some(v=>v.route.id===g.route.id);return at({},g,{shouldLoad:R,resolve:async v=>(v&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(R=!0),R?_N(e,r,g,E,v,c):Promise.resolve({type:qe.data,result:void 0}))})}),p=await t({matches:f,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return p}async function _N(t,e,n,r,i,s){let o,a,l=c=>{let d,f=new Promise((w,E)=>d=E);a=()=>d(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(i?i(E=>p(E)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,f])};try{let c=n.route[t];if(r)if(c){let d,[f]=await Promise.all([l(c).catch(p=>{d=p}),r]);if(d!==void 0)throw d;o=f}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw pn(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:qe.data,result:void 0};else if(c)o=await l(c);else{let d=new URL(e.url),f=d.pathname+d.search;throw pn(404,{pathname:f})}Ae(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:qe.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function EN(t){let{result:e,type:n}=t;if(Ob(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:qe.error,error:d}}return n===qe.error?{type:qe.error,error:new mh(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:qe.data,data:c,statusCode:e.status,headers:e.headers}}if(n===qe.error){if(eE(e)){var r;if(e.data instanceof Error){var i;return{type:qe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new mh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:qe.error,error:e,statusCode:vf(e)?e.status:void 0}}if(AN(e)){var s,o;return{type:qe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(eE(e)){var a,l;return{type:qe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:qe.data,data:e}}function TN(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ae(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!hv.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Eg(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function G_(t,e,n){if(hv.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=nl(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function na(t,e,n,r){let i=t.createURL(xb(e)).toString(),s={signal:n};if(r&&dr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Sg(r.formData):s.body=r.formData}return new Request(i,s)}function Sg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Q_(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function SN(t,e,n,r,i){let s={},o=null,a,l=!1,c={},d=n&&On(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let p=f.route.id,g=e[p];if(Ae(!ro(g),"Cannot handle redirect results in processLoaderData"),On(g)){let w=g.error;d!==void 0&&(w=d,d=void 0),o=o||{};{let E=Zs(t,p);o[E.route.id]==null&&(o[E.route.id]=w)}s[p]=void 0,l||(l=!0,a=vf(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else ts(g)?(r.set(p,g.deferredData),s[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(s[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Y_(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=SN(e,n,r,o);return i.forEach(c=>{let{key:d,match:f,controller:p}=c,g=s[d];if(Ae(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(On(g)){let w=Zs(t.matches,f==null?void 0:f.route.id);l&&l[w.route.id]||(l=at({},l,{[w.route.id]:g.error})),t.fetchers.delete(d)}else if(ro(g))Ae(!1,"Unhandled fetcher revalidation redirect");else if(ts(g))Ae(!1,"Unhandled fetcher deferred data");else{let w=Bi(g.data);t.fetchers.set(d,w)}}),{loaderData:a,errors:l}}function J_(t,e,n,r){let i=at({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function X_(t){return t?On(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Zs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Z_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new mh(t||500,a,new Error(l),!0)}function od(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ro(i))return{key:r,result:i}}}function xb(t){let e=typeof t=="string"?Os(t):t;return vo(at({},e,{hash:""}))}function IN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function bN(t){return Ob(t.result)&&cN.has(t.result.status)}function ts(t){return t.type===qe.deferred}function On(t){return t.type===qe.error}function ro(t){return(t&&t.type)===qe.redirect}function eE(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function AN(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Ob(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function CN(t){return uN.has(t.toLowerCase())}function dr(t){return aN.has(t.toLowerCase())}async function RN(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let d=r.find(p=>p.route.id===c.route.id),f=d!=null&&!Pb(d,c)&&(i&&i[c.route.id])!==void 0;ts(l)&&f&&await fv(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function PN(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&ts(a)&&(Ae(o,"Expected an AbortController for revalidating fetcher deferred result"),await fv(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function fv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:qe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:qe.error,error:i}}return{type:qe.data,data:t.deferredData.data}}}function pv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Wl(t,e){let n=typeof e=="string"?Os(e).search:e.search;if(t[t.length-1].route.index&&pv(n||""))return t[t.length-1];let r=Ab(t);return r[r.length-1]}function tE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function em(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kN(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Bi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ON(t,e){try{let n=t.sessionStorage.getItem(Rb);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function NN(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Rb,JSON.stringify(n))}catch(r){Ba(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(this,arguments)}const wf=N.createContext(null),Nb=N.createContext(null),Ns=N.createContext(null),mv=N.createContext(null),Ri=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Db=N.createContext(null);function DN(t,e){let{relative:n}=e===void 0?{}:e;rl()||Ae(!1);let{basename:r,navigator:i}=N.useContext(Ns),{hash:s,pathname:o,search:a}=Mb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:mi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function rl(){return N.useContext(mv)!=null}function nc(){return rl()||Ae(!1),N.useContext(mv).location}function Lb(t){N.useContext(Ns).static||N.useLayoutEffect(t)}function rc(){let{isDataRoute:t}=N.useContext(Ri);return t?GN():LN()}function LN(){rl()||Ae(!1);let t=N.useContext(wf),{basename:e,future:n,navigator:r}=N.useContext(Ns),{matches:i}=N.useContext(Ri),{pathname:s}=nc(),o=JSON.stringify(gf(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return Lb(()=>{a.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=yf(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:mi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const MN=N.createContext(null);function FN(t){let e=N.useContext(Ri).outlet;return e&&N.createElement(MN.Provider,{value:t},e)}function Mb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Ns),{matches:i}=N.useContext(Ri),{pathname:s}=nc(),o=JSON.stringify(gf(i,r.v7_relativeSplatPath));return N.useMemo(()=>yf(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function VN(t,e,n,r){rl()||Ae(!1);let{navigator:i}=N.useContext(Ns),{matches:s}=N.useContext(Ri),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=nc(),d;d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let g=Xs(t,{pathname:p});return zN(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:mi([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:mi([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function jN(){let t=KN(),e=vf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const UN=N.createElement(jN,null);class $N extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Ri.Provider,{value:this.props.routeContext},N.createElement(Db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BN(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(wf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Ri.Provider,{value:e},r)}function zN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ae(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,w=!1,E=null,R=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||UN,l&&(c<0&&p===0?(QN("route-fallback"),w=!0,R=null):c===p&&(w=!0,R=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),v=()=>{let T;return g?T=E:w?T=R:f.route.Component?T=N.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,N.createElement(BN,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement($N,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var Fb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Fb||{}),yh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yh||{});function HN(t){let e=N.useContext(wf);return e||Ae(!1),e}function qN(t){let e=N.useContext(Nb);return e||Ae(!1),e}function WN(t){let e=N.useContext(Ri);return e||Ae(!1),e}function Vb(t){let e=WN(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function KN(){var t;let e=N.useContext(Db),n=qN(yh.UseRouteError),r=Vb(yh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function GN(){let{router:t}=HN(Fb.UseNavigateStable),e=Vb(yh.UseNavigateStable),n=N.useRef(!1);return Lb(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gh({fromRouteId:e},s)))},[t,e])}const nE={};function QN(t,e,n){nE[t]||(nE[t]=!0)}const rE={};function YN(t,e){rE[e]||(rE[e]=!0,console.warn(e))}const ra=(t,e,n)=>YN(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function JN(t,e){t!=null&&t.v7_startTransition||ra("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&ra("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||ra("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||ra("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||ra("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||ra("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function XN(t){let{to:e,replace:n,state:r,relative:i}=t;rl()||Ae(!1);let{future:s,static:o}=N.useContext(Ns),{matches:a}=N.useContext(Ri),{pathname:l}=nc(),c=rc(),d=yf(e,gf(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function vh(t){return FN(t.context)}function ZN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=It.Pop,navigator:s,static:o=!1,future:a}=t;rl()&&Ae(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:gh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Os(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:w="default"}=r,E=N.useMemo(()=>{let R=nl(d,l);return R==null?null:{location:{pathname:R,search:f,hash:p,state:g,key:w},navigationType:i}},[l,d,f,p,g,w,i]);return E==null?null:N.createElement(Ns.Provider,{value:c},N.createElement(mv.Provider,{children:n,value:E}))}new Promise(()=>{});function eD(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:N.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}function tD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rD(t,e){return t.button===0&&(!e||e==="_self")&&!nD(t)}const iD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sD="6";try{window.__reactRouterVersion=sD}catch{}function oD(t,e){return pN({basename:void 0,future:Mu({},void 0,{v7_prependBasename:!0}),history:VO({window:void 0}),hydrationData:aD(),routes:t,mapRouteProperties:eD,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function aD(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Mu({},e,{errors:lD(e.errors)})),e}function lD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new mh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const uD=N.createContext({isTransitioning:!1}),cD=N.createContext(new Map),dD="startTransition",iE=bk[dD],hD="flushSync",sE=FO[hD];function fD(t){iE?iE(t):t()}function jl(t){sE?sE(t):t()}let pD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function mD(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=N.useState(n.state),[o,a]=N.useState(),[l,c]=N.useState({isTransitioning:!1}),[d,f]=N.useState(),[p,g]=N.useState(),[w,E]=N.useState(),R=N.useRef(new Map),{v7_startTransition:b}=r||{},v=N.useCallback(y=>{b?fD(y):y()},[b]),T=N.useCallback((y,I)=>{let{deletedFetchers:C,flushSync:k,viewTransitionOpts:D}=I;C.forEach(Te=>R.current.delete(Te)),y.fetchers.forEach((Te,Vt)=>{Te.data!==void 0&&R.current.set(Vt,Te.data)});let P=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||P){k?jl(()=>s(y)):v(()=>s(y));return}if(k){jl(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let Te=n.window.document.startViewTransition(()=>{jl(()=>s(y))});Te.finished.finally(()=>{jl(()=>{f(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),jl(()=>g(Te));return}p?(d&&d.resolve(),p.skipTransition(),E({state:y,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(y),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,p,d,R,v]);N.useLayoutEffect(()=>n.subscribe(T),[n,T]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new pD)},[l]),N.useEffect(()=>{if(d&&o&&n.window){let y=o,I=d.promise,C=n.window.document.startViewTransition(async()=>{v(()=>s(y)),await I});C.finished.finally(()=>{f(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(C)}},[v,o,d,n.window]),N.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,p,i.location,o]),N.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))},[l.isTransitioning,w]),N.useEffect(()=>{},[]);let L=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,I,C)=>n.navigate(y,{state:I,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(y,I,C)=>n.navigate(y,{replace:!0,state:I,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[n]),z=n.basename||"/",A=N.useMemo(()=>({router:n,navigator:L,static:!1,basename:z}),[n,L,z]),S=N.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return N.useEffect(()=>JN(r,n.future),[r,n.future]),N.createElement(N.Fragment,null,N.createElement(wf.Provider,{value:A},N.createElement(Nb.Provider,{value:i},N.createElement(cD.Provider,{value:R.current},N.createElement(uD.Provider,{value:l},N.createElement(ZN,{basename:z,location:i.location,navigationType:i.historyAction,navigator:L,future:S},i.initialized||n.future.v7_partialHydration?N.createElement(gD,{routes:n.routes,future:n.future,state:i}):e))))),null)}const gD=N.memo(yD);function yD(t){let{routes:e,future:n,state:r}=t;return VN(e,void 0,r,n)}const vD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=tD(e,iD),{basename:g}=N.useContext(Ns),w,E=!1;if(typeof c=="string"&&wD.test(c)&&(w=c,vD))try{let T=new URL(window.location.href),L=c.startsWith("//")?new URL(T.protocol+c):new URL(c),z=nl(L.pathname,g);L.origin===T.origin&&z!=null?c=z+L.search+L.hash:E=!0}catch{}let R=DN(c,{relative:i}),b=_D(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function v(T){r&&r(T),T.defaultPrevented||b(T)}return N.createElement("a",Mu({},p,{href:w||R,onClick:E||s?r:v,ref:n,target:l}))});var oE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oE||(oE={}));var aE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aE||(aE={}));function _D(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=rc(),c=nc(),d=Mb(t,{relative:o});return N.useCallback(f=>{if(rD(f,n)){f.preventDefault();let p=r!==void 0?r:vo(c)===vo(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const jb=N.createContext(),ED=({children:t})=>{const[e,n]=N.useState(()=>{const o=sessionStorage.getItem("user");return o?JSON.parse(o):null});N.useEffect(()=>{e?sessionStorage.setItem("user",JSON.stringify(e)):sessionStorage.removeItem("user")},[e]),N.useEffect(()=>{const o=()=>{n(null)};return window.addEventListener("beforeunload",o),()=>{window.removeEventListener("beforeunload",o)}},[]);const r=o=>n(o),i=()=>n(null),s=!!e;return x.jsx(jb.Provider,{value:{user:e,login:r,logout:i,isAuthenticated:s},children:t})},ic=()=>N.useContext(jb),Ub="/RyMApi/assets/Rick_Icon-CkK4g8ES.png",TD=({fill:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t,viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",children:x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1.003 1.003 0 0 0 0-1.42l-2.34-2.34a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.82z"})}),SD=()=>{const[t,e]=N.useState(!1),[n,r]=N.useState("Morty"),[i,s]=N.useState(!1),[o,a]=N.useState(!1),l=N.useRef(null),c=N.useRef(null),d={Rick:"Rick",Morty:"Morty"},f=w=>{r(w),document.body.classList.remove(...Object.values(d)),document.body.classList.add(w),localStorage.setItem("theme",w)};N.useEffect(()=>{const E=localStorage.getItem("theme")||d.Morty;f(E)},[]),N.useEffect(()=>{const w=E=>{l.current&&!l.current.contains(E.target)&&s(!1),c.current&&!c.current.contains(E.target)&&a(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const p=()=>{const w=n===d.Rick?d.Morty:d.Rick;f(w),a(!1)},g=n===d.Rick?"#fff":"#000";return x.jsxs("header",{className:"navbar",role:"banner",children:[x.jsx("h1",{className:"navbar-logo",children:x.jsx(gn,{to:"/","aria-label":"Go to homepage",children:x.jsx("img",{src:Ub,alt:"Paimon icon"})})}),x.jsxs("nav",{className:"navbar-menu",ref:l,"aria-label":"Main menu",children:[x.jsx("button",{className:"navbar-menu-trigger","aria-expanded":i,"aria-controls":"menu-list",onClick:()=>s(w=>!w),children:"Menu"}),i&&x.jsxs("ul",{id:"menu-list",className:"navbar-menu-dropdown",role:"menu",children:[x.jsx("li",{children:x.jsx(gn,{to:"/regions",role:"menuitem",children:"Regions"})}),x.jsx("li",{children:x.jsx(gn,{to:"/characters",role:"menuitem",children:"Characters"})}),x.jsx("li",{children:x.jsx(gn,{to:"/enemies",role:"menuitem",children:"Enemies"})}),x.jsx("li",{children:x.jsx(gn,{to:"/community",role:"menuitem",children:"Community"})})]})]}),x.jsx("section",{className:"navbar-auth",children:t?x.jsxs(x.Fragment,{children:[x.jsx(gn,{to:"/profile","aria-label":"Go to profile",children:"Profile"}),x.jsx("button",{onClick:()=>e(!1),children:"Log Out"})]}):x.jsx(gn,{to:"/login","aria-label":"Go to login page",children:x.jsx("button",{children:"Login"})})}),x.jsx("section",{className:"navbar-theme",ref:c,children:x.jsx("button",{className:"theme-button","aria-label":`Switch theme. Current: ${n}`,title:`Switch theme. Current: ${n}`,onClick:p,children:x.jsx(TD,{fill:g})})})]})},$b=()=>x.jsx("footer",{children:x.jsx(gn,{to:"/contact",children:"Contact"})}),ID=({mainStyle:t})=>x.jsxs("section",{className:"public-layout",children:[x.jsx(SD,{className:"navbar"}),x.jsx("main",{style:t,children:x.jsx(vh,{})}),x.jsx($b,{className:"footer"})]}),bD=()=>{};var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new CD;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(t){const e=Bb(t);return zb.encodeByteArray(e,!0)},wh=function(t){return RD(t).replace(/\./g,"")},Hb=function(t){try{return zb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=()=>PD().__FIREBASE_DEFAULTS__,xD=()=>{if(typeof process>"u"||typeof lE>"u")return;const t=lE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hb(t[1]);return e&&JSON.parse(e)},_f=()=>{try{return bD()||kD()||xD()||OD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qb=t=>{var e,n;return(n=(e=_f())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ND=t=>{const e=qb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wb=()=>{var t;return(t=_f())===null||t===void 0?void 0:t.config},Kb=t=>{var e;return(e=_f())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){return t.endsWith(".cloudworkstations.dev")}async function Gb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wh(JSON.stringify(n)),wh(JSON.stringify(o)),""].join(".")}const uu={};function MD(){const t={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?t.emulator.push(e):t.prod.push(e);return t}function FD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let uE=!1;function Ef(t,e){if(typeof window>"u"||typeof document>"u"||!sc(window.location.host)||uu[t]===e||uu[t]||uE)return;uu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=MD().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{uE=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=FD(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),R=document.getElementById(E)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(R,E);const L=c();l(v,b),T.append(v,w,R,L),document.body.appendChild(T)}s?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function jD(){var t;const e=(t=_f())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $D(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BD(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zD(){return!jD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yb(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function HD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="FirebaseError";class br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qD,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xo.prototype.create)}}class xo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?WD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new br(i,a,r)}}function WD(t,e){return t.replace(KD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KD=/\{\$([^}]+)}/g;function GD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Es(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(cE(s)&&cE(o)){if(!Es(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QD(t,e){const n=new YD(t,e);return n.subscribe.bind(n)}class YD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tm),i.error===void 0&&(i.error=tm),i.complete===void 0&&(i.complete=tm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=1e3,ZD=2,eL=4*60*60*1e3,tL=.5;function dE(t,e=XD,n=ZD){const r=e*Math.pow(n,t),i=Math.round(tL*r*(Math.random()-.5)*2);return Math.min(eL,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iL(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rL(t){return t===Js?void 0:t}function iL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const oL={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},aL=Pe.INFO,lL={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},uL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=aL,this._logHandler=uL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const cL=(t,e)=>e.some(n=>t instanceof n);let hE,fE;function dL(){return hE||(hE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hL(){return fE||(fE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,Ig=new WeakMap,Zb=new WeakMap,nm=new WeakMap,gv=new WeakMap;function fL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ps(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xb.set(n,t)}).catch(()=>{}),gv.set(e,t),e}function pL(t){if(Ig.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ig.set(t,e)}let bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mL(t){bg=t(bg)}function gL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rm(this),e,...n);return Zb.set(r,e.sort?e.sort():[e]),ps(r)}:hL().includes(t)?function(...e){return t.apply(rm(this),e),ps(Xb.get(this))}:function(...e){return ps(t.apply(rm(this),e))}}function yL(t){return typeof t=="function"?gL(t):(t instanceof IDBTransaction&&pL(t),cL(t,dL())?new Proxy(t,bg):t)}function ps(t){if(t instanceof IDBRequest)return fL(t);if(nm.has(t))return nm.get(t);const e=yL(t);return e!==t&&(nm.set(t,e),gv.set(e,t)),e}const rm=t=>gv.get(t);function eA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ps(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ps(o.result),l.oldVersion,l.newVersion,ps(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const vL=["get","getKey","getAll","getAllKeys","count"],wL=["put","add","delete","clear"],im=new Map;function pE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return im.set(e,s),s}mL(t=>({...t,get:(e,n,r)=>pE(e,n)||t.get(e,n,r),has:(e,n)=>!!pE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",mE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Tf("@firebase/app"),TL="@firebase/app-compat",SL="@firebase/analytics-compat",IL="@firebase/analytics",bL="@firebase/app-check-compat",AL="@firebase/app-check",CL="@firebase/auth",RL="@firebase/auth-compat",PL="@firebase/database",kL="@firebase/data-connect",xL="@firebase/database-compat",OL="@firebase/functions",NL="@firebase/functions-compat",DL="@firebase/installations",LL="@firebase/installations-compat",ML="@firebase/messaging",FL="@firebase/messaging-compat",VL="@firebase/performance",jL="@firebase/performance-compat",UL="@firebase/remote-config",$L="@firebase/remote-config-compat",BL="@firebase/storage",zL="@firebase/storage-compat",HL="@firebase/firestore",qL="@firebase/vertexai",WL="@firebase/firestore-compat",KL="firebase",GL="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",QL={[Ag]:"fire-core",[TL]:"fire-core-compat",[IL]:"fire-analytics",[SL]:"fire-analytics-compat",[AL]:"fire-app-check",[bL]:"fire-app-check-compat",[CL]:"fire-auth",[RL]:"fire-auth-compat",[PL]:"fire-rtdb",[kL]:"fire-data-connect",[xL]:"fire-rtdb-compat",[OL]:"fire-fn",[NL]:"fire-fn-compat",[DL]:"fire-iid",[LL]:"fire-iid-compat",[ML]:"fire-fcm",[FL]:"fire-fcm-compat",[VL]:"fire-perf",[jL]:"fire-perf-compat",[UL]:"fire-rc",[$L]:"fire-rc-compat",[BL]:"fire-gcs",[zL]:"fire-gcs-compat",[HL]:"fire-fst",[WL]:"fire-fst-compat",[qL]:"fire-vertex","fire-js":"fire-js",[KL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,YL=new Map,Rg=new Map;function gE(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qr(t){const e=t.name;if(Rg.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const n of _h.values())gE(n,t);for(const n of YL.values())gE(n,t);return!0}function Oo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new xo("app","Firebase",JL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=GL;function tA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ms.create("bad-app-name",{appName:String(i)});if(n||(n=Wb()),!n)throw ms.create("no-options");const s=_h.get(i);if(s){if(Es(n,s.options)&&Es(r,s.config))return s;throw ms.create("duplicate-app",{appName:i})}const o=new sL(i);for(const l of Rg.values())o.addComponent(l);const a=new XL(n,r,o);return _h.set(i,a),a}function yv(t=Cg){const e=_h.get(t);if(!e&&t===Cg&&Wb())return tA();if(!e)throw ms.create("no-app",{appName:t});return e}function nr(t,e,n){var r;let i=(r=QL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(a.join(" "));return}qr(new Er(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="firebase-heartbeat-database",eM=1,Fu="firebase-heartbeat-store";let sm=null;function nA(){return sm||(sm=eA(ZL,eM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ms.create("idb-open",{originalErrorMessage:t.message})})),sm}async function tM(t){try{const n=(await nA()).transaction(Fu),r=await n.objectStore(Fu).get(rA(t));return await n.done,r}catch(e){if(e instanceof br)Si.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function yE(t,e){try{const r=(await nA()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,rA(t)),await r.done}catch(n){if(n instanceof br)Si.warn(n.message);else{const r=ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function rA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=1024,rM=30;class iM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>rM){const o=aM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vE(),{heartbeatsToSend:r,unsentEntries:i}=sM(this._heartbeatsCache.heartbeats),s=wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Si.warn(n),""}}}function vE(){return new Date().toISOString().substring(0,10)}function sM(t,e=nM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yb()?Jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wE(t){return wh(JSON.stringify({version:2,heartbeats:t})).length}function aM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){qr(new Er("platform-logger",e=>new _L(e),"PRIVATE")),qr(new Er("heartbeat",e=>new iM(e),"PRIVATE")),nr(Ag,mE,t),nr(Ag,mE,"esm2017"),nr("fire-js","")}lM("");var uM="firebase",cM="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(uM,cM,"app");function vv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dM=iA,sA=new xo("auth","Firebase",iA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Tf("@firebase/auth");function hM(t,...e){Eh.logLevel<=Pe.WARN&&Eh.warn(`Auth (${il}): ${t}`,...e)}function Pd(t,...e){Eh.logLevel<=Pe.ERROR&&Eh.error(`Auth (${il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw wv(t,...e)}function Ur(t,...e){return wv(t,...e)}function oA(t,e,n){const r=Object.assign(Object.assign({},dM()),{[e]:n});return new xo("auth","Firebase",r).create(e,{appName:t.name})}function gi(t){return oA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sA.create(t,...e)}function me(t,e,...n){if(!t)throw wv(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pd(e),new Error(e)}function Ii(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fM(){return _E()==="http:"||_E()==="https:"}function _E(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fM()||Qb()||"connection"in navigator)?navigator.onLine:!0}function mM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=VD()||$D()}get(){return pM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vM=new ac(3e4,6e4);function Ds(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ls(t,e,n,r,i={}){return lA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=oc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return UD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&sc(t.emulatorConfig.host)&&(c.credentials="include"),aA.fetch()(await uA(t,t.config.apiHost,n,a),c)})}async function lA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gM),e);try{const i=new _M(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ad(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ad(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ad(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ad(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oA(t,d,c);Tr(t,d)}}catch(i){if(i instanceof br)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function lc(t,e,n,r,i={}){const s=await Ls(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function uA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?_v(t.config,i):`${t.config.apiScheme}://${i}`;return yM.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function wM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _M{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),vM.get())})}}function ad(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}function EE(t){return t!==void 0&&t.enterprise!==void 0}class EM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TM(t,e){return Ls(t,"GET","/v2/recaptchaConfig",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e){return Ls(t,"POST","/v1/accounts:delete",e)}async function Th(t,e){return Ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IM(t,e=!1){const n=xt(t),r=await n.getIdToken(e),i=Ev(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cu(om(i.auth_time)),issuedAtTime:cu(om(i.iat)),expirationTime:cu(om(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function om(t){return Number(t)*1e3}function Ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hb(n);return i?JSON.parse(i):(Pd("Failed to decode base64 JWT payload"),null)}catch(i){return Pd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TE(t){const e=Ev(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof br&&bM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Vu(t,Th(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?cA(s.providerUserInfo):[],a=RM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function CM(t){const e=xt(t);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cA(t){return t.map(e=>{var{providerId:n}=e,r=vv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e){const n=await lA(t,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await uA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kM(t,e){return Ls(t,"POST","/v2/accounts:revokeToken",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=TE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await PM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Pa;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Vu(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IM(this,e)}reload(){return CM(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Vu(this,SM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:L,isAnonymous:z,providerData:A,stsTokenManager:S}=n;me(T&&S,e,"internal-error");const y=Pa.fromJSON(this.name,S);me(typeof T=="string",e,"internal-error"),$i(f,e.name),$i(p,e.name),me(typeof L=="boolean",e,"internal-error"),me(typeof z=="boolean",e,"internal-error"),$i(g,e.name),$i(w,e.name),$i(E,e.name),$i(R,e.name),$i(b,e.name),$i(v,e.name);const I=new mr({uid:T,auth:e,email:p,emailVerified:L,displayName:f,isAnonymous:z,photoURL:w,phoneNumber:g,tenantId:E,stsTokenManager:y,createdAt:b,lastLoginAt:v});return A&&Array.isArray(A)&&(I.providerData=A.map(C=>Object.assign({},C))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pa;i.updateFromServerResponse(n);const s=new mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?cA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Pa;a.updateFromIdToken(r);const l=new mr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;function hi(t){Ii(t instanceof Function,"Expected a class definition");let e=SE.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dA.type="NONE";const IE=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e,n){return`firebase:${t}:${e}:${n}`}class ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kd(this.userKey,i.apiKey,s),this.fullPersistenceKey=kd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ka(hi(IE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||hi(IE);const o=kd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await Th(e,{idToken:d}).catch(()=>{});if(!p)break;f=await mr._fromGetAccountInfoResponse(e,p,d)}else f=mr._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ka(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ka(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yA(e))return"Blackberry";if(vA(e))return"Webos";if(fA(e))return"Safari";if((e.includes("chrome/")||pA(e))&&!e.includes("edge/"))return"Chrome";if(gA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hA(t=sn()){return/firefox\//i.test(t)}function fA(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pA(t=sn()){return/crios\//i.test(t)}function mA(t=sn()){return/iemobile/i.test(t)}function gA(t=sn()){return/android/i.test(t)}function yA(t=sn()){return/blackberry/i.test(t)}function vA(t=sn()){return/webos/i.test(t)}function Tv(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xM(t=sn()){var e;return Tv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OM(){return BD()&&document.documentMode===10}function wA(t=sn()){return Tv(t)||gA(t)||vA(t)||yA(t)||/windows phone/i.test(t)||mA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e=[]){let n;switch(t){case"Browser":n=bE(sn());break;case"Worker":n=`${bE(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e={}){return Ls(t,"GET","/v2/passwordPolicy",Ds(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=6;class MM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AE(this),this.idTokenSubscription=new AE(this),this.beforeStateQueue=new NM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(gi(this));const n=e?xt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DM(this),n=new MM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function No(t){return xt(t)}class AE{constructor(e){this.auth=e,this.observer=null,this.addObserver=QD(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VM(t){Sf=t}function EA(t){return Sf.loadJS(t)}function jM(){return Sf.recaptchaEnterpriseScript}function UM(){return Sf.gapiScript}function $M(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class BM{constructor(){this.enterprise=new zM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HM="recaptcha-enterprise",TA="NO_RECAPTCHA";class qM{constructor(e){this.type=HM,this.auth=No(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{TM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new EM(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;EE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(TA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BM().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&EE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jM();l.length!==0&&(l+=a),EA(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function CE(t,e,n,r=!1,i=!1){const s=new qM(t);let o;if(i)o=TA;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function xg(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await CE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await CE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t,e){const n=Oo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Es(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function KM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GM(t,e,n){const r=No(t);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=SA(e),{host:o,port:a}=QM(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(Es(c,r.config.emulator)&&Es(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,sc(o)?(Ef("Auth",!0),Gb(`${s}//${o}${l}`)):YM()}function SA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QM(t){const e=SA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:RE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:RE(o)}}}function RE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function JM(t,e){return Ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t,e){return lc(t,"POST","/v1/accounts:signInWithPassword",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",Ds(t,e))}async function eF(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Sv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ju(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ju(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,n,"signInWithPassword",XM);case"emailLink":return ZM(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,r,"signUpPassword",JM);case"emailLink":return eF(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return lc(t,"POST","/v1/accounts:signInWithIdp",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="http://localhost";class wo extends Sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:tF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rF(t){const e=Kl(Gl(t)).link,n=e?Kl(Gl(e)).deep_link_id:null,r=Kl(Gl(t)).deep_link_id;return(r?Kl(Gl(r)).link:null)||r||n||e||t}class Iv{constructor(e){var n,r,i,s,o,a;const l=Kl(Gl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=nF((i=l.mode)!==null&&i!==void 0?i:null);me(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rF(e);try{return new Iv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,n){return ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Iv.parseLink(n);return me(r,"argument-error"),ju._fromEmailAndCode(e,r.code,r.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends IA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends uc{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends uc{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends uc{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){return lc(t,"POST","/v1/accounts:signUp",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mr._fromIdTokenResponse(e,r,i),o=PE(r);return new _o({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PE(r);return new _o({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends br{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ih(e,n,r,i)}}function bA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(t,s,e,r):s})}async function sF(t,e,n=!1){const r=await Vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e,n=!1){const{auth:r}=t;if(Zn(r.app))return Promise.reject(gi(r));const i="reauthenticate";try{const s=await Vu(t,bA(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=Ev(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),_o._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(t,e,n=!1){if(Zn(t.app))return Promise.reject(gi(t));const r="signIn",i=await bA(t,r,e),s=await _o._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function aF(t,e){return AA(No(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(t){const e=No(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lF(t,e,n){if(Zn(t.app))return Promise.reject(gi(t));const r=No(t),o=await xg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&CA(t),l}),a=await _o._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function uF(t,e,n){return Zn(t.app)?Promise.reject(gi(t)):aF(xt(t),sl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CA(t),r})}function cF(t,e,n,r){return xt(t).onIdTokenChanged(e,n,r)}function dF(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function hF(t){return xt(t).signOut()}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=1e3,pF=10;class PA extends RA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);OM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PA.type="LOCAL";const mF=PA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA extends RA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kA.type="SESSION";const xA=kA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new If(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await gF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}If.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=bv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function vF(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function wF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _F(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EF(){return OA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firebaseLocalStorageDb",TF=1,Ah="firebaseLocalStorage",DA="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function SF(){const t=indexedDB.deleteDatabase(NA);return new cc(t).toPromise()}function Og(){const t=indexedDB.open(NA,TF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ah,{keyPath:DA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await SF(),e(await Og()))})})}async function kE(t,e,n){const r=bf(t,!0).put({[DA]:e,value:n});return new cc(r).toPromise()}async function IF(t,e){const n=bf(t,!1).get(e),r=await new cc(n).toPromise();return r===void 0?null:r.value}function xE(t,e){const n=bf(t,!0).delete(e);return new cc(n).toPromise()}const bF=800,AF=3;class LA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=If._getInstance(EF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wF(),!this.activeServiceWorker)return;this.sender=new yF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_F()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Og();return await kE(e,bh,"1"),await xE(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bf(i,!1).getAll();return new cc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LA.type="LOCAL";const CF=LA;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t,e){return e?hi(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PF(t){return AA(t.auth,new Av(t),t.bypassAuthState)}function kF(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),oF(n,new Av(t),t.bypassAuthState)}async function xF(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),sF(n,new Av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PF;case"linkViaPopup":case"linkViaRedirect":return xF;case"reauthViaPopup":case"reauthViaRedirect":return kF;default:Tr(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=new ac(2e3,1e4);class Ea extends MA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OF.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="pendingRedirect",xd=new Map;class DF extends MA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const r=await LF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LF(t,e){const n=VF(e),r=FF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function MF(t,e){xd.set(t._key(),e)}function FF(t){return hi(t._redirectPersistence)}function VF(t){return kd(NF,t.config.apiKey,t.name)}async function jF(t,e,n=!1){if(Zn(t.app))return Promise.reject(gi(t));const r=No(t),i=RF(r,e),o=await new DF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=10*60*1e3;class $F{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UF&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}}function OE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e={}){return Ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qF=/^https?/;async function WF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zF(t);for(const n of e)try{if(KF(n))return}catch{}Tr(t,"unauthorized-domain")}function KF(t){const e=Pg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qF.test(n))return!1;if(HF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new ac(3e4,6e4);function NE(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QF(t){return new Promise((e,n)=>{var r,i,s;function o(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(Ur(t,"network-request-failed"))},timeout:GF.get()})}if(!((i=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$r().gapi)===null||s===void 0)&&s.load)o();else{const a=$M("iframefcb");return $r()[a]=()=>{gapi.load?o():n(Ur(t,"network-request-failed"))},EA(`${UM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Od=null,e})}let Od=null;function YF(t){return Od=Od||QF(t),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new ac(5e3,15e3),XF="__/auth/iframe",ZF="emulator/auth/iframe",eV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nV(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_v(e,ZF):`https://${t.config.authDomain}/${XF}`,r={apiKey:e.apiKey,appName:t.name,v:il},i=tV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${oc(r).slice(1)}`}async function rV(t){const e=await YF(t),n=$r().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:nV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ur(t,"network-request-failed"),a=$r().setTimeout(()=>{s(o)},JF.get());function l(){$r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sV=500,oV=600,aV="_blank",lV="http://localhost";class DE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uV(t,e,n,r=sV,i=oV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},iV),{width:r.toString(),height:i.toString(),top:s,left:o}),c=sn().toLowerCase();n&&(a=pA(c)?aV:n),hA(c)&&(e=e||lV,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(xM(c)&&a!=="_self")return cV(e||"",a),new DE(null);const f=window.open(e||"",a,d);me(f,t,"popup-blocked");try{f.focus()}catch{}return new DE(f)}function cV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="__/auth/handler",hV="emulator/auth/handler",fV=encodeURIComponent("fac");async function LE(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:il,eventId:i};if(e instanceof IA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof uc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${fV}=${encodeURIComponent(l)}`:"";return`${pV(t)}?${oc(a).slice(1)}${c}`}function pV({config:t}){return t.emulator?_v(t,hV):`https://${t.authDomain}/${dV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class mV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xA,this._completeRedirectFn=jF,this._overrideRedirectResult=MF}async _openPopup(e,n,r,i){var s;Ii((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await LE(e,n,r,Pg(),i);return uV(e,o,bv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await LE(e,n,r,Pg(),i);return vF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ii(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rV(e),r=new $F(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[am];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wA()||fA()||Tv()}}const gV=mV;var ME="@firebase/auth",FE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wV(t){qr(new Er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_A(t)},c=new FM(r,i,s,l);return KM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qr(new Er("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(r=>new yV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(ME,FE,vV(t)),nr(ME,FE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=5*60,EV=Kb("authIdTokenMaxAge")||_V;let VE=null;const TV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EV)return;const i=n==null?void 0:n.token;VE!==i&&(VE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SV(t=yv()){const e=Oo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WM(t,{popupRedirectResolver:gV,persistence:[CF,mF,xA]}),r=Kb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=TV(s.toString());dF(n,o,()=>o(n.currentUser)),cF(n,a=>o(a))}}const i=qb("auth");return i?GM(n,`http://${i}`):Ef("Auth",!1),n}function IV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ur("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wV("Browser");var jE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,VA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function I(){}I.prototype=y.prototype,S.D=y.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,k,D){for(var P=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)P[Te-2]=arguments[Te];return y.prototype[k].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,I){I||(I=0);var C=Array(16);if(typeof y=="string")for(var k=0;16>k;++k)C[k]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(k=0;16>k;++k)C[k]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=S.g[0],I=S.g[1],k=S.g[2];var D=S.g[3],P=y+(D^I&(k^D))+C[0]+3614090360&4294967295;y=I+(P<<7&4294967295|P>>>25),P=D+(k^y&(I^k))+C[1]+3905402710&4294967295,D=y+(P<<12&4294967295|P>>>20),P=k+(I^D&(y^I))+C[2]+606105819&4294967295,k=D+(P<<17&4294967295|P>>>15),P=I+(y^k&(D^y))+C[3]+3250441966&4294967295,I=k+(P<<22&4294967295|P>>>10),P=y+(D^I&(k^D))+C[4]+4118548399&4294967295,y=I+(P<<7&4294967295|P>>>25),P=D+(k^y&(I^k))+C[5]+1200080426&4294967295,D=y+(P<<12&4294967295|P>>>20),P=k+(I^D&(y^I))+C[6]+2821735955&4294967295,k=D+(P<<17&4294967295|P>>>15),P=I+(y^k&(D^y))+C[7]+4249261313&4294967295,I=k+(P<<22&4294967295|P>>>10),P=y+(D^I&(k^D))+C[8]+1770035416&4294967295,y=I+(P<<7&4294967295|P>>>25),P=D+(k^y&(I^k))+C[9]+2336552879&4294967295,D=y+(P<<12&4294967295|P>>>20),P=k+(I^D&(y^I))+C[10]+4294925233&4294967295,k=D+(P<<17&4294967295|P>>>15),P=I+(y^k&(D^y))+C[11]+2304563134&4294967295,I=k+(P<<22&4294967295|P>>>10),P=y+(D^I&(k^D))+C[12]+1804603682&4294967295,y=I+(P<<7&4294967295|P>>>25),P=D+(k^y&(I^k))+C[13]+4254626195&4294967295,D=y+(P<<12&4294967295|P>>>20),P=k+(I^D&(y^I))+C[14]+2792965006&4294967295,k=D+(P<<17&4294967295|P>>>15),P=I+(y^k&(D^y))+C[15]+1236535329&4294967295,I=k+(P<<22&4294967295|P>>>10),P=y+(k^D&(I^k))+C[1]+4129170786&4294967295,y=I+(P<<5&4294967295|P>>>27),P=D+(I^k&(y^I))+C[6]+3225465664&4294967295,D=y+(P<<9&4294967295|P>>>23),P=k+(y^I&(D^y))+C[11]+643717713&4294967295,k=D+(P<<14&4294967295|P>>>18),P=I+(D^y&(k^D))+C[0]+3921069994&4294967295,I=k+(P<<20&4294967295|P>>>12),P=y+(k^D&(I^k))+C[5]+3593408605&4294967295,y=I+(P<<5&4294967295|P>>>27),P=D+(I^k&(y^I))+C[10]+38016083&4294967295,D=y+(P<<9&4294967295|P>>>23),P=k+(y^I&(D^y))+C[15]+3634488961&4294967295,k=D+(P<<14&4294967295|P>>>18),P=I+(D^y&(k^D))+C[4]+3889429448&4294967295,I=k+(P<<20&4294967295|P>>>12),P=y+(k^D&(I^k))+C[9]+568446438&4294967295,y=I+(P<<5&4294967295|P>>>27),P=D+(I^k&(y^I))+C[14]+3275163606&4294967295,D=y+(P<<9&4294967295|P>>>23),P=k+(y^I&(D^y))+C[3]+4107603335&4294967295,k=D+(P<<14&4294967295|P>>>18),P=I+(D^y&(k^D))+C[8]+1163531501&4294967295,I=k+(P<<20&4294967295|P>>>12),P=y+(k^D&(I^k))+C[13]+2850285829&4294967295,y=I+(P<<5&4294967295|P>>>27),P=D+(I^k&(y^I))+C[2]+4243563512&4294967295,D=y+(P<<9&4294967295|P>>>23),P=k+(y^I&(D^y))+C[7]+1735328473&4294967295,k=D+(P<<14&4294967295|P>>>18),P=I+(D^y&(k^D))+C[12]+2368359562&4294967295,I=k+(P<<20&4294967295|P>>>12),P=y+(I^k^D)+C[5]+4294588738&4294967295,y=I+(P<<4&4294967295|P>>>28),P=D+(y^I^k)+C[8]+2272392833&4294967295,D=y+(P<<11&4294967295|P>>>21),P=k+(D^y^I)+C[11]+1839030562&4294967295,k=D+(P<<16&4294967295|P>>>16),P=I+(k^D^y)+C[14]+4259657740&4294967295,I=k+(P<<23&4294967295|P>>>9),P=y+(I^k^D)+C[1]+2763975236&4294967295,y=I+(P<<4&4294967295|P>>>28),P=D+(y^I^k)+C[4]+1272893353&4294967295,D=y+(P<<11&4294967295|P>>>21),P=k+(D^y^I)+C[7]+4139469664&4294967295,k=D+(P<<16&4294967295|P>>>16),P=I+(k^D^y)+C[10]+3200236656&4294967295,I=k+(P<<23&4294967295|P>>>9),P=y+(I^k^D)+C[13]+681279174&4294967295,y=I+(P<<4&4294967295|P>>>28),P=D+(y^I^k)+C[0]+3936430074&4294967295,D=y+(P<<11&4294967295|P>>>21),P=k+(D^y^I)+C[3]+3572445317&4294967295,k=D+(P<<16&4294967295|P>>>16),P=I+(k^D^y)+C[6]+76029189&4294967295,I=k+(P<<23&4294967295|P>>>9),P=y+(I^k^D)+C[9]+3654602809&4294967295,y=I+(P<<4&4294967295|P>>>28),P=D+(y^I^k)+C[12]+3873151461&4294967295,D=y+(P<<11&4294967295|P>>>21),P=k+(D^y^I)+C[15]+530742520&4294967295,k=D+(P<<16&4294967295|P>>>16),P=I+(k^D^y)+C[2]+3299628645&4294967295,I=k+(P<<23&4294967295|P>>>9),P=y+(k^(I|~D))+C[0]+4096336452&4294967295,y=I+(P<<6&4294967295|P>>>26),P=D+(I^(y|~k))+C[7]+1126891415&4294967295,D=y+(P<<10&4294967295|P>>>22),P=k+(y^(D|~I))+C[14]+2878612391&4294967295,k=D+(P<<15&4294967295|P>>>17),P=I+(D^(k|~y))+C[5]+4237533241&4294967295,I=k+(P<<21&4294967295|P>>>11),P=y+(k^(I|~D))+C[12]+1700485571&4294967295,y=I+(P<<6&4294967295|P>>>26),P=D+(I^(y|~k))+C[3]+2399980690&4294967295,D=y+(P<<10&4294967295|P>>>22),P=k+(y^(D|~I))+C[10]+4293915773&4294967295,k=D+(P<<15&4294967295|P>>>17),P=I+(D^(k|~y))+C[1]+2240044497&4294967295,I=k+(P<<21&4294967295|P>>>11),P=y+(k^(I|~D))+C[8]+1873313359&4294967295,y=I+(P<<6&4294967295|P>>>26),P=D+(I^(y|~k))+C[15]+4264355552&4294967295,D=y+(P<<10&4294967295|P>>>22),P=k+(y^(D|~I))+C[6]+2734768916&4294967295,k=D+(P<<15&4294967295|P>>>17),P=I+(D^(k|~y))+C[13]+1309151649&4294967295,I=k+(P<<21&4294967295|P>>>11),P=y+(k^(I|~D))+C[4]+4149444226&4294967295,y=I+(P<<6&4294967295|P>>>26),P=D+(I^(y|~k))+C[11]+3174756917&4294967295,D=y+(P<<10&4294967295|P>>>22),P=k+(y^(D|~I))+C[2]+718787259&4294967295,k=D+(P<<15&4294967295|P>>>17),P=I+(D^(k|~y))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var I=y-this.blockSize,C=this.B,k=this.h,D=0;D<y;){if(k==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<y;)if(C[k++]=S.charCodeAt(D++),k==this.blockSize){i(this,C),k=0;break}}else for(;D<y;)if(C[k++]=S[D++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var I=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=I&255,I/=256;for(this.u(S),S=Array(16),y=I=0;4>y;++y)for(var C=0;32>C;C+=8)S[I++]=this.g[y]>>>C&255;return S};function s(S,y){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=y(S)}function o(S,y){this.h=y;for(var I=[],C=!0,k=S.length-1;0<=k;k--){var D=S[k]|0;C&&D==y||(I[k]=D,C=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?s(S,function(y){return new o([y|0],0>y?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return R(c(-S));for(var y=[],I=1,C=0;S>=I;C++)y[C]=S/I|0,I*=4294967296;return new o(y,0)}function d(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return R(d(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(y,8)),C=f,k=0;k<S.length;k+=8){var D=Math.min(8,S.length-k),P=parseInt(S.substring(k,k+D),y);8>D?(D=c(Math.pow(y,D)),C=C.j(D).add(c(P))):(C=C.j(I),C=C.add(c(P)))}return C}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-R(this).m();for(var S=0,y=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(E(this))return"-"+R(this).toString(S);for(var y=c(Math.pow(S,6)),I=this,C="";;){var k=L(I,y).g;I=b(I,k.j(y));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=k,w(I))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function E(S){return S.h==-1}t.l=function(S){return S=b(this,S),E(S)?-1:w(S)?0:1};function R(S){for(var y=S.g.length,I=[],C=0;C<y;C++)I[C]=~S.g[C];return new o(I,~S.h).add(p)}t.abs=function(){return E(this)?R(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],C=0,k=0;k<=y;k++){var D=C+(this.i(k)&65535)+(S.i(k)&65535),P=(D>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);C=P>>>16,D&=65535,P&=65535,I[k]=P<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(S,y){return S.add(R(y))}t.j=function(S){if(w(this)||w(S))return f;if(E(this))return E(S)?R(this).j(R(S)):R(R(this).j(S));if(E(S))return R(this.j(R(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var y=this.g.length+S.g.length,I=[],C=0;C<2*y;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<S.g.length;k++){var D=this.i(C)>>>16,P=this.i(C)&65535,Te=S.i(k)>>>16,Vt=S.i(k)&65535;I[2*C+2*k]+=P*Vt,v(I,2*C+2*k),I[2*C+2*k+1]+=D*Vt,v(I,2*C+2*k+1),I[2*C+2*k+1]+=P*Te,v(I,2*C+2*k+1),I[2*C+2*k+2]+=D*Te,v(I,2*C+2*k+2)}for(C=0;C<y;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=y;C<2*y;C++)I[C]=0;return new o(I,0)};function v(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function T(S,y){this.g=S,this.h=y}function L(S,y){if(w(y))throw Error("division by zero");if(w(S))return new T(f,f);if(E(S))return y=L(R(S),y),new T(R(y.g),R(y.h));if(E(y))return y=L(S,R(y)),new T(R(y.g),y.h);if(30<S.g.length){if(E(S)||E(y))throw Error("slowDivide_ only works with positive integers.");for(var I=p,C=y;0>=C.l(S);)I=z(I),C=z(C);var k=A(I,1),D=A(C,1);for(C=A(C,2),I=A(I,2);!w(C);){var P=D.add(C);0>=P.l(S)&&(k=k.add(I),D=P),C=A(C,1),I=A(I,1)}return y=b(S,k.j(y)),new T(k,y)}for(k=f;0<=S.l(y);){for(I=Math.max(1,Math.floor(S.m()/y.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=c(I),P=D.j(y);E(P)||0<P.l(S);)I-=C,D=c(I),P=D.j(y);w(D)&&(D=p),k=k.add(D),S=b(S,P)}return new T(k,S)}t.A=function(S){return L(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],C=0;C<y;C++)I[C]=this.i(C)&S.i(C);return new o(I,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],C=0;C<y;C++)I[C]=this.i(C)|S.i(C);return new o(I,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],C=0;C<y;C++)I[C]=this.i(C)^S.i(C);return new o(I,this.h^S.h)};function z(S){for(var y=S.g.length+1,I=[],C=0;C<y;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(I,S.h)}function A(S,y){var I=y>>5;y%=32;for(var C=S.g.length-I,k=[],D=0;D<C;D++)k[D]=0<y?S.i(D+I)>>>y|S.i(D+I+1)<<32-y:S.i(D+I);return new o(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,gs=o}).apply(typeof jE<"u"?jE:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jA,Ql,UA,Nd,Ng,$A,BA,zA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,m){return u==Array.prototype||u==Object.prototype||(u[h]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var h=0;h<u.length;++h){var m=u[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,h){if(h)e:{var m=r;u=u.split(".");for(var _=0;_<u.length-1;_++){var F=u[_];if(!(F in m))break e;m=m[F]}u=u[u.length-1],_=m[u],h=h(_),h!=_&&h!=null&&e(m,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var m=0,_=!1,F={next:function(){if(!_&&m<u.length){var U=m++;return{value:h(U,u[U]),done:!1}}return _=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function c(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,m){return u.call.apply(u.bind,arguments)}function f(u,h,m){if(!u)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,_),u.apply(h,F)}}return function(){return u.apply(h,arguments)}}function p(u,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(u,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),u.apply(this,_)}}function w(u,h){function m(){}m.prototype=h.prototype,u.aa=h.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(_,F,U){for(var G=Array(arguments.length-2),We=2;We<arguments.length;We++)G[We-2]=arguments[We];return h.prototype[F].apply(_,G)}}function E(u){const h=u.length;if(0<h){const m=Array(h);for(let _=0;_<h;_++)m[_]=u[_];return m}return[]}function R(u,h){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(l(_)){const F=u.length||0,U=_.length||0;u.length=F+U;for(let G=0;G<U;G++)u[F+G]=_[G]}else u.push(_)}}class b{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function L(u){return L[" "](u),u}L[" "]=function(){};var z=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function A(u,h,m){for(const _ in u)h.call(m,u[_],_,u)}function S(u,h){for(const m in u)h.call(void 0,u[m],m,u)}function y(u){const h={};for(const m in u)h[m]=u[m];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,h){let m,_;for(let F=1;F<arguments.length;F++){_=arguments[F];for(m in _)u[m]=_[m];for(let U=0;U<I.length;U++)m=I[U],Object.prototype.hasOwnProperty.call(_,m)&&(u[m]=_[m])}}function k(u){var h=1;u=u.split(":");const m=[];for(;0<h&&u.length;)m.push(u.shift()),h--;return u.length&&m.push(u.join(":")),m}function D(u){a.setTimeout(()=>{throw u},0)}function P(){var u=ue;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class Te{constructor(){this.h=this.g=null}add(h,m){const _=Vt.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}}var Vt=new b(()=>new qn,u=>u.reset());class qn{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let je,Q=!1,ue=new Te,fe=()=>{const u=a.Promise.resolve(void 0);je=()=>{u.then(Ie)}};var Ie=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(m){D(m)}var h=Vt;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}Q=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Fe(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return u}();function rt(u,h){if(Fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,_=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(z){e:{try{L(h.nodeName);var F=!0;break e}catch{}F=!1}F||(h=null)}}else m=="mouseover"?h=u.fromElement:m=="mouseout"&&(h=u.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&rt.aa.h.call(this)}}w(rt,Fe);var Tt={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),zo=0;function Ho(u,h,m,_,F){this.listener=u,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=F,this.key=++zo,this.da=this.fa=!1}function Jr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,h,m,_,F){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var G=Xr(u,h,_,F);return-1<G?(h=u[G],m||(h.fa=!1)):(h=new Ho(h,this.src,U,!!_,F),h.fa=m,u.push(h)),h};function Wn(u,h){var m=h.type;if(m in u.g){var _=u.g[m],F=Array.prototype.indexOf.call(_,h,void 0),U;(U=0<=F)&&Array.prototype.splice.call(_,F,1),U&&(Jr(h),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Xr(u,h,m,_){for(var F=0;F<u.length;++F){var U=u[F];if(!U.da&&U.listener==h&&U.capture==!!m&&U.ha==_)return F}return-1}var Us="closure_lm_"+(1e6*Math.random()|0),Pn={};function qo(u,h,m,_,F){if(Array.isArray(h)){for(var U=0;U<h.length;U++)qo(u,h[U],m,_,F);return null}return m=ae(m),u&&u[Ot]?u.K(h,m,c(_)?!!_.capture:!!_,F):vl(u,h,m,!1,_,F)}function vl(u,h,m,_,F,U){if(!h)throw Error("Invalid event type");var G=c(F)?!!F.capture:!!F,We=Y(u);if(We||(u[Us]=We=new it(u)),m=We.add(h,m,_,G,U),m.proxy)return m;if(_=Wo(),m.proxy=_,_.src=u,_.listener=m,u.addEventListener)ut||(F=G),F===void 0&&(F=!1),u.addEventListener(h.toString(),_,F);else if(u.attachEvent)u.attachEvent(Ko(h.toString()),_);else if(u.addListener&&u.removeListener)u.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Wo(){function u(m){return h.call(u.src,u.listener,m)}const h=j;return u}function ki(u,h,m,_,F){if(Array.isArray(h))for(var U=0;U<h.length;U++)ki(u,h[U],m,_,F);else _=c(_)?!!_.capture:!!_,m=ae(m),u&&u[Ot]?(u=u.i,h=String(h).toString(),h in u.g&&(U=u.g[h],m=Xr(U,m,_,F),-1<m&&(Jr(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete u.g[h],u.h--)))):u&&(u=Y(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Xr(h,m,_,F)),(m=-1<u?h[u]:null)&&$s(m))}function $s(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[Ot])Wn(h.i,u);else{var m=u.type,_=u.proxy;h.removeEventListener?h.removeEventListener(m,_,u.capture):h.detachEvent?h.detachEvent(Ko(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=Y(h))?(Wn(m,u),m.h==0&&(m.src=null,h[Us]=null)):Jr(u)}}}function Ko(u){return u in Pn?Pn[u]:Pn[u]="on"+u}function j(u,h){if(u.da)u=!0;else{h=new rt(h,this);var m=u.listener,_=u.ha||u.src;u.fa&&$s(u),u=m.call(_,h)}return u}function Y(u){return u=u[Us],u instanceof it?u:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function ae(u){return typeof u=="function"?u:(u[Z]||(u[Z]=function(h){return u.handleEvent(h)}),u[Z])}function se(){_e.call(this),this.i=new it(this),this.M=this,this.F=null}w(se,_e),se.prototype[Ot]=!0,se.prototype.removeEventListener=function(u,h,m,_){ki(this,u,h,m,_)};function ce(u,h){var m,_=u.F;if(_)for(m=[];_;_=_.F)m.push(_);if(u=u.M,_=h.type||h,typeof h=="string")h=new Fe(h,u);else if(h instanceof Fe)h.target=h.target||u;else{var F=h;h=new Fe(_,u),C(h,F)}if(F=!0,m)for(var U=m.length-1;0<=U;U--){var G=h.g=m[U];F=Ne(G,_,!0,h)&&F}if(G=h.g=u,F=Ne(G,_,!0,h)&&F,F=Ne(G,_,!1,h)&&F,m)for(U=0;U<m.length;U++)G=h.g=m[U],F=Ne(G,_,!1,h)&&F}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var m=u.g[h],_=0;_<m.length;_++)Jr(m[_]);delete u.g[h],u.h--}}this.F=null},se.prototype.K=function(u,h,m,_){return this.i.add(String(u),h,!1,m,_)},se.prototype.L=function(u,h,m,_){return this.i.add(String(u),h,!0,m,_)};function Ne(u,h,m,_){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var F=!0,U=0;U<h.length;++U){var G=h[U];if(G&&!G.da&&G.capture==m){var We=G.listener,jt=G.ha||G.src;G.fa&&Wn(u.i,G),F=We.call(jt,_)!==!1&&F}}return F&&!_.defaultPrevented}function an(u,h,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function sr(u){u.g=an(()=>{u.g=null,u.i&&(u.i=!1,sr(u))},u.l);const h=u.h;u.h=null,u.m.apply(null,h)}class Bs extends _e{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:sr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(u){_e.call(this),this.h=u,this.g={}}w(Kt,_e);var Go=[];function xi(u){A(u.g,function(h,m){this.g.hasOwnProperty(m)&&$s(h)},u),u.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),xi(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oi=a.JSON.stringify,_p=a.JSON.parse,Pc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ni(){}Ni.prototype.h=null;function wl(u){return u.h||(u.h=u.i())}function Qo(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _l(){Fe.call(this,"d")}w(_l,Fe);function Yo(){Fe.call(this,"c")}w(Yo,Fe);var ei={},El=null;function ti(){return El=El||new se}ei.La="serverreachability";function zs(u){Fe.call(this,ei.La,u)}w(zs,Fe);function Hs(u){const h=ti();ce(h,new zs(h))}ei.STAT_EVENT="statevent";function kc(u,h){Fe.call(this,ei.STAT_EVENT,u),this.stat=h}w(kc,Fe);function O(u){const h=ti();ce(h,new kc(h,u))}ei.Ma="timingevent";function M(u,h){Fe.call(this,ei.Ma,u),this.size=h}w(M,Fe);function V(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function W(){this.g=!0}W.prototype.xa=function(){this.g=!1};function ee(u,h,m,_,F,U){u.info(function(){if(u.g)if(U)for(var G="",We=U.split("&"),jt=0;jt<We.length;jt++){var Le=We[jt].split("=");if(1<Le.length){var Gt=Le[0];Le=Le[1];var Qt=Gt.split("_");G=2<=Qt.length&&Qt[1]=="type"?G+(Gt+"="+Le+"&"):G+(Gt+"=redacted&")}}else G=null;else G=U;return"XMLHTTP REQ ("+_+") [attempt "+F+"]: "+h+`
`+m+`
`+G})}function le(u,h,m,_,F,U,G){u.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+F+"]: "+h+`
`+m+`
`+U+" "+G})}function pe(u,h,m,_){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+ie(u,m)+(_?" "+_:"")})}function re(u,h){u.info(function(){return"TIMEOUT: "+h})}W.prototype.info=function(){};function ie(u,h){if(!u.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var _=m[u];if(!(2>_.length)){var F=_[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var G=1;G<F.length;G++)F[G]=""}}}}return Oi(m)}catch{return h}}var J={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ee;function be(){}w(be,Ni),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},Ee=new be;function Ke(u,h,m,_){this.j=u,this.i=h,this.l=m,this.R=_||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var xe={},Ge={};function Cr(u,h,m){u.L=1,u.v=Dc(ri(h)),u.m=m,u.P=!0,Di(u,null)}function Di(u,h){u.F=Date.now(),Li(u),u.A=ri(u.v);var m=u.A,_=u.R;Array.isArray(_)||(_=[String(_)]),l0(m.i,"t",_),u.C=0,m=u.j.J,u.h=new Ue,u.g=A0(u.j,m?h:null,!u.m),0<u.O&&(u.M=new Bs(p(u.Y,u,u.g),u.O)),h=u.U,m=u.g,_=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Go[0]=F.toString()),F=Go);for(var U=0;U<F.length;U++){var G=qo(m,F[U],_||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),Hs(),ee(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const h=this.M;h&&ii(u)==3?h.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)e:{const Qt=ii(this.g);var h=this.g.Ba();const ea=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||m0(this.g)))){this.J||Qt!=4||h==7||(h==8||0>=ea?Hs(3):Hs(2)),or(this);var m=this.g.Z();this.X=m;t:if(Kn(this)){var _=m0(this.g);u="";var F=_.length,U=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Rr(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<F;h++)this.h.h=!0,u+=this.h.i.decode(_[h],{stream:!(U&&h==F-1)});_.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=m==200,le(this.i,this.u,this.A,this.l,this.R,Qt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var We,jt=this.g;if((We=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(We)){var Le=We;break t}}Le=null}if(m=Le)pe(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Re(this,m);else{this.o=!1,this.s=3,O(12),Qn(this),Rr(this);break e}}if(this.P){m=!0;let ar;for(;!this.J&&this.C<G.length;)if(ar=Gn(this,G),ar==Ge){Qt==4&&(this.s=4,O(14),m=!1),pe(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==xe){this.s=4,O(15),pe(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else pe(this.i,this.l,ar,null),Re(this,ar);if(Kn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||G.length!=0||this.h.h||(this.s=1,O(16),m=!1),this.o=this.o&&m,!m)pe(this.i,this.l,G,"[Invalid Chunked Response]"),Qn(this),Rr(this);else if(0<G.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Ip(Gt),Gt.M=!0,O(11))}}else pe(this.i,this.l,G,null),Re(this,G);Qt==4&&Qn(this),this.o&&!this.J&&(Qt==4?T0(this.j,this):(this.o=!1,Li(this)))}else lk(this.g),m==400&&0<G.indexOf("Unknown SID")?(this.s=3,O(12)):(this.s=0,O(13)),Qn(this),Rr(this)}}}catch{}finally{}};function Kn(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Gn(u,h){var m=u.C,_=h.indexOf(`
`,m);return _==-1?Ge:(m=Number(h.substring(m,_)),isNaN(m)?xe:(_+=1,_+m>h.length?Ge:(h=h.slice(_,_+m),u.C=_+m,h)))}Ke.prototype.cancel=function(){this.J=!0,Qn(this)};function Li(u){u.S=Date.now()+u.I,Mi(u,u.I)}function Mi(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=V(p(u.ba,u),h)}function or(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(re(this.i,this.A),this.L!=2&&(Hs(),O(17)),Qn(this),this.s=2,Rr(this)):Mi(this,this.S-u)};function Rr(u){u.j.G==0||u.J||T0(u.j,u)}function Qn(u){or(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,xi(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function Re(u,h){try{var m=u.j;if(m.G!=0&&(m.g==u||Pr(m.h,u))){if(!u.K&&Pr(m.h,u)&&m.G==3){try{var _=m.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var F=_;if(F[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Uc(m),Vc(m);else break e;Sp(m),O(18)}}else m.za=F[1],0<m.za-m.T&&37500>F[2]&&m.F&&m.v==0&&!m.C&&(m.C=V(p(m.Za,m),6e3));if(1>=ct(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ws(m,11)}else if((u.K||m.g==u)&&Uc(m),!v(h))for(F=m.Da.g.parse(h),h=0;h<F.length;h++){let Le=F[h];if(m.T=Le[0],Le=Le[1],m.G==2)if(Le[0]=="c"){m.K=Le[1],m.ia=Le[2];const Gt=Le[3];Gt!=null&&(m.la=Gt,m.j.info("VER="+m.la));const Qt=Le[4];Qt!=null&&(m.Aa=Qt,m.j.info("SVER="+m.Aa));const ea=Le[5];ea!=null&&typeof ea=="number"&&0<ea&&(_=1.5*ea,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const ar=u.g;if(ar){const Bc=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var U=_.h;U.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Jo(U,U.h),U.h=null))}if(_.D){const bp=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;bp&&(_.ya=bp,Xe(_.I,_.D,bp))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var G=u;if(_.qa=b0(_,_.J?_.ia:null,_.W),G.K){xc(_.h,G);var We=G,jt=_.L;jt&&(We.I=jt),We.B&&(or(We),Li(We)),_.g=G}else _0(_);0<m.i.length&&jc(m)}else Le[0]!="stop"&&Le[0]!="close"||Ws(m,7);else m.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ws(m,7):Tp(m):Le[0]!="noop"&&m.l&&m.l.ta(Le),m.v=0)}}Hs(4)}catch{}}var st=class{constructor(u,h){this.g=u,this.map=h}};function ni(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ct(u){return u.h?1:u.g?u.g.size:0}function Pr(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function Jo(u,h){u.g?u.g.add(h):u.h=h}function xc(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}ni.prototype.cancel=function(){if(this.i=t0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function t0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(const m of u.g.values())h=h.concat(m.D);return h}return E(u.i)}function KP(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var h=[],m=u.length,_=0;_<m;_++)h.push(u[_]);return h}h=[],m=0;for(_ in u)h[m++]=u[_];return h}function GP(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var h=[];u=u.length;for(var m=0;m<u;m++)h.push(m);return h}h=[],m=0;for(const _ in u)h[m++]=_;return h}}}function n0(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var m=GP(u),_=KP(u),F=_.length,U=0;U<F;U++)h.call(void 0,_[U],m&&m[U],u)}var r0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QP(u,h){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var _=u[m].indexOf("="),F=null;if(0<=_){var U=u[m].substring(0,_);F=u[m].substring(_+1)}else U=u[m];h(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function qs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof qs){this.h=u.h,Oc(this,u.j),this.o=u.o,this.g=u.g,Nc(this,u.s),this.l=u.l;var h=u.i,m=new Il;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),i0(this,m),this.m=u.m}else u&&(h=String(u).match(r0))?(this.h=!1,Oc(this,h[1]||"",!0),this.o=Tl(h[2]||""),this.g=Tl(h[3]||"",!0),Nc(this,h[4]),this.l=Tl(h[5]||"",!0),i0(this,h[6]||"",!0),this.m=Tl(h[7]||"")):(this.h=!1,this.i=new Il(null,this.h))}qs.prototype.toString=function(){var u=[],h=this.j;h&&u.push(Sl(h,s0,!0),":");var m=this.g;return(m||h=="file")&&(u.push("//"),(h=this.o)&&u.push(Sl(h,s0,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Sl(m,m.charAt(0)=="/"?XP:JP,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Sl(m,ek)),u.join("")};function ri(u){return new qs(u)}function Oc(u,h,m){u.j=m?Tl(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function Nc(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function i0(u,h,m){h instanceof Il?(u.i=h,tk(u.i,u.h)):(m||(h=Sl(h,ZP)),u.i=new Il(h,u.h))}function Xe(u,h,m){u.i.set(h,m)}function Dc(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tl(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sl(u,h,m){return typeof u=="string"?(u=encodeURI(u).replace(h,YP),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function YP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var s0=/[#\/\?@]/g,JP=/[#\?:]/g,XP=/[#\?]/g,ZP=/[#\?@]/g,ek=/#/g;function Il(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function Vi(u){u.g||(u.g=new Map,u.h=0,u.i&&QP(u.i,function(h,m){u.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Il.prototype,t.add=function(u,h){Vi(this),this.i=null,u=Xo(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(h),this.h+=1,this};function o0(u,h){Vi(u),h=Xo(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function a0(u,h){return Vi(u),h=Xo(u,h),u.g.has(h)}t.forEach=function(u,h){Vi(this),this.g.forEach(function(m,_){m.forEach(function(F){u.call(h,F,_,this)},this)},this)},t.na=function(){Vi(this);const u=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let _=0;_<h.length;_++){const F=u[_];for(let U=0;U<F.length;U++)m.push(h[_])}return m},t.V=function(u){Vi(this);let h=[];if(typeof u=="string")a0(this,u)&&(h=h.concat(this.g.get(Xo(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)h=h.concat(u[m])}return h},t.set=function(u,h){return Vi(this),this.i=null,u=Xo(this,u),a0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},t.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function l0(u,h,m){o0(u,h),0<m.length&&(u.i=null,u.g.set(Xo(u,h),E(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var _=h[m];const U=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var F=U;G[_]!==""&&(F+="="+encodeURIComponent(String(G[_]))),u.push(F)}}return this.i=u.join("&")};function Xo(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function tk(u,h){h&&!u.j&&(Vi(u),u.i=null,u.g.forEach(function(m,_){var F=_.toLowerCase();_!=F&&(o0(this,_),l0(this,F,m))},u)),u.j=h}function nk(u,h){const m=new W;if(a.Image){const _=new Image;_.onload=g(ji,m,"TestLoadImage: loaded",!0,h,_),_.onerror=g(ji,m,"TestLoadImage: error",!1,h,_),_.onabort=g(ji,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=g(ji,m,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=u}else h(!1)}function rk(u,h){const m=new W,_=new AbortController,F=setTimeout(()=>{_.abort(),ji(m,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:_.signal}).then(U=>{clearTimeout(F),U.ok?ji(m,"TestPingServer: ok",!0,h):ji(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(F),ji(m,"TestPingServer: error",!1,h)})}function ji(u,h,m,_,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),_(m)}catch{}}function ik(){this.g=new Pc}function sk(u,h,m){const _=m||"";try{n0(u,function(F,U){let G=F;c(F)&&(G=Oi(F)),h.push(_+U+"="+encodeURIComponent(G))})}catch(F){throw h.push(_+"type="+encodeURIComponent("_badmap")),F}}function Lc(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Lc,Ni),Lc.prototype.g=function(){return new Mc(this.l,this.j)},Lc.prototype.i=function(u){return function(){return u}}({});function Mc(u,h){se.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Mc,se),t=Mc.prototype,t.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Al(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Al(this)),this.g&&(this.readyState=3,Al(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;u0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function u0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?bl(this):Al(this),this.readyState==3&&u0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,bl(this))},t.Qa=function(u){this.g&&(this.response=u,bl(this))},t.ga=function(){this.g&&bl(this)};function bl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Al(u)}t.setRequestHeader=function(u,h){this.u.append(u,h)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=h.next();return u.join(`\r
`)};function Al(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function c0(u){let h="";return A(u,function(m,_){h+=_,h+=":",h+=m,h+=`\r
`}),h}function Ep(u,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=c0(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Xe(u,h,m))}function gt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(gt,se);var ok=/^https?$/i,ak=["POST","PUT"];t=gt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ee.g(),this.v=this.o?wl(this.o):wl(Ee),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(U){d0(this,U);return}if(u=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var F in _)m.set(F,_[F]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const U of _.keys())m.set(U,_.get(U));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ak,h,void 0))||_||F||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,G]of m)this.g.setRequestHeader(U,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{p0(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){d0(this,U)}};function d0(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,h0(u),Fc(u)}function h0(u){u.A||(u.A=!0,ce(u,"complete"),ce(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ce(this,"complete"),ce(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?f0(this):this.bb())},t.bb=function(){f0(this)};function f0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ii(u)!=4||u.Z()!=2)){if(u.u&&ii(u)==4)an(u.Ea,0,u);else if(ce(u,"readystatechange"),ii(u)==4){u.h=!1;try{const G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=G===0){var F=String(u.D).match(r0)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),_=!ok.test(F?F.toLowerCase():"")}m=_}if(m)ce(u,"complete"),ce(u,"success");else{u.m=6;try{var U=2<ii(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",h0(u)}}finally{Fc(u)}}}}function Fc(u,h){if(u.g){p0(u);const m=u.g,_=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||ce(u,"ready");try{m.onreadystatechange=_}catch{}}}function p0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),_p(h)}};function m0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lk(u){const h={};u=(u.g&&2<=ii(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<u.length;_++){if(v(u[_]))continue;var m=k(u[_]);const F=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=h[F]||[];h[F]=U,U.push(m)}S(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cl(u,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||h}function g0(u){this.Aa=0,this.i=[],this.j=new W,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cl("baseRetryDelayMs",5e3,u),this.cb=Cl("retryDelaySeedMs",1e4,u),this.Wa=Cl("forwardChannelMaxRetries",2,u),this.wa=Cl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ni(u&&u.concurrentRequestLimit),this.Da=new ik,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=g0.prototype,t.la=8,t.G=1,t.connect=function(u,h,m,_){O(0),this.W=u,this.H=h||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=b0(this,null,this.W),jc(this)};function Tp(u){if(y0(u),u.G==3){var h=u.U++,m=ri(u.I);if(Xe(m,"SID",u.K),Xe(m,"RID",h),Xe(m,"TYPE","terminate"),Rl(u,m),h=new Ke(u,u.j,h),h.L=2,h.v=Dc(ri(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=A0(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Li(h)}I0(u)}function Vc(u){u.g&&(Ip(u),u.g.cancel(),u.g=null)}function y0(u){Vc(u),u.u&&(a.clearTimeout(u.u),u.u=null),Uc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function jc(u){if(!Fi(u.h)&&!u.s){u.s=!0;var h=u.Ga;je||fe(),Q||(je(),Q=!0),ue.add(h,u),u.B=0}}function uk(u,h){return ct(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=V(p(u.Ga,u,h),S0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Ke(this,this.j,u);let U=this.o;if(this.S&&(U?(U=y(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=w0(this,F,h),m=ri(this.I),Xe(m,"RID",u),Xe(m,"CVER",22),this.D&&Xe(m,"X-HTTP-Session-Id",this.D),Rl(this,m),U&&(this.O?h="headers="+encodeURIComponent(String(c0(U)))+"&"+h:this.m&&Ep(m,this.m,U)),Jo(this.h,F),this.Ua&&Xe(m,"TYPE","init"),this.P?(Xe(m,"$req",h),Xe(m,"SID","null"),F.T=!0,Cr(F,m,null)):Cr(F,m,h),this.G=2}}else this.G==3&&(u?v0(this,u):this.i.length==0||Fi(this.h)||v0(this))};function v0(u,h){var m;h?m=h.l:m=u.U++;const _=ri(u.I);Xe(_,"SID",u.K),Xe(_,"RID",m),Xe(_,"AID",u.T),Rl(u,_),u.m&&u.o&&Ep(_,u.m,u.o),m=new Ke(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),h&&(u.i=h.D.concat(u.i)),h=w0(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Jo(u.h,m),Cr(m,_,h)}function Rl(u,h){u.H&&A(u.H,function(m,_){Xe(h,_,m)}),u.l&&n0({},function(m,_){Xe(h,_,m)})}function w0(u,h,m){m=Math.min(u.i.length,m);var _=u.l?p(u.l.Na,u.l,u):null;e:{var F=u.i;let U=-1;for(;;){const G=["count="+m];U==-1?0<m?(U=F[0].g,G.push("ofs="+U)):U=0:G.push("ofs="+U);let We=!0;for(let jt=0;jt<m;jt++){let Le=F[jt].g;const Gt=F[jt].map;if(Le-=U,0>Le)U=Math.max(0,F[jt].g-100),We=!1;else try{sk(Gt,G,"req"+Le+"_")}catch{_&&_(Gt)}}if(We){_=G.join("&");break e}}}return u=u.i.splice(0,m),h.D=u,_}function _0(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;je||fe(),Q||(je(),Q=!0),ue.add(h,u),u.v=0}}function Sp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=V(p(u.Fa,u),S0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,E0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=V(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,O(10),Vc(this),E0(this))};function Ip(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function E0(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=ri(u.qa);Xe(h,"RID","rpc"),Xe(h,"SID",u.K),Xe(h,"AID",u.T),Xe(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(h,"TO",u.ja),Xe(h,"TYPE","xmlhttp"),Rl(u,h),u.m&&u.o&&Ep(h,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Dc(ri(h)),m.m=null,m.P=!0,Di(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Vc(this),Sp(this),O(19))};function Uc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function T0(u,h){var m=null;if(u.g==h){Uc(u),Ip(u),u.g=null;var _=2}else if(Pr(u.h,h))m=h.D,xc(u.h,h),_=1;else return;if(u.G!=0){if(h.o)if(_==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var F=u.B;_=ti(),ce(_,new M(_,m)),jc(u)}else _0(u);else if(F=h.s,F==3||F==0&&0<h.X||!(_==1&&uk(u,h)||_==2&&Sp(u)))switch(m&&0<m.length&&(h=u.h,h.i=h.i.concat(m)),F){case 1:Ws(u,5);break;case 4:Ws(u,10);break;case 3:Ws(u,6);break;default:Ws(u,2)}}}function S0(u,h){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*h}function Ws(u,h){if(u.j.info("Error code "+h),h==2){var m=p(u.fb,u),_=u.Xa;const F=!_;_=new qs(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oc(_,"https"),Dc(_),F?nk(_.toString(),m):rk(_.toString(),m)}else O(2);u.G=0,u.l&&u.l.sa(h),I0(u),y0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),O(2)):(this.j.info("Failed to ping google.com"),O(1))};function I0(u){if(u.G=0,u.ka=[],u.l){const h=t0(u.h);(h.length!=0||u.i.length!=0)&&(R(u.ka,h),R(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function b0(u,h,m){var _=m instanceof qs?ri(m):new qs(m);if(_.g!="")h&&(_.g=h+"."+_.g),Nc(_,_.s);else{var F=a.location;_=F.protocol,h=h?h+"."+F.hostname:F.hostname,F=+F.port;var U=new qs(null);_&&Oc(U,_),h&&(U.g=h),F&&Nc(U,F),m&&(U.l=m),_=U}return m=u.D,h=u.ya,m&&h&&Xe(_,m,h),Xe(_,"VER",u.la),Rl(u,_),_}function A0(u,h,m){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new gt(new Lc({eb:m})):new gt(u.pa),h.Ha(u.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function C0(){}t=C0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $c(){}$c.prototype.g=function(u,h){return new kn(u,h)};function kn(u,h){se.call(this),this.g=new g0(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!v(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new Zo(this)}w(kn,se),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Tp(this.g)},kn.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Oi(u),u=m);h.i.push(new st(h.Ya++,u)),h.G==3&&jc(h)},kn.prototype.N=function(){this.g.l=null,delete this.j,Tp(this.g),delete this.g,kn.aa.N.call(this)};function R0(u){_l.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(const m in h){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}w(R0,_l);function P0(){Yo.call(this),this.status=1}w(P0,Yo);function Zo(u){this.g=u}w(Zo,C0),Zo.prototype.ua=function(){ce(this.g,"a")},Zo.prototype.ta=function(u){ce(this.g,new R0(u))},Zo.prototype.sa=function(u){ce(this.g,new P0)},Zo.prototype.ra=function(){ce(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,zA=function(){return new $c},BA=function(){return ti()},$A=ei,Ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},J.NO_ERROR=0,J.TIMEOUT=8,J.HTTP_ERROR=6,Nd=J,oe.COMPLETE="complete",UA=oe,Qo.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",se.prototype.listen=se.prototype.K,Ql=Qo,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,jA=gt}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});const UE="@firebase/firestore",$E="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Tf("@firebase/firestore");function sa(){return Eo.logLevel}function X(t,...e){if(Eo.logLevel<=Pe.DEBUG){const n=e.map(Cv);Eo.debug(`Firestore (${ol}): ${t}`,...n)}}function bi(t,...e){if(Eo.logLevel<=Pe.ERROR){const n=e.map(Cv);Eo.error(`Firestore (${ol}): ${t}`,...n)}}function za(t,...e){if(Eo.logLevel<=Pe.WARN){const n=e.map(Cv);Eo.warn(`Firestore (${ol}): ${t}`,...n)}}function Cv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HA(t,r,n)}function HA(t,e,n){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bi(r),new Error(r)}function Ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||HA(e,i,r)}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class AV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CV{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new qA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class RV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new RV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=xV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Dg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Se(r,i);{const s=WA(),o=OV(s.encode(zE(t,n)),s.encode(zE(e,n)));return o!==0?o:Se(r,i)}}n+=r>65535?2:1}return Se(t.length,e.length)}function zE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function OV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Se(t[n],e[n]);return Se(t.length,e.length)}function Ha(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=-62135596800,qE=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qE);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<HE)throw new ne(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qE}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-HE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Pt(0,0))}static max(){return new ye(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="__name__";class Nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Nr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Se(e.length,n.length)}static compareSegments(e,n){const r=Nr.isNumericId(e),i=Nr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):Dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class tt extends Nr{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const NV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Nr{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return NV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WE}static keyField(){return new zt([WE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ne(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ne(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ne(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(tt.fromString(e))}static fromName(e){return new de(tt.fromString(e).popFirst(5))}static empty(){return new de(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function DV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new Ts(i,de.empty(),e)}function LV(t){return new Ts(t.readTime,t.key,Uu)}class Ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(ye.min(),de.empty(),Uu)}static max(){return new Ts(ye.max(),de.empty(),Uu)}}function MV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==FV)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function jV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Af.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-1;function Cf(t){return t==null}function Ch(t){return t===0&&1/t==-1/0}function UV(t){return typeof t=="number"&&Number.isInteger(t)&&!Ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="";function $V(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KE(e)),e=BV(t.get(n),e);return KE(e)}function BV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case GA:n+="";break;default:n+=s}}return n}function KE(t){return t+GA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=s??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QE(this.data.getIterator())}getIteratorFrom(e){return new QE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class QE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new kt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YA("Invalid base64 string: "+s):s}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const zV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=zV.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="server_timestamp",XA="__type__",ZA="__previous_value__",eC="__local_write_time__";function Pv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XA])===null||n===void 0?void 0:n.stringValue)===JA}function Rf(t){const e=t.mapValue.fields[ZA];return Pv(e)?Rf(e):e}function $u(t){const e=Ss(t.mapValue.fields[eC].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Rh="(default)";class Bu{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__type__",nC="__max__",cd={mapValue:{fields:{__type__:{stringValue:nC}}}},rC="__vector__",Ph="value";function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pv(t)?4:WV(t)?9007199254740991:qV(t)?10:11:ge(28295,{value:t})}function Wr(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ss(i.timestampValue),a=Ss(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Is(i.bytesValue).isEqual(Is(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return wt(i.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wt(i.integerValue)===wt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=wt(i.doubleValue),a=wt(s.doubleValue);return o===a?Ch(o)===Ch(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ha(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(GE(o)!==GE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Wr(o[l],a[l])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function zu(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function qa(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=wt(s.integerValue||s.doubleValue),l=wt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return YE(t.timestampValue,e.timestampValue);case 4:return YE($u(t),$u(e));case 5:return Dg(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Is(s),l=Is(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Se(a[c],l[c]);if(d!==0)return d}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Se(wt(s.latitude),wt(o.latitude));return a!==0?a:Se(wt(s.longitude),wt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},p=o.fields||{},g=(a=f[Ph])===null||a===void 0?void 0:a.arrayValue,w=(l=p[Ph])===null||l===void 0?void 0:l.arrayValue,E=Se(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:JE(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===cd.mapValue&&o===cd.mapValue)return 0;if(s===cd.mapValue)return 1;if(o===cd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Dg(l[f],d[f]);if(p!==0)return p;const g=qa(a[l[f]],c[d[f]]);if(g!==0)return g}return Se(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{Pe:n})}}function YE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=Ss(t),r=Ss(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function JE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=qa(n[i],r[i]);if(s)return s}return Se(n.length,r.length)}function Wa(t){return Lg(t)}function Lg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Lg(n.fields[o])}`;return i+"}"}(t.mapValue):ge(61005,{value:t})}function Dd(t){switch(bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rf(t);return e?16+Dd(e):16;case 5:return 2*t.stringValue.length;case 6:return Is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Dd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ms(r.fields,(s,o)=>{i+=s.length+Dd(o)}),i}(t.mapValue);default:throw ge(13486,{value:t})}}function XE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mg(t){return!!t&&"integerValue"in t}function kv(t){return!!t&&"arrayValue"in t}function ZE(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ld(t){return!!t&&"mapValue"in t}function qV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tC])===null||n===void 0?void 0:n.stringValue)===rC}function du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=du(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ld(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(du(this.value))}}function iC(t){const e=[];return Ms(t.fields,(n,r)=>{const i=new zt([n]);if(Ld(r)){const s=iC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tn(e,0,ye.min(),ye.min(),ye.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,ye.min(),ye.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,ye.min(),ye.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.position=e,this.inclusive=n}}function tT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=qa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function KV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{}class At extends sC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QV(e,n,r):n==="array-contains"?new XV(e,r):n==="in"?new ZV(e,r):n==="not-in"?new e4(e,r):n==="array-contains-any"?new t4(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YV(e,r):new JV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends sC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Sr(e,n)}matches(e){return oC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function oC(t){return t.op==="and"}function aC(t){return GV(t)&&oC(t)}function GV(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function Fg(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(aC(t))return t.filters.map(e=>Fg(e)).join(",");{const e=t.filters.map(n=>Fg(n)).join(",");return`${t.op}(${e})`}}function lC(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lC(o,i.filters[a]),!0):!1}(t,e):void ge(19439)}function uC(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(uC).join(" ,")+"}"}(t):"Filter"}class QV extends At{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class YV extends At{constructor(e,n){super(e,"in",n),this.keys=cC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JV extends At{constructor(e,n){super(e,"not-in",n),this.keys=cC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class XV extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kv(n)&&zu(n.arrayValue,this.value)}}class ZV extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class e4 extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zu(this.value.arrayValue,n)}}class t4 extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function rT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new n4(t,e,n,r,i,s,o)}function xv(t){const e=ve(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wa(r)).join(",")),e.Ie=n}return e.Ie}function Ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nT(t.startAt,e.startAt)&&nT(t.endAt,e.endAt)}function Vg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function r4(t,e,n,r,i,s,o,a){return new dc(t,e,n,r,i,s,o,a)}function Nv(t){return new dc(t)}function iT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dC(t){return t.collectionGroup!==null}function hu(t){const e=ve(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new xh(s,r))}),n.has(zt.keyField().canonicalString())||e.Ee.push(new xh(zt.keyField(),r))}return e.Ee}function Br(t){const e=ve(t);return e.de||(e.de=i4(e,hu(t))),e.de}function i4(t,e){if(t.limitType==="F")return rT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new xh(i.field,s)});const n=t.endAt?new kh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kh(t.startAt.position,t.startAt.inclusive):null;return rT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jg(t,e){const n=t.filters.concat([e]);return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ug(t,e,n){return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pf(t,e){return Ov(Br(t),Br(e))&&t.limitType===e.limitType}function hC(t){return`${xv(Br(t))}|lt:${t.limitType}`}function oa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uC(i)).join(", ")}]`),Cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wa(i)).join(",")),`Target(${r})`}(Br(t))}; limitType=${t.limitType})`}function kf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=tT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,hu(r),i)||r.endAt&&!function(o,a,l){const c=tT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,hu(r),i))}(t,e)}function s4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fC(t){return(e,n)=>{let r=!1;for(const i of hu(t)){const s=o4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o4(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?qa(l,c):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return QA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new pt(de.comparator);function Ai(){return a4}const pC=new pt(de.comparator);function Yl(...t){let e=pC;for(const n of t)e=e.insert(n.key,n);return e}function mC(t){let e=pC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function io(){return fu()}function gC(){return fu()}function fu(){return new Do(t=>t.toString(),(t,e)=>t.isEqual(e))}const l4=new pt(de.comparator),u4=new kt(de.comparator);function ke(...t){let e=u4;for(const n of t)e=e.add(n);return e}const c4=new kt(Se);function d4(){return c4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function yC(t){return{integerValue:""+t}}function h4(t,e){return UV(e)?yC(e):Dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function f4(t,e,n){return t instanceof Oh?function(i,s){const o={fields:{[XA]:{stringValue:JA},[eC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Pv(s)&&(s=Rf(s)),s&&(o.fields[ZA]=s),{mapValue:o}}(n,e):t instanceof Hu?wC(t,e):t instanceof qu?_C(t,e):function(i,s){const o=vC(i,s),a=sT(o)+sT(i.Re);return Mg(o)&&Mg(i.Re)?yC(a):Dv(i.serializer,a)}(t,e)}function p4(t,e,n){return t instanceof Hu?wC(t,e):t instanceof qu?_C(t,e):n}function vC(t,e){return t instanceof Nh?function(r){return Mg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Oh extends xf{}class Hu extends xf{constructor(e){super(),this.elements=e}}function wC(t,e){const n=EC(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends xf{constructor(e){super(),this.elements=e}}function _C(t,e){let n=EC(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class Nh extends xf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function sT(t){return wt(t.integerValue||t.doubleValue)}function EC(t){return kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function m4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hu&&i instanceof Hu||r instanceof qu&&i instanceof qu?Ha(r.elements,i.elements,Wr):r instanceof Nh&&i instanceof Nh?Wr(r.Re,i.Re):r instanceof Oh&&i instanceof Oh}(t.transform,e.transform)}class g4{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Of{}function TC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lv(t.key,wr.none()):new hc(t.key,t.data,wr.none());{const n=t.data,r=wn.empty();let i=new kt(zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fs(t.key,r,new Dn(i.toArray()),wr.none())}}function y4(t,e,n){t instanceof hc?function(i,s,o){const a=i.value.clone(),l=aT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(i,s,o){if(!Md(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=aT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(SC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pu(t,e,n,r){return t instanceof hc?function(s,o,a,l){if(!Md(s.precondition,o))return a;const c=s.value.clone(),d=lT(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fs?function(s,o,a,l){if(!Md(s.precondition,o))return a;const c=lT(s.fieldTransforms,l,o),d=o.data;return d.setAll(SC(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Md(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function v4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=vC(r.transform,i||null);s!=null&&(n===null&&(n=wn.empty()),n.set(r.field,s))}return n||null}function oT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ha(r,i,(s,o)=>m4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hc extends Of{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends Of{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aT(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,p4(o,a,n[i]))}return r}function lT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,f4(s,o,e))}return r}class Lv extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w4 extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&y4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=TC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,r)=>oT(n,r))&&Ha(this.baseMutations,e.baseMutations,(n,r)=>oT(n,r))}}class Mv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return l4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Mv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Oe;function S4(t){switch(t){case q.OK:return ge(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function IC(t){if(t===void 0)return bi("GRPC error has no .code"),q.UNKNOWN;switch(t){case St.OK:return q.OK;case St.CANCELLED:return q.CANCELLED;case St.UNKNOWN:return q.UNKNOWN;case St.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case St.INTERNAL:return q.INTERNAL;case St.UNAVAILABLE:return q.UNAVAILABLE;case St.UNAUTHENTICATED:return q.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case St.NOT_FOUND:return q.NOT_FOUND;case St.ALREADY_EXISTS:return q.ALREADY_EXISTS;case St.PERMISSION_DENIED:return q.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case St.ABORTED:return q.ABORTED;case St.OUT_OF_RANGE:return q.OUT_OF_RANGE;case St.UNIMPLEMENTED:return q.UNIMPLEMENTED;case St.DATA_LOSS:return q.DATA_LOSS;default:return ge(39323,{code:t})}}(Oe=St||(St={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new gs([4294967295,4294967295],0);function uT(t){const e=WA().encode(t),n=new VA;return n.update(e),new Uint8Array(n.digest())}function cT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gs([n,r],0),new gs([i,s],0)]}class Fv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=gs.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(gs.fromNumber(r)));return i.compare(I4)===1&&(i=new gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=uT(e),[r,i]=cT(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Fv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=uT(e),[r,i]=cT(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nf(ye.min(),i,new pt(Se),Ai(),ke())}}class fc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fc(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class bC{constructor(e,n){this.targetId=e,this.Ce=n}}class AC{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dT{constructor(){this.Fe=0,this.Me=hT(),this.xe=Wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),n=ke(),r=ke();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:s})}}),new fc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=hT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class b4{constructor(e){this.ze=e,this.je=new Map,this.He=Ai(),this.Je=dd(),this.Ye=dd(),this.Ze=new pt(Se)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Vg(s))if(r===0){const o=new de(s.path);this.tt(n,o,tn.newNoDocument(o,ye.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Is(r).toUint8Array()}catch(l){if(l instanceof YA)return za("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Fv(o,i,s)}catch(l){return za(l instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Vg(a.target)){const l=new de(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,tn.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ke();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Nf(e,n,this.Ze,this.He,r);return this.He=Ai(),this.Je=dd(),this.Ye=dd(),this.Ze=new pt(Se),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new dT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new kt(Se),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new kt(Se),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function dd(){return new pt(de.comparator)}function hT(){return new pt(de.comparator)}const A4={asc:"ASCENDING",desc:"DESCENDING"},C4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R4={and:"AND",or:"OR"};class P4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $g(t,e){return t.useProto3Json||Cf(e)?e:{value:e}}function Dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k4(t,e){return Dh(t,e.toTimestamp())}function zr(t){return Ve(!!t,49232),ye.fromTimestamp(function(n){const r=Ss(n);return new Pt(r.seconds,r.nanos)}(t))}function Vv(t,e){return Bg(t,e).canonicalString()}function Bg(t,e){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RC(t){const e=tt.fromString(t);return Ve(NC(e),10190,{key:e.toString()}),e}function zg(t,e){return Vv(t.databaseId,e.path)}function lm(t,e){const n=RC(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(kC(n))}function PC(t,e){return Vv(t.databaseId,e)}function x4(t){const e=RC(t);return e.length===4?tt.emptyPath():kC(e)}function Hg(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kC(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fT(t,e,n){return{name:zg(t,e),fields:n.value.mapValue.fields}}function O4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ve(d===void 0||typeof d=="string",58123),Wt.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?q.UNKNOWN:IC(c.code);return new ne(d,c.message||"")}(o);n=new AC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lm(t,r.document.name),s=zr(r.document.updateTime),o=r.document.createTime?zr(r.document.createTime):ye.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=tn.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Fd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lm(t,r.document),s=r.readTime?zr(r.readTime):ye.min(),o=tn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lm(t,r.document),s=r.removedTargetIds||[];n=new Fd([],s,i,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new T4(i,s),a=r.targetId;n=new bC(a,o)}}return n}function N4(t,e){let n;if(e instanceof hc)n={update:fT(t,e.key,e.value)};else if(e instanceof Lv)n={delete:zg(t,e.key)};else if(e instanceof Fs)n={update:fT(t,e.key,e.data),updateMask:B4(e.fieldMask)};else{if(!(e instanceof w4))return ge(16599,{ft:e.type});n={verify:zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Oh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ge(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:k4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge(27497)}(t,e.precondition)),n}function D4(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?zr(i.updateTime):zr(s);return o.isEqual(ye.min())&&(o=zr(s)),new g4(o,i.transformResults||[])}(n,e))):[]}function L4(t,e){return{documents:[PC(t,e.path)]}}function M4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PC(t,i);const s=function(c){if(c.length!==0)return OC(Sr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:aa(p.field),direction:j4(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=$g(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function F4(t){let e=x4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=xC(f);return p instanceof Sr&&aC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new xh(la(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Cf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new kh(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new kh(g,p)}(n.endAt)),r4(e,i,o,s,a,"F",l,c)}function V4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=la(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=la(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=la(n.unaryFilter.field);return At.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=la(n.unaryFilter.field);return At.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(la(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>xC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function j4(t){return A4[t]}function U4(t){return C4[t]}function $4(t){return R4[t]}function aa(t){return{fieldPath:t.canonicalString()}}function la(t){return zt.fromServerFormat(t.fieldPath)}function OC(t){return t instanceof At?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NAN"}};if(ZE(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NAN"}};if(ZE(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(n.field),op:U4(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(i=>OC(i));return r.length===1?r[0]:{compositeFilter:{op:$4(n.op),filters:r}}}(t):ge(54877,{filter:t})}function B4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r,i,s=ye.min(),o=ye.min(),a=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.wt=e}}function H4(t){const e=F4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.yn=new W4}addToCollectionParentIndex(e,n){return this.yn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ts.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class W4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DC=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(DC,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ka(0)}static ir(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="LruGarbageCollector",K4=1048576;function gT([t,e],[n,r]){const i=Se(t,n);return i===0?Se(e,r):i}class G4{constructor(e){this.cr=e,this.buffer=new kt(gT),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){X(mT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?X(mT,"Ignoring IndexedDB error during garbage collection: ",n):await al(n)}await this.Ir(3e5)})}}class Y4{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Af.le);const r=new G4(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(pT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),sa()<=Pe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function J4(t,e){return new Y4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.changes=new Do(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pu(r.mutation,i,Dn.empty(),Pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=io();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=io();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ai();const o=fu(),a=function(){return fu()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Fs)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),pu(d.mutation,c,d.mutation.getFieldMask(),Pt.now())):o.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new Z4(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fu();let i=new pt((o,a)=>o-a),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Dn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||ke()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=gC();d.forEach(p=>{if(!s.has(p)){const g=TC(n.get(p),r.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(io());let a=Uu,l=s;return o.next(c=>H.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ke())).next(d=>({batchId:a,changes:mC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Yl();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const c=function(f,p){return new dc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,tn.newInvalidDocument(d)))});let a=Yl();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&pu(d.mutation,c,Dn.empty(),Pt.now()),kf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return H.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:H4(i.bundledQuery),readTime:zr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.overlays=new pt(de.comparator),this.Or=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=io();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=io(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new pt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=io(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=io(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return H.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new E4(n,r));let s=this.Or.get(n);s===void 0&&(s=ke(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.Nr=new kt(Nt.Br),this.Lr=new kt(Nt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Nt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new de(new tt([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new de(new tt([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=ke();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return de.comparator(e.key,n.key)||Se(e.Gr,n.Gr)}static kr(e,n){return Se(e.Gr,n.Gr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new kt(Nt.Br)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Rv:this.Jn-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Se);return n.forEach(i=>{const s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),H.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new Nt(new de(s),0);let a=new kt(Se);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Gr)),!0)},o),H.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return H.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.Zr=e,this.docs=function(){return new pt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ai();const o=n.path,a=new de(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||MV(LV(d),r)<=0||(i.has(d.key)||kf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge(9500)}Xr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oj(this)}getSize(e){return H.resolve(this.size)}}class oj extends X4{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.persistence=e,this.ei=new Do(n=>xv(n),Ov),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new jv,this.targetCount=0,this.ri=Ka.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),H.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.ar(n),H.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.ii={},this.overlays={},this.si=new Af(0),this.oi=!1,this.oi=!0,this._i=new rj,this.referenceDelegate=e(this),this.ai=new aj(this),this.indexManager=new q4,this.remoteDocumentCache=function(i){return new sj(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new z4(n),this.ci=new tj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new ij(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new lj(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return H.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class lj extends VV{constructor(e){super(),this.currentSequenceNumber=e}}class Uv{constructor(e){this.persistence=e,this.Ti=new jv,this.Ii=null}static Ei(e){return new Uv(e)}get di(){if(this.Ii)return this.Ii;throw ge(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.di,r=>{const i=de.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return H.or([()=>H.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.Ri=new Do(r=>$V(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=J4(this,n)}static Ei(e,n){return new Lh(e,n)}li(){}hi(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return H.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ye.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),H.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dd(e.data.value)),n}gr(e,n,r){return H.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=ke(),i=ke();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $v(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return zD()?8:jV(sn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new uj;return this.fs(e,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(sa()<=Pe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),H.resolve()):(sa()<=Pe.DEBUG&&X("QueryEngine","Query:",oa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(sa()<=Pe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):H.resolve())}Rs(e,n){if(iT(n))return H.resolve(null);let r=Br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ug(n,null,"F"),r=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ke(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ps(n,a);return this.ys(n,c,o,l.readTime)?this.Rs(e,Ug(n,null,"F")):this.ws(e,c,n,l)}))})))}Vs(e,n,r,i){return iT(n)||i.isEqual(ye.min())?H.resolve(null):this.As.getDocuments(e,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?H.resolve(null):(sa()<=Pe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(n)),this.ws(e,o,n,DV(i,Uu)).next(a=>a))})}ps(e,n){let r=new kt(fC(e));return n.forEach((i,s)=>{kf(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return sa()<=Pe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",oa(n)),this.As.getDocumentsMatchingQuery(e,n,Ts.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="LocalStore",dj=3e8;class hj{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new pt(Se),this.Ds=new Do(s=>xv(s),Ov),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ej(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function fj(t,e,n,r){return new hj(t,e,n,r)}async function MC(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ke();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})}function pj(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=H.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(E=>{const R=c.docVersions.get(w);Ve(R!==null,48541),E.version.compareTo(R)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FC(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function mj(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.ai.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Wt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(E,R,b){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=dj?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,g,d)&&a.push(n.ai.updateTargetData(s,g))});let l=Ai(),c=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(gj(s,o,e.documentUpdates).next(d=>{l=d.xs,c=d.Os})),!r.isEqual(ye.min())){const d=n.ai.getLastRemoteSnapshotVersion(s).next(f=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ss=i,s))}function gj(t,e,n){let r=ke(),i=ke();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ai();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X(Bv,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:i}})}function yj(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vj(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function qg(t,e,n){const r=ve(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ll(o))throw o;X(Bv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function yT(t,e,n){const r=ve(t);let i=ye.min(),s=ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ve(l),p=f.Ds.get(d);return p!==void 0?H.resolve(f.Ss.get(p)):f.ai.getTargetData(c,d)}(r,o,Br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:ke())).next(a=>(wj(r,s4(e),a),{documents:a,Ns:s})))}function wj(t,e,n){let r=t.vs.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class vT{constructor(){this.activeTargetIds=d4()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _j{constructor(){this.So=new vT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new vT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="ConnectivityMonitor";class _T{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){X(wT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){X(wT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd=null;function Wg(){return hd===null?hd=function(){return 268435456+Math.round(2147483648*Math.random())}():hd++,"0x"+hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",Tj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sj{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const o=Wg(),a=this.$o(e,n.toUriEncodedString());X(um,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,s);const{host:c}=new URL(a),d=sc(c);return this.Ko(e,a,l,r,d).then(f=>(X(um,`Received RPC '${e}' ${o}: `,f),f),f=>{throw za(um,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Wo(e,n,r,i,s,o){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=Tj[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class bj extends Sj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,s){const o=Wg();return new Promise((a,l)=>{const c=new jA;c.setWithCredentials(!0),c.listenOnce(UA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nd.NO_ERROR:const f=c.getResponseJson();X(Xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Nd.TIMEOUT:X(Xt,`RPC '${e}' ${o} timed out`),l(new ne(q.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const p=c.getStatus();if(X(Xt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const E=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(v)>=0?v:q.UNKNOWN}(w.status);l(new ne(E,w.message))}else l(new ne(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ne(q.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{s_:e,streamId:o,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{X(Xt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);X(Xt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}a_(e,n,r){const i=Wg(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zA(),a=BA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");X(Xt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const w=new Ij({Go:R=>{g?X(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(X(Xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),X(Xt,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},zo:()=>f.close()}),E=(R,b,v)=>{R.listen(b,T=>{try{v(T)}catch(L){setTimeout(()=>{throw L},0)}})};return E(f,Ql.EventType.OPEN,()=>{g||(X(Xt,`RPC '${e}' stream ${i} transport opened.`),w.t_())}),E(f,Ql.EventType.CLOSE,()=>{g||(g=!0,X(Xt,`RPC '${e}' stream ${i} transport closed`),w.r_())}),E(f,Ql.EventType.ERROR,R=>{g||(g=!0,za(Xt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),w.r_(new ne(q.UNAVAILABLE,"The operation could not be completed")))}),E(f,Ql.EventType.MESSAGE,R=>{var b;if(!g){const v=R.data[0];Ve(!!v,16349);const T=v,L=(T==null?void 0:T.error)||((b=T[0])===null||b===void 0?void 0:b.error);if(L){X(Xt,`RPC '${e}' stream ${i} received error:`,L);const z=L.status;let A=function(I){const C=St[I];if(C!==void 0)return IC(C)}(z),S=L.message;A===void 0&&(A=q.INTERNAL,S="Unknown error status: "+z+" with message "+L.message),g=!0,w.r_(new ne(A,S)),f.close()}else X(Xt,`RPC '${e}' stream ${i} received:`,v),w.i_(v)}}),E(a,$A.STAT_EVENT,R=>{R.stat===Ng.PROXY?X(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ng.NOPROXY&&X(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.n_()},0),w}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){return new P4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="PersistentStream";class jC{constructor(e,n,r,i,s,o,a,l){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new VC(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new ne(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return X(ET,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(X(ET,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Aj extends jC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=O4(this.serializer,e),r=function(s){if(!("targetChange"in s))return ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?zr(o.readTime):ye.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Hg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Vg(l)?{documents:L4(s,l)}:{query:M4(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CC(s,o.resumeToken);const c=$g(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=Dh(s,o.snapshotVersion.toTimestamp());const c=$g(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=V4(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Hg(this.serializer),n.removeTarget=e,this.F_(n)}}class Cj extends jC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=D4(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Hg(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>N4(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{}class Pj extends Rj{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ne(q.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,Bg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(q.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,Bg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(q.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class kj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(bi(n),this.ea=!1):X("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class xj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Lo(this)&&(X(To,"Restarting streams for network reachability change."),await async function(l){const c=ve(l);c.aa.add(4),await pc(c),c.la.set("Unknown"),c.aa.delete(4),await Lf(c)}(this))})}),this.la=new kj(r,i)}}async function Lf(t){if(Lo(t))for(const e of t.ua)await e(!0)}async function pc(t){for(const e of t.ua)await e(!1)}function UC(t,e){const n=ve(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Wv(n)?qv(n):ul(n).b_()&&Hv(n,e))}function zv(t,e){const n=ve(t),r=ul(n);n._a.delete(e),r.b_()&&$C(n,e),n._a.size===0&&(r.b_()?r.v_():Lo(n)&&n.la.set("Unknown"))}function Hv(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).U_(e)}function $C(t,e){t.ha.Ke(e),ul(t).K_(e)}function qv(t){t.ha=new b4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.la.ta()}function Wv(t){return Lo(t)&&!ul(t).w_()&&t._a.size>0}function Lo(t){return ve(t).aa.size===0}function BC(t){t.ha=void 0}async function Oj(t){t.la.set("Online")}async function Nj(t){t._a.forEach((e,n)=>{Hv(t,e)})}async function Dj(t,e){BC(t),Wv(t)?(t.la.ia(e),qv(t)):t.la.set("Unknown")}async function Lj(t,e,n){if(t.la.set("Online"),e instanceof AC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(t,e)}catch(r){X(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mh(t,r)}else if(e instanceof Fd?t.ha.Xe(e):e instanceof bC?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ye.min()))try{const r=await FC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s._a.get(c);d&&s._a.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s._a.get(l);if(!d)return;s._a.set(l,d.withResumeToken(Wt.EMPTY_BYTE_STRING,d.snapshotVersion)),$C(s,l);const f=new ns(d.target,l,c,d.sequenceNumber);Hv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(To,"Failed to raise snapshot:",r),await Mh(t,r)}}async function Mh(t,e,n){if(!ll(e))throw e;t.aa.add(1),await pc(t),t.la.set("Offline"),n||(n=()=>FC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(To,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Lf(t)})}function zC(t,e){return e().catch(n=>Mh(t,n,e))}async function Mf(t){const e=ve(t),n=As(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Rv;for(;Mj(e);)try{const i=await yj(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,Fj(e,i)}catch(i){await Mh(e,i)}HC(e)&&qC(e)}function Mj(t){return Lo(t)&&t.oa.length<10}function Fj(t,e){t.oa.push(e);const n=As(t);n.b_()&&n.W_&&n.G_(e.mutations)}function HC(t){return Lo(t)&&!As(t).w_()&&t.oa.length>0}function qC(t){As(t).start()}async function Vj(t){As(t).H_()}async function jj(t){const e=As(t);for(const n of t.oa)e.G_(n.mutations)}async function Uj(t,e,n){const r=t.oa.shift(),i=Mv.from(r,e,n);await zC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mf(t)}async function $j(t,e){e&&As(t).W_&&await async function(r,i){if(function(o){return S4(o)&&o!==q.ABORTED}(i.code)){const s=r.oa.shift();As(r).D_(),await zC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Mf(r)}}(t,e),HC(t)&&qC(t)}async function TT(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),X(To,"RemoteStore received new credentials");const r=Lo(n);n.aa.add(3),await pc(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Lf(n)}async function Bj(t,e){const n=ve(t);e?(n.aa.delete(2),await Lf(n)):e||(n.aa.add(2),await pc(n),n.la.set("Unknown"))}function ul(t){return t.Pa||(t.Pa=function(n,r,i){const s=ve(n);return s.Y_(),new Aj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:Oj.bind(null,t),Jo:Nj.bind(null,t),Zo:Dj.bind(null,t),Q_:Lj.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Wv(t)?qv(t):t.la.set("Unknown")):(await t.Pa.stop(),BC(t))})),t.Pa}function As(t){return t.Ta||(t.Ta=function(n,r,i){const s=ve(n);return s.Y_(),new Cj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Vj.bind(null,t),Zo:$j.bind(null,t),z_:jj.bind(null,t),j_:Uj.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Mf(t)):(await t.Ta.stop(),t.oa.length>0&&(X(To,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Kv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(t,e){if(bi("AsyncQueue",`${e}: ${t}`),ll(t))return new ne(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{static emptySet(e){return new Oa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.Ia=new pt(de.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ge(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ga{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ga(e,n,Oa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Hj{constructor(){this.queries=IT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=ve(n),s=i.queries;i.queries=IT(),s.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new ne(q.ABORTED,"Firestore shutting down"))}}function IT(){return new Do(t=>hC(t),Pf)}async function WC(t,e){const n=ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new zj,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Gv(o,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&Qv(n)}async function KC(t,e){const n=ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qj(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&Qv(n)}function Wj(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function Qv(t){t.fa.forEach(e=>{e.next()})}var Kg,bT;(bT=Kg||(Kg={})).ya="default",bT.Cache="cache";class GC{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.key=e}}class YC{constructor(e){this.key=e}}class Kj{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=fC(e),this.Ka=new Oa(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new ST,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=kf(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;p&&g?p.data.isEqual(g.data)?w!==E&&(r.track({type:3,doc:g}),R=!0):this.ja(p,g)||(r.track({type:2,doc:g}),R=!0,(l&&this.Ua(g,l)>0||c&&this.Ua(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),R=!0):p&&!g&&(r.track({type:1,doc:p}),R=!0,(l||c)&&(a=!0)),R&&(g?(o=o.add(g),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(g,w){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:R})}};return E(g)-E(w)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new Ga(this.query,e.Ka,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new ST,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new YC(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new QC(r))}),n}Xa(e){this.qa=e.Ns,this.$a=ke();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ga.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Yv="SyncEngine";class Gj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Qj{constructor(e){this.key=e,this.tu=!1}}class Yj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Do(a=>hC(a),Pf),this.iu=new Map,this.su=new Set,this.ou=new pt(de.comparator),this._u=new Map,this.au=new jv,this.uu={},this.cu=new Map,this.lu=Ka.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Jj(t,e,n=!0){const r=nR(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await JC(r,e,n,!0),i}async function Xj(t,e){const n=nR(t);await JC(n,e,!0,!1)}async function JC(t,e,n,r){const i=await vj(t.localStore,Br(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Zj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&UC(t.remoteStore,i),a}async function Zj(t,e,n,r,i){t.Pu=(f,p,g)=>async function(E,R,b,v){let T=R.view.Ga(b);T.ys&&(T=await yT(E.localStore,R.query,!1).then(({documents:S})=>R.view.Ga(S,T)));const L=v&&v.targetChanges.get(R.targetId),z=v&&v.targetMismatches.get(R.targetId)!=null,A=R.view.applyChanges(T,E.isPrimaryClient,L,z);return CT(E,R.targetId,A.Ya),A.snapshot}(t,f,p,g);const s=await yT(t.localStore,e,!0),o=new Kj(e,s.Ns),a=o.Ga(s.documents),l=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);CT(t,n,c.Ya);const d=new Gj(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function eU(t,e,n){const r=ve(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!Pf(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zv(r.remoteStore,i.targetId),Gg(r,i.targetId)}).catch(al)):(Gg(r,i.targetId),await qg(r.localStore,i.targetId,!0))}async function tU(t,e){const n=ve(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zv(n.remoteStore,r.targetId))}async function nU(t,e,n){const r=uU(t);try{const i=await function(o,a){const l=ve(o),c=Pt.now(),d=a.reduce((g,w)=>g.add(w.key),ke());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Ai(),E=ke();return l.Cs.getEntries(g,d).next(R=>{w=R,w.forEach((b,v)=>{v.isValidDocument()||(E=E.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(R=>{f=R;const b=[];for(const v of a){const T=v4(v,f.get(v.key).overlayedDocument);T!=null&&b.push(new Fs(v.key,T,iC(T.value.mapValue),wr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,b,a)}).next(R=>{p=R;const b=R.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(g,R.batchId,b)})}).then(()=>({batchId:p.batchId,changes:mC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.uu[o.currentUser.toKey()];c||(c=new pt(Se)),c=c.insert(a,l),o.uu[o.currentUser.toKey()]=c}(r,i.batchId,n),await mc(r,i.changes),await Mf(r.remoteStore)}catch(i){const s=Gv(i,"Failed to persist write");n.reject(s)}}async function XC(t,e){const n=ve(t);try{const r=await mj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Ve(o.tu,14607):i.removedDocuments.size>0&&(Ve(o.tu,42227),o.tu=!1))}),await mc(n,r,e)}catch(r){await al(r)}}function AT(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ve(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.Ra)p.ga(a)&&(c=!0)}),c&&Qv(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rU(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let o=new pt(de.comparator);o=o.insert(s,tn.newNoDocument(s,ye.min()));const a=ke().add(s),l=new Nf(ye.min(),new Map,new pt(Se),o,a);await XC(r,l),r.ou=r.ou.remove(s),r._u.delete(e),Jv(r)}else await qg(r.localStore,e,!1).then(()=>Gg(r,e,n)).catch(al)}async function iU(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await pj(n.localStore,e);eR(n,r,null),ZC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mc(n,i)}catch(i){await al(i)}}async function sU(t,e,n){const r=ve(t);try{const i=await function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ve(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);eR(r,e,n),ZC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mc(r,i)}catch(i){await al(i)}}function ZC(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function eR(t,e,n){const r=ve(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||tR(t,r)})}function tR(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(zv(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Jv(t))}function CT(t,e,n){for(const r of n)r instanceof QC?(t.au.addReference(r.key,e),oU(t,r)):r instanceof YC?(X(Yv,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||tR(t,r.key)):ge(19791,{Iu:r})}function oU(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(X(Yv,"New document in limbo: "+n),t.su.add(r),Jv(t))}function Jv(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new de(tt.fromString(e)),r=t.lu.next();t._u.set(r,new Qj(n)),t.ou=t.ou.insert(n,r),UC(t.remoteStore,new ns(Br(Nv(n.path)),r,"TargetPurposeLimboResolution",Af.le))}}async function mc(t,e,n){const r=ve(t),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=$v.Ps(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,c){const d=ve(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,p=>H.forEach(p.ls,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>H.forEach(p.hs,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!ll(f))throw f;X(Bv,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.Ss.get(p),w=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(w);d.Ss=d.Ss.insert(p,E)}}}(r.localStore,s))}async function aU(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){X(Yv,"User change. New user:",e.toKey());const r=await MC(n.localStore,e);n.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new ne(q.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mc(n,r.Ms)}}function lU(t,e){const n=ve(t),r=n._u.get(e);if(r&&r.tu)return ke().add(r.key);{let i=ke();const s=n.iu.get(e);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function nR(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rU.bind(null,e),e.nu.Q_=qj.bind(null,e.eventManager),e.nu.Tu=Wj.bind(null,e.eventManager),e}function uU(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sU.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return fj(this.persistence,new cj,e.initialUser,this.serializer)}Ru(e){return new LC(Uv.Ei,this.serializer)}Au(e){return new _j}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class cU extends Fh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ve(this.persistence.referenceDelegate instanceof Lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Q4(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new LC(r=>Lh.Ei(r,n),this.serializer)}}class Qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aU.bind(null,this.syncEngine),await Bj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hj}()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),r=function(s){return new bj(s)}(e.databaseInfo);return function(s,o,a,l){return new Pj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new xj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>AT(this.syncEngine,n,0),function(){return _T.C()?new _T:new Ej}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new Yj(i,s,o,a,l,c);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ve(i);X(To,"RemoteStore shutting down."),s.aa.add(5),await pc(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qg.provider={build:()=>new Qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class dU{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=KA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{X(Cs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(Cs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dm(t,e){t.asyncQueue.verifyOperationInProgress(),X(Cs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hU(t);X(Cs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>TT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>TT(e.remoteStore,i)),t._onlineComponents=e}async function hU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Cs,"Using user provided OfflineComponentProvider");try{await dm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await dm(t,new Fh)}}else X(Cs,"Using default OfflineComponentProvider"),await dm(t,new cU(void 0));return t._offlineComponents}async function iR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Cs,"Using user provided OnlineComponentProvider"),await RT(t,t._uninitializedComponentsProvider._online)):(X(Cs,"Using default OnlineComponentProvider"),await RT(t,new Qg))),t._onlineComponents}function fU(t){return iR(t).then(e=>e.syncEngine)}async function sR(t){const e=await iR(t),n=e.eventManager;return n.onListen=Jj.bind(null,e.syncEngine),n.onUnlisten=eU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Xj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tU.bind(null,e.syncEngine),n}function pU(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new rR({next:p=>{d.yu(),o.enqueueAndForget(()=>KC(s,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ne(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new ne(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new GC(Nv(a.path),d,{includeMetadataChanges:!0,Fa:!0});return WC(s,f)}(await sR(t),t.asyncQueue,e,n,r)),r.promise}function mU(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new rR({next:p=>{d.yu(),o.enqueueAndForget(()=>KC(s,f)),p.fromCache&&l.source==="server"?c.reject(new ne(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new GC(a,d,{includeMetadataChanges:!0,Fa:!0});return WC(s,f)}(await sR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e,n){if(!n)throw new ne(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gU(t,e,n,r){if(e===!0&&r===!0)throw new ne(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kT(t){if(!de.isDocumentKey(t))throw new ne(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xT(t){if(de.isDocumentKey(t))throw new ne(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ff(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(t);throw new ne(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firestore.googleapis.com",OT=!0;class NT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lR,this.ssl=OT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:OT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<K4)throw new ne(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bV;switch(r.type){case"firstParty":return new PV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Ef("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PT.get(n);r&&(X("ComponentProvider","Removing Datastore"),PT.delete(n),r.terminate())}(this),Promise.resolve()}}function yU(t,e,n,r={}){var i;t=Kr(t,Vf);const s=sc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o.host!==lR&&o.host!==l&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Es(c,a)&&(t._setSettings(c),s&&(Gb(`https://${l}`),Ef("Firestore",!0)),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Zt.MOCK_USER;else{d=LD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ne(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zt(p)}t._authCredentials=new AV(new qA(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cl(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class ys extends cl{constructor(e,n,r){super(e,n,Nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new de(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function DT(t,e,...n){if(t=xt(t),aR("collection","path",e),t instanceof Vf){const r=tt.fromString(e,...n);return xT(r),new ys(t,null,r)}{if(!(t instanceof cn||t instanceof ys))throw new ne(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return xT(r),new ys(t.firestore,null,r)}}function uR(t,e,...n){if(t=xt(t),arguments.length===1&&(e=KA.newId()),aR("doc","path",e),t instanceof Vf){const r=tt.fromString(e,...n);return kT(r),new cn(t,null,new de(r))}{if(!(t instanceof cn||t instanceof ys))throw new ne(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return kT(r),new cn(t.firestore,t instanceof ys?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new VC(this,"async_queue_retry"),this.ju=()=>{const r=cm();r&&X(LT,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new yi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ll(e))throw e;X(LT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,bi("INTERNAL UNHANDLED ERROR: ",FT(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=Kv.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&ge(47125,{ec:FT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function FT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class dl extends Vf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function vU(t,e){const n=typeof t=="object"?t:yv(),r=typeof t=="string"?t:Rh,i=Oo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ND("firestore");s&&yU(i,...s)}return i}function Xv(t){if(t._terminated)throw new ne(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wU(t),t._firestoreClient}function wU(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new HV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,oR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dU(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qa(Wt.fromBase64String(e))}catch(n){throw new ne(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qa(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=/^__.*__$/;class EU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new hc(e,this.data,n,this.fieldTransforms)}}class cR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{oc:t})}}class nw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new nw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Vh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(dR(this.oc)&&_U.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class TU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Df(e)}dc(e,n,r,i=!1){return new nw({oc:e,methodName:n,Ec:r,path:zt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rw(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new TU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SU(t,e,n,r,i,s={}){const o=t.dc(s.merge||s.mergeFields?2:0,e,n,i);iw("Data must be an object, but it was:",o,r);const a=hR(r,o);let l,c;if(s.merge)l=new Dn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=Yg(e,f,n);if(!o.contains(p))throw new ne(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);pR(d,p)||d.push(p)}l=new Dn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new EU(new wn(a),l,c)}class Uf extends Zv{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}function IU(t,e,n,r){const i=t.dc(1,e,n);iw("Data must be an object, but it was:",i,r);const s=[],o=wn.empty();Ms(r,(l,c)=>{const d=sw(e,l,n);c=xt(c);const f=i.hc(d);if(c instanceof Uf)s.push(d);else{const p=gc(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new Dn(s);return new cR(o,a,i.fieldTransforms)}function bU(t,e,n,r,i,s){const o=t.dc(1,e,n),a=[Yg(e,r,n)],l=[i];if(s.length%2!=0)throw new ne(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Yg(e,s[p])),l.push(s[p+1]);const c=[],d=wn.empty();for(let p=a.length-1;p>=0;--p)if(!pR(c,a[p])){const g=a[p];let w=l[p];w=xt(w);const E=o.hc(g);if(w instanceof Uf)c.push(g);else{const R=gc(w,E);R!=null&&(c.push(g),d.set(g,R))}}const f=new Dn(c);return new cR(d,f,o.fieldTransforms)}function AU(t,e,n,r=!1){return gc(n,t.dc(r?4:3,e))}function gc(t,e){if(fR(t=xt(t)))return iw("Unsupported field value:",e,t),hR(t,e);if(t instanceof Zv)return function(r,i){if(!dR(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=gc(a,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pt.fromDate(r);return{timestampValue:Dh(i.serializer,s)}}if(r instanceof Pt){const s=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(i.serializer,s)}}if(r instanceof ew)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qa)return{bytesValue:CC(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tw)return function(o,a){return{mapValue:{fields:{[tC]:{stringValue:rC},[Ph]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return Dv(a.serializer,c)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Ff(r)}`)}(t,e)}function hR(t,e){const n={};return QA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(t,(r,i)=>{const s=gc(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof ew||t instanceof Qa||t instanceof cn||t instanceof Zv||t instanceof tw)}function iw(t,e,n){if(!fR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ff(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Yg(t,e,n){if((e=xt(e))instanceof jf)return e._internalPath;if(typeof e=="string")return sw(t,e);throw Vh("Field path arguments must be of type string or ",t,!1,void 0,n)}const CU=new RegExp("[~\\*/\\[\\]]");function sw(t,e,n){if(e.search(CU)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jf(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ne(q.INVALID_ARGUMENT,a+t+l)}function pR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ow("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RU extends mR{data(){return super.data()}}function ow(t,e){return typeof e=="string"?sw(t,e):e instanceof jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aw{}class kU extends aw{}function VT(t,e,...n){let r=[];e instanceof aw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof lw).length,a=s.filter(l=>l instanceof $f).length;if(o>1||o>0&&a>0)throw new ne(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $f extends kU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $f(e,n,r)}_apply(e){const n=this._parse(e);return gR(e._query,n),new cl(e.firestore,e.converter,jg(e._query,n))}_parse(e){const n=rw(e.firestore);return function(s,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ne(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){$T(f,d);const w=[];for(const E of f)w.push(UT(l,s,E));p={arrayValue:{values:w}}}else p=UT(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||$T(f,d),p=AU(a,o,f,d==="in"||d==="not-in");return At.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jT(t,e,n){const r=e,i=ow("where",t);return $f._create(i,r,n)}class lw extends aw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)gR(o,l),o=jg(o,l)}(e._query,n),new cl(e.firestore,e.converter,jg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UT(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new ne(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dC(e)&&n.indexOf("/")!==-1)throw new ne(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!de.isDocumentKey(r))throw new ne(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XE(t,new de(r))}if(n instanceof cn)return XE(t,n._key);throw new ne(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function $T(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xU{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ms(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ph].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>wt(o.doubleValue));return new tw(s)}convertGeoPoint(e){return new ew(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ve(NC(r),9688,{name:e});const i=new Bu(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||bi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yR extends mR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ow("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vd extends yR{data(e={}){return super.data(e)}}class NU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vd(this._firestore,this._userDataWriter,r.key,r,new Xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Vd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Vd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:DU(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){t=Kr(t,cn);const e=Kr(t.firestore,dl);return pU(Xv(e),t._key).then(n=>FU(e,t,n))}class vR extends xU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function BT(t){t=Kr(t,cl);const e=Kr(t.firestore,dl),n=Xv(e),r=new vR(e);return PU(t._query),mU(n,t._query).then(i=>new NU(e,r,t,i))}function MU(t,e,n){t=Kr(t,cn);const r=Kr(t.firestore,dl),i=OU(t.converter,e);return uw(r,[SU(rw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wr.none())])}function PW(t,e,n,...r){t=Kr(t,cn);const i=Kr(t.firestore,dl),s=rw(i);let o;return o=typeof(e=xt(e))=="string"||e instanceof jf?bU(s,"updateDoc",t._key,e,n,r):IU(s,"updateDoc",t._key,e),uw(i,[o.toMutation(t._key,wr.exists(!0))])}function kW(t){return uw(Kr(t.firestore,dl),[new Lv(t._key,wr.none())])}function uw(t,e){return function(r,i){const s=new yi;return r.asyncQueue.enqueueAndForget(async()=>nU(await fU(r),i,s)),s.promise}(Xv(t),e)}function FU(t,e,n){const r=n.docs.get(e._key),i=new vR(t);return new yR(t,i,e._key,r,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ol=i})(il),qr(new Er("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new dl(new CV(r.getProvider("auth-internal")),new kV(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nr(UE,$E,e),nr(UE,$E,"esm2017")})();const wR="@firebase/installations",cw="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1e4,ER=`w:${cw}`,TR="FIS_v2",VU="https://firebaseinstallations.googleapis.com/v1",jU=60*60*1e3,UU="installations",$U="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},So=new xo(UU,$U,BU);function SR(t){return t instanceof br&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR({projectId:t}){return`${VU}/projects/${t}/installations`}function bR(t){return{token:t.token,requestStatus:2,expiresIn:HU(t.expiresIn),creationTime:Date.now()}}async function AR(t,e){const r=(await e.json()).error;return So.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function CR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zU(t,{refreshToken:e}){const n=CR(t);return n.append("Authorization",qU(e)),n}async function RR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function HU(t){return Number(t.replace("s","000"))}function qU(t){return`${TR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=IR(t),i=CR(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:TR,appId:t.appId,sdkVersion:ER},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await RR(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:bR(c.authToken)}}else throw await AR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=/^[cdef][\w-]{21}$/,Jg="";function QU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=YU(t);return GU.test(n)?n:Jg}catch{return Jg}}function YU(t){return KU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Map;function xR(t,e){const n=Bf(t);OR(n,e),JU(n,e)}function OR(t,e){const n=kR.get(t);if(n)for(const r of n)r(e)}function JU(t,e){const n=XU();n&&n.postMessage({key:t,fid:e}),ZU()}let so=null;function XU(){return!so&&"BroadcastChannel"in self&&(so=new BroadcastChannel("[Firebase] FID Change"),so.onmessage=t=>{OR(t.data.key,t.data.fid)}),so}function ZU(){kR.size===0&&so&&(so.close(),so=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$="firebase-installations-database",t$=1,Io="firebase-installations-store";let hm=null;function dw(){return hm||(hm=eA(e$,t$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Io)}}})),hm}async function jh(t,e){const n=Bf(t),i=(await dw()).transaction(Io,"readwrite"),s=i.objectStore(Io),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&xR(t,e.fid),e}async function NR(t){const e=Bf(t),r=(await dw()).transaction(Io,"readwrite");await r.objectStore(Io).delete(e),await r.done}async function zf(t,e){const n=Bf(t),i=(await dw()).transaction(Io,"readwrite"),s=i.objectStore(Io),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&xR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(t){let e;const n=await zf(t.appConfig,r=>{const i=n$(r),s=r$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Jg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function n$(t){const e=t||{fid:QU(),registrationStatus:0};return DR(e)}function r$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(So.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=i$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:s$(t)}:{installationEntry:e}}async function i$(t,e){try{const n=await WU(t,e);return jh(t.appConfig,n)}catch(n){throw SR(n)&&n.customData.serverCode===409?await NR(t.appConfig):await jh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function s$(t){let e=await zT(t.appConfig);for(;e.registrationStatus===1;)await PR(100),e=await zT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await hw(t);return r||n}return e}function zT(t){return zf(t,e=>{if(!e)throw So.create("installation-not-found");return DR(e)})}function DR(t){return o$(t)?{fid:t.fid,registrationStatus:0}:t}function o$(t){return t.registrationStatus===1&&t.registrationTime+_R<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a$({appConfig:t,heartbeatServiceProvider:e},n){const r=l$(t,n),i=zU(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:ER,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await RR(()=>fetch(r,a));if(l.ok){const c=await l.json();return bR(c)}else throw await AR("Generate Auth Token",l)}function l$(t,{fid:e}){return`${IR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(t,e=!1){let n;const r=await zf(t.appConfig,s=>{if(!LR(s))throw So.create("not-registered");const o=s.authToken;if(!e&&d$(o))return s;if(o.requestStatus===1)return n=u$(t,e),s;{if(!navigator.onLine)throw So.create("app-offline");const a=f$(s);return n=c$(t,a),a}});return n?await n:r.authToken}async function u$(t,e){let n=await HT(t.appConfig);for(;n.authToken.requestStatus===1;)await PR(100),n=await HT(t.appConfig);const r=n.authToken;return r.requestStatus===0?fw(t,e):r}function HT(t){return zf(t,e=>{if(!LR(e))throw So.create("not-registered");const n=e.authToken;return p$(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function c$(t,e){try{const n=await a$(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await jh(t.appConfig,r),n}catch(n){if(SR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await NR(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await jh(t.appConfig,r)}throw n}}function LR(t){return t!==void 0&&t.registrationStatus===2}function d$(t){return t.requestStatus===2&&!h$(t)}function h$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jU}function f$(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function p$(t){return t.requestStatus===1&&t.requestTime+_R<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m$(t){const e=t,{installationEntry:n,registrationPromise:r}=await hw(e);return r?r.catch(console.error):fw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g$(t,e=!1){const n=t;return await y$(n),(await fw(n,e)).token}async function y$(t){const{registrationPromise:e}=await hw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){if(!t||!t.options)throw fm("App Configuration");if(!t.name)throw fm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fm(t){return So.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="installations",w$="installations-internal",_$=t=>{const e=t.getProvider("app").getImmediate(),n=v$(e),r=Oo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},E$=t=>{const e=t.getProvider("app").getImmediate(),n=Oo(e,MR).getImmediate();return{getId:()=>m$(n),getToken:i=>g$(n,i)}};function T$(){qr(new Er(MR,_$,"PUBLIC")),qr(new Er(w$,E$,"PRIVATE"))}T$();nr(wR,cw);nr(wR,cw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="analytics",S$="firebase_id",I$="origin",b$=60*1e3,A$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Tf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new xo("analytics","Analytics",C$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){if(!t.startsWith(pw)){const e=Mn.create("invalid-gtag-resource",{gtagURL:t});return In.warn(e.message),""}return t}function FR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function P$(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function k$(t,e){const n=P$("firebase-js-sdk-policy",{createScriptURL:R$}),r=document.createElement("script"),i=`${pw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function x$(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function O$(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await FR(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){In.error(a)}t("config",i,s)}async function N$(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await FR(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){In.error(s)}}function D$(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await N$(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await O$(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){In.error(a)}}return i}function L$(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=D$(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function M$(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(pw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=30,V$=1e3;class j${constructor(e={},n=V$){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const VR=new j$;function U$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $$(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:U$(r)},s=A$.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function B$(t,e=VR,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new q$;return setTimeout(async()=>{a.abort()},b$),jR({appId:r,apiKey:i,measurementId:s},o,a,e)}async function jR(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=VR){var s;const{appId:o,measurementId:a}=t;try{await z$(r,e)}catch(l){if(a)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await $$(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!H$(c)){if(i.deleteThrottleMetadata(o),a)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?dE(n,i.intervalMillis,F$):dE(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,f),In.debug(`Calling attemptFetch again in ${d} millis`),jR(t,f,r,i)}}function z$(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function H$(t){if(!(t instanceof br)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class q${constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function W$(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(){if(Yb())try{await Jb()}catch(t){return In.warn(Mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return In.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function G$(t,e,n,r,i,s,o){var a;const l=B$(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>In.error(g)),e.push(l);const c=K$().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,c]);M$(s)||k$(s,d.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[I$]="firebase",p.update=!0,f!=null&&(p[S$]=f),i("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.app=e}_delete(){return delete mu[this.app.options.appId],Promise.resolve()}}let mu={},qT=[];const WT={};let pm="dataLayer",Y$="gtag",KT,UR,GT=!1;function J$(){const t=[];if(Qb()&&t.push("This is a browser extension environment."),HD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});In.warn(n.message)}}function X$(t,e,n){J$();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(mu[r]!=null)throw Mn.create("already-exists",{id:r});if(!GT){x$(pm);const{wrappedGtag:s,gtagCore:o}=L$(mu,qT,WT,pm,Y$);UR=s,KT=o,GT=!0}return mu[r]=G$(t,qT,WT,e,KT,pm,n),new Q$(t)}function Z$(t=yv()){t=xt(t);const e=Oo(t,Uh);return e.isInitialized()?e.getImmediate():e3(t)}function e3(t,e={}){const n=Oo(t,Uh);if(n.isInitialized()){const i=n.getImmediate();if(Es(e,n.getOptions()))return i;throw Mn.create("already-initialized")}return n.initialize({options:e})}function t3(t,e,n,r){t=xt(t),W$(UR,mu[t.app.options.appId],e,n,r).catch(i=>In.error(i))}const QT="@firebase/analytics",YT="0.10.15";function n3(){qr(new Er(Uh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return X$(r,i,n)},"PUBLIC")),qr(new Er("analytics-internal",t,"PRIVATE")),nr(QT,YT),nr(QT,YT,"esm2017");function t(e){try{const n=e.getProvider(Uh).getImmediate();return{logEvent:(r,i,s)=>t3(n,r,i,s)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}n3();const r3={apiKey:"AIzaSyBBN-vMDOTdz86uxF1JnCO5OGcR_ccurxc",authDomain:"rymapi.firebaseapp.com",projectId:"rymapi",storageBucket:"rymapi.appspot.com",messagingSenderId:"89497614420",appId:"1:89497614420:web:xxxxxxxxxxxxxxxx"},mw=tA(r3),gw=SV(mw),jd=vU(mw);Z$(mw);const i3=({fill:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t,viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",children:x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1.003 1.003 0 0 0 0-1.42l-2.34-2.34a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.82z"})}),s3=()=>{const{user:t,logout:e}=ic(),[n,r]=N.useState(""),[i,s]=N.useState("Morty"),[o,a]=N.useState(!1),[l,c]=N.useState(!1),d=N.useRef(null),f=N.useRef(null),p=rc(),g={Rick:"Rick",Morty:"Morty"};N.useEffect(()=>{const T=localStorage.getItem("theme")||g.Morty;w(T)},[]),N.useEffect(()=>{t!=null&&t.uid?(async()=>{const T=await LU(uR(jd,"users",t.uid));if(T.exists()){const L=T.data();r(L.username||"User")}})():r("")},[t]);const w=v=>{s(v),document.body.classList.remove(...Object.values(g)),document.body.classList.add(v),localStorage.setItem("theme",v)},E=()=>{const v=i===g.Rick?g.Morty:g.Rick;w(v),c(!1)},R=async()=>{await hF(gw),e(),localStorage.removeItem("user"),localStorage.removeItem("theme"),w(g.Morty),p("/login")};N.useEffect(()=>{const v=T=>{d.current&&!d.current.contains(T.target)&&a(!1),f.current&&!f.current.contains(T.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const b=i===g.Rick?"#fff":"#000";return x.jsxs("header",{className:"navbar",role:"banner",children:[x.jsx("h1",{className:"navbar-logo",children:x.jsx(gn,{to:"/","aria-label":"Go to homepage",children:x.jsx("img",{src:Ub,alt:"Rick icon"})})}),x.jsxs("nav",{className:"navbar-menu",ref:d,"aria-label":"Main menu",children:[x.jsx("button",{className:"navbar-menu-trigger","aria-expanded":o,"aria-controls":"menu-list",onClick:()=>a(v=>!v),children:"Menu"}),o&&x.jsxs("ul",{id:"menu-list",className:"navbar-menu-dropdown",role:"menu",children:[x.jsx("li",{children:x.jsx(gn,{to:"/regions",role:"menuitem",children:"Locations"})}),x.jsx("li",{children:x.jsx(gn,{to:"/characters",role:"menuitem",children:"Characters"})}),x.jsx("li",{children:x.jsx(gn,{to:"/enemies",role:"menuitem",children:"Episodes"})})]})]}),x.jsxs("section",{className:"navbar-auth",children:[x.jsx("span",{"aria-label":"Username",className:"navbar-user",children:n}),x.jsx(gn,{to:"/user","aria-label":"Go to profile",children:x.jsx("button",{children:"Profile"})}),x.jsx("button",{onClick:R,children:"Log Out"})]}),x.jsx("section",{className:"navbar-theme",ref:f,children:x.jsx("button",{className:"theme-button","aria-label":`Switch theme. Current: ${i}`,title:`Switch theme. Current: ${i}`,onClick:E,children:x.jsx(i3,{fill:b})})})]})},o3=({mainStyle:t,username:e,onLogout:n})=>x.jsxs("section",{className:"public-layout",children:[x.jsx(s3,{className:"navbar",username:e,onLogout:n}),x.jsx("main",{style:t,children:x.jsx(vh,{})}),x.jsx($b,{className:"footer"})]}),a3=()=>{const{isAuthenticated:t}=ic();return t?x.jsx(o3,{children:x.jsx(vh,{})}):x.jsx(ID,{children:x.jsx(vh,{})})};function $R(t,e){return function(){return t.apply(e,arguments)}}const{toString:l3}=Object.prototype,{getPrototypeOf:yw}=Object,Hf=(t=>e=>{const n=l3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ar=t=>(t=t.toLowerCase(),e=>Hf(e)===t),qf=t=>e=>typeof e===t,{isArray:hl}=Array,Wu=qf("undefined");function u3(t){return t!==null&&!Wu(t)&&t.constructor!==null&&!Wu(t.constructor)&&Fn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const BR=Ar("ArrayBuffer");function c3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&BR(t.buffer),e}const d3=qf("string"),Fn=qf("function"),zR=qf("number"),Wf=t=>t!==null&&typeof t=="object",h3=t=>t===!0||t===!1,Ud=t=>{if(Hf(t)!=="object")return!1;const e=yw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},f3=Ar("Date"),p3=Ar("File"),m3=Ar("Blob"),g3=Ar("FileList"),y3=t=>Wf(t)&&Fn(t.pipe),v3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Fn(t.append)&&((e=Hf(t))==="formdata"||e==="object"&&Fn(t.toString)&&t.toString()==="[object FormData]"))},w3=Ar("URLSearchParams"),[_3,E3,T3,S3]=["ReadableStream","Request","Response","Headers"].map(Ar),I3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),hl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function HR(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qR=t=>!Wu(t)&&t!==oo;function Xg(){const{caseless:t}=qR(this)&&this||{},e={},n=(r,i)=>{const s=t&&HR(e,i)||i;Ud(e[s])&&Ud(r)?e[s]=Xg(e[s],r):Ud(r)?e[s]=Xg({},r):hl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&yc(arguments[r],n);return e}const b3=(t,e,n,{allOwnKeys:r}={})=>(yc(e,(i,s)=>{n&&Fn(i)?t[s]=$R(i,n):t[s]=i},{allOwnKeys:r}),t),A3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),C3=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},R3=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&yw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},P3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},k3=t=>{if(!t)return null;if(hl(t))return t;let e=t.length;if(!zR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},x3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yw(Uint8Array)),O3=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},N3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},D3=Ar("HTMLFormElement"),L3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),JT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),M3=Ar("RegExp"),WR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};yc(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},F3=t=>{WR(t,(e,n)=>{if(Fn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Fn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},V3=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return hl(t)?r(t):r(String(t).split(e)),n},j3=()=>{},U3=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,mm="abcdefghijklmnopqrstuvwxyz",XT="0123456789",KR={DIGIT:XT,ALPHA:mm,ALPHA_DIGIT:mm+mm.toUpperCase()+XT},$3=(t=16,e=KR.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function B3(t){return!!(t&&Fn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const z3=t=>{const e=new Array(10),n=(r,i)=>{if(Wf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=hl(r)?[]:{};return yc(r,(o,a)=>{const l=n(o,i+1);!Wu(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},H3=Ar("AsyncFunction"),q3=t=>t&&(Wf(t)||Fn(t))&&Fn(t.then)&&Fn(t.catch),GR=((t,e)=>t?setImmediate:e?((n,r)=>(oo.addEventListener("message",({source:i,data:s})=>{i===oo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),oo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Fn(oo.postMessage)),W3=typeof queueMicrotask<"u"?queueMicrotask.bind(oo):typeof process<"u"&&process.nextTick||GR,B={isArray:hl,isArrayBuffer:BR,isBuffer:u3,isFormData:v3,isArrayBufferView:c3,isString:d3,isNumber:zR,isBoolean:h3,isObject:Wf,isPlainObject:Ud,isReadableStream:_3,isRequest:E3,isResponse:T3,isHeaders:S3,isUndefined:Wu,isDate:f3,isFile:p3,isBlob:m3,isRegExp:M3,isFunction:Fn,isStream:y3,isURLSearchParams:w3,isTypedArray:x3,isFileList:g3,forEach:yc,merge:Xg,extend:b3,trim:I3,stripBOM:A3,inherits:C3,toFlatObject:R3,kindOf:Hf,kindOfTest:Ar,endsWith:P3,toArray:k3,forEachEntry:O3,matchAll:N3,isHTMLForm:D3,hasOwnProperty:JT,hasOwnProp:JT,reduceDescriptors:WR,freezeMethods:F3,toObjectSet:V3,toCamelCase:L3,noop:j3,toFiniteNumber:U3,findKey:HR,global:oo,isContextDefined:qR,ALPHABET:KR,generateString:$3,isSpecCompliantForm:B3,toJSONObject:z3,isAsyncFn:H3,isThenable:q3,setImmediate:GR,asap:W3};function we(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}B.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const QR=we.prototype,YR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YR[t]={value:t}});Object.defineProperties(we,YR);Object.defineProperty(QR,"isAxiosError",{value:!0});we.from=(t,e,n,r,i,s)=>{const o=Object.create(QR);return B.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),we.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const K3=null;function Zg(t){return B.isPlainObject(t)||B.isArray(t)}function JR(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function ZT(t,e,n){return t?t.concat(e).map(function(i,s){return i=JR(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function G3(t){return B.isArray(t)&&!t.some(Zg)}const Q3=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Kf(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,R){return!B.isUndefined(R[E])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(B.isDate(w))return w.toISOString();if(!l&&B.isBlob(w))throw new we("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(w)||B.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,E,R){let b=w;if(w&&!R&&typeof w=="object"){if(B.endsWith(E,"{}"))E=r?E:E.slice(0,-2),w=JSON.stringify(w);else if(B.isArray(w)&&G3(w)||(B.isFileList(w)||B.endsWith(E,"[]"))&&(b=B.toArray(w)))return E=JR(E),b.forEach(function(T,L){!(B.isUndefined(T)||T===null)&&e.append(o===!0?ZT([E],L,s):o===null?E:E+"[]",c(T))}),!1}return Zg(w)?!0:(e.append(ZT(R,E,s),c(w)),!1)}const f=[],p=Object.assign(Q3,{defaultVisitor:d,convertValue:c,isVisitable:Zg});function g(w,E){if(!B.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+E.join("."));f.push(w),B.forEach(w,function(b,v){(!(B.isUndefined(b)||b===null)&&i.call(e,b,B.isString(v)?v.trim():v,E,p))===!0&&g(b,E?E.concat(v):[v])}),f.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return g(t),e}function e1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function vw(t,e){this._pairs=[],t&&Kf(t,this,e)}const XR=vw.prototype;XR.append=function(e,n){this._pairs.push([e,n])};XR.toString=function(e){const n=e?function(r){return e.call(this,r,e1)}:e1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Y3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZR(t,e,n){if(!e)return t;const r=n&&n.encode||Y3;B.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=B.isURLSearchParams(e)?e.toString():new vw(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class t1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(r){r!==null&&e(r)})}}const e2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J3=typeof URLSearchParams<"u"?URLSearchParams:vw,X3=typeof FormData<"u"?FormData:null,Z3=typeof Blob<"u"?Blob:null,e5={isBrowser:!0,classes:{URLSearchParams:J3,FormData:X3,Blob:Z3},protocols:["http","https","file","blob","url","data"]},ww=typeof window<"u"&&typeof document<"u",ey=typeof navigator=="object"&&navigator||void 0,t5=ww&&(!ey||["ReactNative","NativeScript","NS"].indexOf(ey.product)<0),n5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",r5=ww&&window.location.href||"http://localhost",i5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ww,hasStandardBrowserEnv:t5,hasStandardBrowserWebWorkerEnv:n5,navigator:ey,origin:r5},Symbol.toStringTag,{value:"Module"})),nn={...i5,...e5};function s5(t,e){return Kf(t,new nn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return nn.isNode&&B.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function o5(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function a5(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function t2(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&B.isArray(i)?i.length:o,l?(B.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!B.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&B.isArray(i[o])&&(i[o]=a5(i[o])),!a)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(r,i)=>{e(o5(r),i,n,0)}),n}return null}function l5(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const vc={transitional:e2,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=B.isObject(e);if(s&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return i?JSON.stringify(t2(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return s5(e,this.formSerializer).toString();if((a=B.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),l5(e)):e}],transformResponse:[function(e){const n=this.transitional||vc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?we.from(a,we.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{vc.headers[t]={}});const u5=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),c5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&u5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},n1=Symbol("internals");function Ul(t){return t&&String(t).trim().toLowerCase()}function $d(t){return t===!1||t==null?t:B.isArray(t)?t.map($d):String(t)}function d5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const h5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gm(t,e,n,r,i){if(B.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!B.isString(e)){if(B.isString(r))return e.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(e)}}function f5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function p5(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class bn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const d=Ul(l);if(!d)throw new Error("header name must be a non-empty string");const f=B.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=$d(a))}const o=(a,l)=>B.forEach(a,(c,d)=>s(c,d,l));if(B.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(B.isString(e)&&(e=e.trim())&&!h5(e))o(c5(e),n);else if(B.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Ul(e),e){const r=B.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return d5(i);if(B.isFunction(n))return n.call(this,i,r);if(B.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ul(e),e){const r=B.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||gm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ul(o),o){const a=B.findKey(r,o);a&&(!n||gm(r,r[a],a,n))&&(delete r[a],i=!0)}}return B.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||gm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return B.forEach(this,(i,s)=>{const o=B.findKey(r,s);if(o){n[o]=$d(i),delete n[s];return}const a=e?f5(s):String(s).trim();a!==s&&delete n[s],n[a]=$d(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&B.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[n1]=this[n1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ul(o);r[a]||(p5(i,o),r[a]=!0)}return B.isArray(e)?e.forEach(s):s(e),this}}bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(bn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});B.freezeMethods(bn);function ym(t,e){const n=this||vc,r=e||n,i=bn.from(r.headers);let s=r.data;return B.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function n2(t){return!!(t&&t.__CANCEL__)}function fl(t,e,n){we.call(this,t??"canceled",we.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(fl,we,{__CANCEL__:!0});function r2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function m5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function g5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[i]=l,r[i]=c;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const g=d&&c-d;return g?Math.round(p*1e3/g):void 0}}function y5(t,e){let n=0,r=1e3/e,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const $h=(t,e,n=3)=>{let r=0;const i=g5(50,250);return y5(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},r1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},i1=t=>(...e)=>B.asap(()=>t(...e)),v5=nn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,nn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,w5=nn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];B.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),B.isString(r)&&o.push("path="+r),B.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function E5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function i2(t,e){return t&&!_5(e)?E5(t,e):e}const s1=t=>t instanceof bn?{...t}:t;function bo(t,e){e=e||{};const n={};function r(c,d,f,p){return B.isPlainObject(c)&&B.isPlainObject(d)?B.merge.call({caseless:p},c,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function i(c,d,f,p){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c,f,p)}else return r(c,d,f,p)}function s(c,d){if(!B.isUndefined(d))return r(void 0,d)}function o(c,d){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in e)return r(c,d);if(f in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>i(s1(c),s1(d),f,!0)};return B.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||i,p=f(t[d],e[d],d);B.isUndefined(p)&&f!==a||(n[d]=p)}),n}const s2=t=>{const e=bo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=bn.from(o),e.url=ZR(i2(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(B.isFormData(n)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(nn.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(e)),r||r!==!1&&v5(e.url))){const c=i&&s&&w5.read(s);c&&o.set(i,c)}return e},T5=typeof XMLHttpRequest<"u",S5=T5&&function(t){return new Promise(function(n,r){const i=s2(t);let s=i.data;const o=bn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,f,p,g,w;function E(){g&&g(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let R=new XMLHttpRequest;R.open(i.method.toUpperCase(),i.url,!0),R.timeout=i.timeout;function b(){if(!R)return;const T=bn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),z={data:!a||a==="text"||a==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:T,config:t,request:R};r2(function(S){n(S),E()},function(S){r(S),E()},z),R=null}"onloadend"in R?R.onloadend=b:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(b)},R.onabort=function(){R&&(r(new we("Request aborted",we.ECONNABORTED,t,R)),R=null)},R.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let L=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const z=i.transitional||e2;i.timeoutErrorMessage&&(L=i.timeoutErrorMessage),r(new we(L,z.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,R)),R=null},s===void 0&&o.setContentType(null),"setRequestHeader"in R&&B.forEach(o.toJSON(),function(L,z){R.setRequestHeader(z,L)}),B.isUndefined(i.withCredentials)||(R.withCredentials=!!i.withCredentials),a&&a!=="json"&&(R.responseType=i.responseType),c&&([p,w]=$h(c,!0),R.addEventListener("progress",p)),l&&R.upload&&([f,g]=$h(l),R.upload.addEventListener("progress",f),R.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=T=>{R&&(r(!T||T.type?new fl(null,t,R):T),R.abort(),R=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=m5(i.url);if(v&&nn.protocols.indexOf(v)===-1){r(new we("Unsupported protocol "+v+":",we.ERR_BAD_REQUEST,t));return}R.send(s||null)})},I5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof we?d:new fl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>B.asap(a),l}},b5=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},A5=async function*(t,e){for await(const n of C5(t))yield*b5(n,e)},C5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},o1=(t,e,n,r)=>{const i=A5(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let p=s+=f;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Gf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",o2=Gf&&typeof ReadableStream=="function",R5=Gf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),a2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},P5=o2&&a2(()=>{let t=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),a1=64*1024,ty=o2&&a2(()=>B.isReadableStream(new Response("").body)),Bh={stream:ty&&(t=>t.body)};Gf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bh[e]&&(Bh[e]=B.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new we(`Response type '${e}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);const k5=async t=>{if(t==null)return 0;if(B.isBlob(t))return t.size;if(B.isSpecCompliantForm(t))return(await new Request(nn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(B.isArrayBufferView(t)||B.isArrayBuffer(t))return t.byteLength;if(B.isURLSearchParams(t)&&(t=t+""),B.isString(t))return(await R5(t)).byteLength},x5=async(t,e)=>{const n=B.toFiniteNumber(t.getContentLength());return n??k5(e)},O5=Gf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:p}=s2(t);c=c?(c+"").toLowerCase():"text";let g=I5([i,s&&s.toAbortSignal()],o),w;const E=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let R;try{if(l&&P5&&n!=="get"&&n!=="head"&&(R=await x5(d,r))!==0){let z=new Request(e,{method:"POST",body:r,duplex:"half"}),A;if(B.isFormData(r)&&(A=z.headers.get("content-type"))&&d.setContentType(A),z.body){const[S,y]=r1(R,$h(i1(l)));r=o1(z.body,a1,S,y)}}B.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;w=new Request(e,{...p,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:b?f:void 0});let v=await fetch(w);const T=ty&&(c==="stream"||c==="response");if(ty&&(a||T&&E)){const z={};["status","statusText","headers"].forEach(I=>{z[I]=v[I]});const A=B.toFiniteNumber(v.headers.get("content-length")),[S,y]=a&&r1(A,$h(i1(a),!0))||[];v=new Response(o1(v.body,a1,S,()=>{y&&y(),E&&E()}),z)}c=c||"text";let L=await Bh[B.findKey(Bh,c)||"text"](v,t);return!T&&E&&E(),await new Promise((z,A)=>{r2(z,A,{data:L,headers:bn.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:w})})}catch(b){throw E&&E(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,t,w),{cause:b.cause||b}):we.from(b,b&&b.code,t,w)}}),ny={http:K3,xhr:S5,fetch:O5};B.forEach(ny,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const l1=t=>`- ${t}`,N5=t=>B.isFunction(t)||t===null||t===!1,l2={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!N5(n)&&(r=ny[(o=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(l1).join(`
`):" "+l1(s[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ny};function vm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fl(null,t)}function u1(t){return vm(t),t.headers=bn.from(t.headers),t.data=ym.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),l2.getAdapter(t.adapter||vc.adapter)(t).then(function(r){return vm(t),r.data=ym.call(t,t.transformResponse,r),r.headers=bn.from(r.headers),r},function(r){return n2(r)||(vm(t),r&&r.response&&(r.response.data=ym.call(t,t.transformResponse,r.response),r.response.headers=bn.from(r.response.headers))),Promise.reject(r)})}const u2="1.7.8",Qf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Qf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const c1={};Qf.transitional=function(e,n,r){function i(s,o){return"[Axios v"+u2+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new we(i(o," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!c1[o]&&(c1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Qf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function D5(t,e,n){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new we("option "+s+" must be "+l,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+s,we.ERR_BAD_OPTION)}}const Bd={assertOptions:D5,validators:Qf},xr=Bd.validators;class uo{constructor(e){this.defaults=e,this.interceptors={request:new t1,response:new t1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=bo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Bd.assertOptions(r,{silentJSONParsing:xr.transitional(xr.boolean),forcedJSONParsing:xr.transitional(xr.boolean),clarifyTimeoutError:xr.transitional(xr.boolean)},!1),i!=null&&(B.isFunction(i)?n.paramsSerializer={serialize:i}:Bd.assertOptions(i,{encode:xr.function,serialize:xr.function},!0)),Bd.assertOptions(n,{baseUrl:xr.spelling("baseURL"),withXsrfToken:xr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&B.merge(s.common,s[n.method]);s&&B.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=bn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(l=l&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});const c=[];this.interceptors.response.forEach(function(E){c.push(E.fulfilled,E.rejected)});let d,f=0,p;if(!l){const w=[u1.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,c),p=w.length,d=Promise.resolve(n);f<p;)d=d.then(w[f++],w[f++]);return d}p=a.length;let g=n;for(f=0;f<p;){const w=a[f++],E=a[f++];try{g=w(g)}catch(R){E.call(this,R);break}}try{d=u1.call(this,g)}catch(w){return Promise.reject(w)}for(f=0,p=c.length;f<p;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=bo(this.defaults,e);const n=i2(e.baseURL,e.url);return ZR(n,e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(e){uo.prototype[e]=function(n,r){return this.request(bo(r||{},{method:e,url:n,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(bo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}uo.prototype[e]=n(),uo.prototype[e+"Form"]=n(!0)});class _w{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new fl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new _w(function(i){e=i}),cancel:e}}}function L5(t){return function(n){return t.apply(null,n)}}function M5(t){return B.isObject(t)&&t.isAxiosError===!0}const ry={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ry).forEach(([t,e])=>{ry[e]=t});function c2(t){const e=new uo(t),n=$R(uo.prototype.request,e);return B.extend(n,uo.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return c2(bo(t,i))},n}const mt=c2(vc);mt.Axios=uo;mt.CanceledError=fl;mt.CancelToken=_w;mt.isCancel=n2;mt.VERSION=u2;mt.toFormData=Kf;mt.AxiosError=we;mt.Cancel=mt.CanceledError;mt.all=function(e){return Promise.all(e)};mt.spread=L5;mt.isAxiosError=M5;mt.mergeConfig=bo;mt.AxiosHeaders=bn;mt.formToJSON=t=>t2(B.isHTMLForm(t)?new FormData(t):t);mt.getAdapter=l2.getAdapter;mt.HttpStatusCode=ry;mt.default=mt;const d2="/RyMApi/assets/Paimon_Confuse-DaTbW7-r.png",F5=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null),[o,a]=N.useState(1),[l,c]=N.useState(new Set),d=5,[f,p]=N.useState({}),g=d2,w=async()=>{try{r(!0);const S=(await mt.get("https://rickandmortyapi.com/api/character")).data.info.pages,y=[];for(let k=1;k<=S;k++)y.push(mt.get(`https://rickandmortyapi.com/api/character?page=${k}`));const C=(await Promise.all(y)).flatMap(k=>k.data.results.map(D=>({id:`char-${D.id}`,name:D.name,portrait:D.image})));e(C)}catch(A){s(`Error fetching characters: ${A.message}`)}finally{r(!1)}},E=A=>{if(f[A.id])return f[A.id];const S=A.portrait||g,y=new Image;return y.onload=()=>p(I=>({...I,[A.id]:S})),y.onerror=()=>p(I=>({...I,[A.id]:g})),y.src=S,S};N.useEffect(()=>{w()},[]),N.useEffect(()=>{c(A=>new Set(A).add(o))},[o]);const R=o*d,b=R-d,v=t.slice(b,R),T=o===1,L=R>=t.length;Math.ceil(t.length/d);const z=()=>{const A=Math.ceil(t.length/d),S=new Set;S.add(1);for(let y=o-3;y<=o+3;y++)y>1&&y<A&&S.add(y);return A>1&&S.add(A),Array.from(S).sort((y,I)=>y-I)};return n?x.jsx("div",{className:"loading",children:"Loading..."}):i?x.jsx("div",{className:"error",children:i}):x.jsxs("main",{className:"api-pagination",children:[x.jsx("section",{className:"item-list",children:v.map(A=>x.jsxs("article",{className:"card",children:[x.jsx("img",{src:E(A),alt:A.name||"Unnamed",className:"card-image"}),x.jsx("h3",{className:"card-title",children:A.name})]},A.id))}),x.jsxs("nav",{className:"pagination",children:[x.jsx("button",{onClick:()=>a(A=>A-1),disabled:T,children:"Prev"}),z().map(A=>x.jsx("button",{onClick:()=>a(A),className:`${A===o?"active":""} ${l.has(A)?"visited":""}`,children:A},A)),x.jsx("button",{onClick:()=>a(A=>A+1),disabled:L,children:"Next"})]})]})};function V5(){return x.jsxs("main",{className:"home-page",children:[x.jsx("h1",{className:"title",children:"RickPedia"}),x.jsx("h2",{className:"subtitle",children:"Welcome to RickPedia"}),x.jsxs("p",{className:"description",children:["Genshin Api is a website where you can visit all the information you need about your favourite characters or enemies you want to defeat.",x.jsx("br",{}),"Furthermore, you can create your own profile, design it your way, and create your own posts and comment on others' ones."]}),x.jsx(F5,{})]})}/*!
* sweetalert2 v11.14.5
* Released under the MIT License.
*/function h2(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function j5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d1(t,e){return t.get(h2(t,e))}function U5(t,e,n){j5(t,e),e.set(t,n)}function $5(t,e,n){return t.set(h2(t,e),n),n}const B5=100,he={},z5=()=>{he.previousActiveElement instanceof HTMLElement?(he.previousActiveElement.focus(),he.previousActiveElement=null):document.body&&document.body.focus()},H5=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;he.restoreFocusTimeout=setTimeout(()=>{z5(),e()},B5),window.scrollTo(n,r)}),f2="swal2-",q5=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],$=q5.reduce((t,e)=>(t[e]=f2+e,t),{}),W5=["success","warning","info","question","error"],zh=W5.reduce((t,e)=>(t[e]=f2+e,t),{}),p2="SweetAlert2:",Ew=t=>t.charAt(0).toUpperCase()+t.slice(1),Cn=t=>{console.warn(`${p2} ${typeof t=="object"?t.join(" "):t}`)},Mo=t=>{console.error(`${p2} ${t}`)},h1=[],K5=t=>{h1.includes(t)||(h1.push(t),Cn(t))},m2=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;K5(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Yf=t=>typeof t=="function"?t():t,Tw=t=>t&&typeof t.toPromise=="function",wc=t=>Tw(t)?t.toPromise():Promise.resolve(t),Sw=t=>t&&Promise.resolve(t)===t,Rn=()=>document.body.querySelector(`.${$.container}`),_c=t=>{const e=Rn();return e?e.querySelector(t):null},Bn=t=>_c(`.${t}`),ze=()=>Bn($.popup),Ec=()=>Bn($.icon),G5=()=>Bn($["icon-content"]),g2=()=>Bn($.title),Iw=()=>Bn($["html-container"]),y2=()=>Bn($.image),bw=()=>Bn($["progress-steps"]),Jf=()=>Bn($["validation-message"]),Gr=()=>_c(`.${$.actions} .${$.confirm}`),pl=()=>_c(`.${$.actions} .${$.cancel}`),Fo=()=>_c(`.${$.actions} .${$.deny}`),Q5=()=>Bn($["input-label"]),ml=()=>_c(`.${$.loader}`),Tc=()=>Bn($.actions),v2=()=>Bn($.footer),Xf=()=>Bn($["timer-progress-bar"]),Aw=()=>Bn($.close),Y5=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Cw=()=>{const t=ze();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((s,o)=>{const a=parseInt(s.getAttribute("tabindex")||"0"),l=parseInt(o.getAttribute("tabindex")||"0");return a>l?1:a<l?-1:0}),r=t.querySelectorAll(Y5),i=Array.from(r).filter(s=>s.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(s=>An(s))},Rw=()=>vi(document.body,$.shown)&&!vi(document.body,$["toast-shown"])&&!vi(document.body,$["no-backdrop"]),Zf=()=>{const t=ze();return t?vi(t,$.toast):!1},J5=()=>{const t=ze();return t?t.hasAttribute("data-loading"):!1},zn=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(o=>{t.appendChild(o)});const s=r.querySelector("body");s&&Array.from(s.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},vi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},X5=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values($).includes(n)&&!Object.values(zh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},jn=(t,e,n)=>{if(X5(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Cn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Me(t,r)}},ep=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${$.popup} > .${$[e]}`);case"checkbox":return t.querySelector(`.${$.popup} > .${$.checkbox} input`);case"radio":return t.querySelector(`.${$.popup} > .${$.radio} input:checked`)||t.querySelector(`.${$.popup} > .${$.radio} input:first-child`);case"range":return t.querySelector(`.${$.popup} > .${$.range} input`);default:return t.querySelector(`.${$.popup} > .${$.input}`)}},w2=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},_2=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},Me=(t,e)=>{_2(t,e,!0)},Qr=(t,e)=>{_2(t,e,!1)},rs=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&vi(i,e))return i}},co=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Mt=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},on=t=>{t&&(t.style.display="none")},Pw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{Sc(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},f1=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},Sc=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?Mt(t,n):on(t)},An=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),Z5=()=>!An(Gr())&&!An(Fo())&&!An(pl()),p1=t=>t.scrollHeight>t.clientHeight,E2=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},kw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Xf();n&&An(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},e6=()=>{const t=Xf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},t6=()=>typeof window>"u"||typeof document>"u",n6=`
 <div aria-labelledby="${$.title}" aria-describedby="${$["html-container"]}" class="${$.popup}" tabindex="-1">
   <button type="button" class="${$.close}"></button>
   <ul class="${$["progress-steps"]}"></ul>
   <div class="${$.icon}"></div>
   <img class="${$.image}" />
   <h2 class="${$.title}" id="${$.title}"></h2>
   <div class="${$["html-container"]}" id="${$["html-container"]}"></div>
   <input class="${$.input}" id="${$.input}" />
   <input type="file" class="${$.file}" />
   <div class="${$.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${$.select}" id="${$.select}"></select>
   <div class="${$.radio}"></div>
   <label class="${$.checkbox}">
     <input type="checkbox" id="${$.checkbox}" />
     <span class="${$.label}"></span>
   </label>
   <textarea class="${$.textarea}" id="${$.textarea}"></textarea>
   <div class="${$["validation-message"]}" id="${$["validation-message"]}"></div>
   <div class="${$.actions}">
     <div class="${$.loader}"></div>
     <button type="button" class="${$.confirm}"></button>
     <button type="button" class="${$.deny}"></button>
     <button type="button" class="${$.cancel}"></button>
   </div>
   <div class="${$.footer}"></div>
   <div class="${$["timer-progress-bar-container"]}">
     <div class="${$["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),r6=()=>{const t=Rn();return t?(t.remove(),Qr([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0):!1},Ks=()=>{he.currentInstance.resetValidationMessage()},i6=()=>{const t=ze(),e=rs(t,$.input),n=rs(t,$.file),r=t.querySelector(`.${$.range} input`),i=t.querySelector(`.${$.range} output`),s=rs(t,$.select),o=t.querySelector(`.${$.checkbox} input`),a=rs(t,$.textarea);e.oninput=Ks,n.onchange=Ks,s.onchange=Ks,o.onchange=Ks,a.oninput=Ks,r.oninput=()=>{Ks(),i.value=r.value},r.onchange=()=>{Ks(),i.value=r.value}},s6=t=>typeof t=="string"?document.querySelector(t):t,o6=t=>{const e=ze();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},a6=t=>{window.getComputedStyle(t).direction==="rtl"&&Me(Rn(),$.rtl)},l6=t=>{const e=r6();if(t6()){Mo("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=$.container,e&&Me(n,$["no-transition"]),zn(n,n6);const r=s6(t.target);r.appendChild(n),o6(t),a6(r),i6()},xw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?u6(t,e):t&&zn(e,t)},u6=(t,e)=>{t.jquery?c6(e,t):zn(e,t.toString())},c6=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},d6=(t,e)=>{const n=Tc(),r=ml();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?on(n):Mt(n),jn(n,e,"actions"),h6(n,r,e),zn(r,e.loaderHtml||""),jn(r,e,"loader"))};function h6(t,e,n){const r=Gr(),i=Fo(),s=pl();!r||!i||!s||(wm(r,"confirm",n),wm(i,"deny",n),wm(s,"cancel",n),f6(r,i,s,n),n.reverseButtons&&(n.toast?(t.insertBefore(s,r),t.insertBefore(i,r)):(t.insertBefore(s,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function f6(t,e,n,r){if(!r.buttonsStyling){Qr([t,e,n],$.styled);return}Me([t,e,n],$.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,Me(t,$["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,Me(e,$["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,Me(n,$["default-outline"]))}function wm(t,e,n){const r=Ew(e);Sc(t,n[`show${r}Button`],"inline-block"),zn(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=$[e],jn(t,n,`${e}Button`)}const p6=(t,e)=>{const n=Aw();n&&(zn(n,e.closeButtonHtml||""),jn(n,e,"closeButton"),Sc(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},m6=(t,e)=>{const n=Rn();n&&(g6(n,e.backdrop),y6(n,e.position),v6(n,e.grow),jn(n,e,"container"))};function g6(t,e){typeof e=="string"?t.style.background=e:e||Me([document.documentElement,document.body],$["no-backdrop"])}function y6(t,e){e&&(e in $?Me(t,$[e]):(Cn('The "position" parameter is not valid, defaulting to "center"'),Me(t,$.center)))}function v6(t,e){e&&Me(t,$[`grow-${e}`])}var Je={innerParams:new WeakMap,domCache:new WeakMap};const w6=["input","file","range","select","radio","checkbox","textarea"],_6=(t,e)=>{const n=ze();if(!n)return;const r=Je.innerParams.get(t),i=!r||e.input!==r.input;w6.forEach(s=>{const o=rs(n,$[s]);o&&(S6(s,e.inputAttributes),o.className=$[s],i&&on(o))}),e.input&&(i&&E6(e),I6(e))},E6=t=>{if(!t.input)return;if(!vt[t.input]){Mo(`Unexpected type of input! Expected ${Object.keys(vt).join(" | ")}, got "${t.input}"`);return}const e=T2(t.input);if(!e)return;const n=vt[t.input](e,t);Mt(e),t.inputAutoFocus&&setTimeout(()=>{w2(n)})},T6=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},S6=(t,e)=>{const n=ze();if(!n)return;const r=ep(n,t);if(r){T6(r);for(const i in e)r.setAttribute(i,e[i])}},I6=t=>{if(!t.input)return;const e=T2(t.input);e&&jn(e,t,"input")},Ow=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Ic=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=$["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&Me(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},T2=t=>{const e=ze();if(e)return rs(e,$[t]||$.input)},Hh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Sw(e)||Cn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=(t,e)=>(Hh(t,e.inputValue),Ic(t,t,e),Ow(t,e),t.type=e.input,t);vt.file=(t,e)=>(Ic(t,t,e),Ow(t,e),t);vt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Hh(n,e.inputValue),n.type=e.input,Hh(r,e.inputValue),Ic(n,t,e),t};vt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");zn(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Ic(t,t,e),t};vt.radio=t=>(t.textContent="",t);vt.checkbox=(t,e)=>{const n=ep(ze(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return zn(r,e.inputPlaceholder||e.inputLabel),n};vt.textarea=(t,e)=>{Hh(t,e.inputValue),Ow(t,e),Ic(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(ze()).width),i=()=>{if(!document.body.contains(t))return;const s=t.offsetWidth+n(t);s>r?ze().style.width=`${s}px`:co(ze(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const b6=(t,e)=>{const n=Iw();n&&(Pw(n),jn(n,e,"htmlContainer"),e.html?(xw(e.html,n),Mt(n,"block")):e.text?(n.textContent=e.text,Mt(n,"block")):on(n),_6(t,e))},A6=(t,e)=>{const n=v2();n&&(Pw(n),Sc(n,e.footer,"block"),e.footer&&xw(e.footer,n),jn(n,e,"footer"))},C6=(t,e)=>{const n=Je.innerParams.get(t),r=Ec();if(r){if(n&&e.icon===n.icon){g1(r,e),m1(r,e);return}if(!e.icon&&!e.iconHtml){on(r);return}if(e.icon&&Object.keys(zh).indexOf(e.icon)===-1){Mo(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),on(r);return}Mt(r),g1(r,e),m1(r,e),Me(r,e.showClass&&e.showClass.icon)}},m1=(t,e)=>{for(const[n,r]of Object.entries(zh))e.icon!==n&&Qr(t,r);Me(t,e.icon&&zh[e.icon]),x6(t,e),R6(),jn(t,e,"icon")},R6=()=>{const t=ze();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},P6=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,k6=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,g1=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=y1(e.iconHtml):e.icon==="success"?(r=P6,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=k6:e.icon&&(r=y1({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&zn(t,r)},x6=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])f1(t,n,"background-color",e.iconColor);f1(t,".swal2-success-ring","border-color",e.iconColor)}},y1=t=>`<div class="${$["icon-content"]}">${t}</div>`,O6=(t,e)=>{const n=y2();if(n){if(!e.imageUrl){on(n);return}Mt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),co(n,"width",e.imageWidth),co(n,"height",e.imageHeight),n.className=$.image,jn(n,e,"image")}},N6=(t,e)=>{const n=Rn(),r=ze();if(!(!n||!r)){if(e.toast){co(n,"width",e.width),r.style.width="100%";const i=ml();i&&r.insertBefore(i,Ec())}else co(r,"width",e.width);co(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),on(Jf()),D6(r,e)}},D6=(t,e)=>{const n=e.showClass||{};t.className=`${$.popup} ${An(t)?n.popup:""}`,e.toast?(Me([document.documentElement,document.body],$["toast-shown"]),Me(t,$.toast)):Me(t,$.modal),jn(t,e,"popup"),typeof e.customClass=="string"&&Me(t,e.customClass),e.icon&&Me(t,$[`icon-${e.icon}`])},L6=(t,e)=>{const n=bw();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){on(n);return}Mt(n),n.textContent="",i>=r.length&&Cn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((s,o)=>{const a=M6(s);if(n.appendChild(a),o===i&&Me(a,$["active-progress-step"]),o!==r.length-1){const l=F6(e);n.appendChild(l)}})},M6=t=>{const e=document.createElement("li");return Me(e,$["progress-step"]),zn(e,t),e},F6=t=>{const e=document.createElement("li");return Me(e,$["progress-step-line"]),t.progressStepsDistance&&co(e,"width",t.progressStepsDistance),e},V6=(t,e)=>{const n=g2();n&&(Pw(n),Sc(n,e.title||e.titleText,"block"),e.title&&xw(e.title,n),e.titleText&&(n.innerText=e.titleText),jn(n,e,"title"))},S2=(t,e)=>{N6(t,e),m6(t,e),L6(t,e),C6(t,e),O6(t,e),V6(t,e),p6(t,e),b6(t,e),d6(t,e),A6(t,e);const n=ze();typeof e.didRender=="function"&&n&&e.didRender(n),he.eventEmitter.emit("didRender",n)},j6=()=>An(ze()),I2=()=>{var t;return(t=Gr())===null||t===void 0?void 0:t.click()},U6=()=>{var t;return(t=Fo())===null||t===void 0?void 0:t.click()},$6=()=>{var t;return(t=pl())===null||t===void 0?void 0:t.click()},gl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),b2=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},B6=(t,e,n)=>{b2(t),e.toast||(t.keydownHandler=r=>H6(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:ze(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},iy=(t,e)=>{var n;const r=Cw();if(r.length){t=t+e,t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=ze())===null||n===void 0||n.focus()},A2=["ArrowRight","ArrowDown"],z6=["ArrowLeft","ArrowUp"],H6=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?q6(e,t):e.key==="Tab"?W6(e):[...A2,...z6].includes(e.key)?K6(e.key):e.key==="Escape"&&G6(e,t,n)))},q6=(t,e)=>{if(!Yf(e.allowEnterKey))return;const n=ep(ze(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;I2(),t.preventDefault()}},W6=t=>{const e=t.target,n=Cw();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?iy(r,-1):iy(r,1),t.stopPropagation(),t.preventDefault()},K6=t=>{const e=Tc(),n=Gr(),r=Fo(),i=pl();if(!e||!n||!r||!i)return;const s=[n,r,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const o=A2.includes(t)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let l=0;l<e.children.length;l++){if(a=a[o],!a)return;if(a instanceof HTMLButtonElement&&An(a))break}a instanceof HTMLButtonElement&&a.focus()}},G6=(t,e,n)=>{Yf(e.allowEscapeKey)&&(t.preventDefault(),n(gl.esc))};var Ya={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Q6=()=>{const t=Rn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},C2=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},R2=typeof window<"u"&&!!window.GestureEvent,Y6=()=>{if(R2&&!vi(document.body,$.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Me(document.body,$.iosfix),J6()}},J6=()=>{const t=Rn();if(!t)return;let e;t.ontouchstart=n=>{e=X6(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},X6=t=>{const e=t.target,n=Rn(),r=Iw();return!n||!r||Z6(t)||eB(t)?!1:e===n||!p1(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(p1(r)&&r.contains(e))},Z6=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",eB=t=>t.touches&&t.touches.length>1,tB=()=>{if(vi(document.body,$.iosfix)){const t=parseInt(document.body.style.top,10);Qr(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},nB=()=>{const t=document.createElement("div");t.className=$["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Na=null;const rB=t=>{Na===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Na=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Na+nB()}px`)},iB=()=>{Na!==null&&(document.body.style.paddingRight=`${Na}px`,Na=null)};function P2(t,e,n,r){Zf()?v1(t,r):(H5(n).then(()=>v1(t,r)),b2(he)),R2?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Rw()&&(iB(),tB(),C2()),sB()}function sB(){Qr([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function is(t){t=aB(t);const e=Ya.swalPromiseResolve.get(this),n=oB(this);this.isAwaitingPromise?t.isDismissed||(bc(this),e(t)):n&&e(t)}const oB=t=>{const e=ze();if(!e)return!1;const n=Je.innerParams.get(t);if(!n||vi(e,n.hideClass.popup))return!1;Qr(e,n.showClass.popup),Me(e,n.hideClass.popup);const r=Rn();return Qr(r,n.showClass.backdrop),Me(r,n.hideClass.backdrop),lB(t,e,n),!0};function k2(t){const e=Ya.swalPromiseReject.get(this);bc(this),e&&e(t)}const bc=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Je.innerParams.get(t)||t._destroy())},aB=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),lB=(t,e,n)=>{var r;const i=Rn(),s=E2(e);typeof n.willClose=="function"&&n.willClose(e),(r=he.eventEmitter)===null||r===void 0||r.emit("willClose",e),s?uB(t,e,i,n.returnFocus,n.didClose):P2(t,i,n.returnFocus,n.didClose)},uB=(t,e,n,r,i)=>{he.swalCloseEventFinishedCallback=P2.bind(null,t,n,r,i);const s=function(o){if(o.target===e){var a;(a=he.swalCloseEventFinishedCallback)===null||a===void 0||a.call(he),delete he.swalCloseEventFinishedCallback,e.removeEventListener("animationend",s),e.removeEventListener("transitionend",s)}};e.addEventListener("animationend",s),e.addEventListener("transitionend",s)},v1=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=he.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Ja=t=>{let e=ze();if(e||new Fr,e=ze(),!e)return;const n=ml();Zf()?on(Ec()):cB(e,t),Mt(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},cB=(t,e)=>{const n=Tc(),r=ml();!n||!r||(!e&&An(Gr())&&(e=Gr()),Mt(n),e&&(on(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),Me([t,n],$.loading))},dB=(t,e)=>{e.input==="select"||e.input==="radio"?gB(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Tw(e.inputValue)||Sw(e.inputValue))&&(Ja(Gr()),yB(t,e))},hB=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return fB(n);case"radio":return pB(n);case"file":return mB(n);default:return e.inputAutoTrim?n.value.trim():n.value}},fB=t=>t.checked?1:0,pB=t=>t.checked?t.value:null,mB=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,gB=(t,e)=>{const n=ze();if(!n)return;const r=i=>{e.input==="select"?vB(n,qh(i),e):e.input==="radio"&&wB(n,qh(i),e)};Tw(e.inputOptions)||Sw(e.inputOptions)?(Ja(Gr()),wc(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):Mo(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},yB=(t,e)=>{const n=t.getInput();n&&(on(n),wc(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Mt(n),n.focus(),t.hideLoading()}).catch(r=>{Mo(`Error in inputValue promise: ${r}`),n.value="",Mt(n),n.focus(),t.hideLoading()}))};function vB(t,e,n){const r=rs(t,$.select);if(!r)return;const i=(s,o,a)=>{const l=document.createElement("option");l.value=a,zn(l,o),l.selected=x2(a,n.inputValue),s.appendChild(l)};e.forEach(s=>{const o=s[0],a=s[1];if(Array.isArray(a)){const l=document.createElement("optgroup");l.label=o,l.disabled=!1,r.appendChild(l),a.forEach(c=>i(l,c[1],c[0]))}else i(r,a,o)}),r.focus()}function wB(t,e,n){const r=rs(t,$.radio);if(!r)return;e.forEach(s=>{const o=s[0],a=s[1],l=document.createElement("input"),c=document.createElement("label");l.type="radio",l.name=$.radio,l.value=o,x2(o,n.inputValue)&&(l.checked=!0);const d=document.createElement("span");zn(d,a),d.className=$.label,c.appendChild(l),c.appendChild(d),r.appendChild(c)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const qh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=qh(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=qh(r)),e.push([n,r])}),e},x2=(t,e)=>!!e&&e.toString()===t.toString(),_B=t=>{const e=Je.innerParams.get(t);t.disableButtons(),e.input?O2(t,"confirm"):Dw(t,!0)},EB=t=>{const e=Je.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?O2(t,"deny"):Nw(t,!1)},TB=(t,e)=>{t.disableButtons(),e(gl.cancel)},O2=(t,e)=>{const n=Je.innerParams.get(t);if(!n.input){Mo(`The "input" parameter is needed to be set when using returnInputValueOn${Ew(e)}`);return}const r=t.getInput(),i=hB(t,n);n.inputValidator?SB(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Nw(t,i):Dw(t,i)},SB=(t,e,n)=>{const r=Je.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>wc(r.inputValidator(e,r.validationMessage))).then(s=>{t.enableButtons(),t.enableInput(),s?t.showValidationMessage(s):n==="deny"?Nw(t,e):Dw(t,e)})},Nw=(t,e)=>{const n=Je.innerParams.get(t||void 0);n.showLoaderOnDeny&&Ja(Fo()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>wc(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),bc(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>N2(t||void 0,i))):t.close({isDenied:!0,value:e})},w1=(t,e)=>{t.close({isConfirmed:!0,value:e})},N2=(t,e)=>{t.rejectPromise(e)},Dw=(t,e)=>{const n=Je.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Ja(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>wc(n.preConfirm(e,n.validationMessage))).then(i=>{An(Jf())||i===!1?(t.hideLoading(),bc(t)):w1(t,typeof i>"u"?e:i)}).catch(i=>N2(t||void 0,i))):w1(t,e)};function Wh(){const t=Je.innerParams.get(this);if(!t)return;const e=Je.domCache.get(this);on(e.loader),Zf()?t.icon&&Mt(Ec()):IB(e),Qr([e.popup,e.actions],$.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const IB=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Mt(e[0],"inline-block"):Z5()&&on(t.actions)};function D2(){const t=Je.innerParams.get(this),e=Je.domCache.get(this);return e?ep(e.popup,t.input):null}function L2(t,e,n){const r=Je.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function M2(t,e){const n=ze();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${$.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function F2(){L2(this,["confirmButton","denyButton","cancelButton"],!1)}function V2(){L2(this,["confirmButton","denyButton","cancelButton"],!0)}function j2(){M2(this.getInput(),!1)}function U2(){M2(this.getInput(),!0)}function $2(t){const e=Je.domCache.get(this),n=Je.innerParams.get(this);zn(e.validationMessage,t),e.validationMessage.className=$["validation-message"],n.customClass&&n.customClass.validationMessage&&Me(e.validationMessage,n.customClass.validationMessage),Mt(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",$["validation-message"]),w2(r),Me(r,$.inputerror))}function B2(){const t=Je.domCache.get(this);t.validationMessage&&on(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Qr(e,$.inputerror))}const Da={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},bB=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],AB={allowEnterKey:void 0},CB=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],z2=t=>Object.prototype.hasOwnProperty.call(Da,t),H2=t=>bB.indexOf(t)!==-1,q2=t=>AB[t],RB=t=>{z2(t)||Cn(`Unknown parameter "${t}"`)},PB=t=>{CB.includes(t)&&Cn(`The parameter "${t}" is incompatible with toasts`)},kB=t=>{const e=q2(t);e&&m2(t,e)},xB=t=>{t.backdrop===!1&&t.allowOutsideClick&&Cn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)RB(e),t.toast&&PB(e),kB(e)};function W2(t){const e=ze(),n=Je.innerParams.get(this);if(!e||vi(e,n.hideClass.popup)){Cn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=OB(t),i=Object.assign({},n,r);S2(this,i),Je.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const OB=t=>{const e={};return Object.keys(t).forEach(n=>{H2(n)?e[n]=t[n]:Cn(`Invalid parameter to update: ${n}`)}),e};function K2(){const t=Je.domCache.get(this),e=Je.innerParams.get(this);if(!e){G2(this);return}t.popup&&he.swalCloseEventFinishedCallback&&(he.swalCloseEventFinishedCallback(),delete he.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),he.eventEmitter.emit("didDestroy"),NB(this)}const NB=t=>{G2(t),delete t.params,delete he.keydownHandler,delete he.keydownTarget,delete he.currentInstance},G2=t=>{t.isAwaitingPromise?(_m(Je,t),t.isAwaitingPromise=!0):(_m(Ya,t),_m(Je,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},_m=(t,e)=>{for(const n in t)t[n].delete(e)};var DB=Object.freeze({__proto__:null,_destroy:K2,close:is,closeModal:is,closePopup:is,closeToast:is,disableButtons:V2,disableInput:U2,disableLoading:Wh,enableButtons:F2,enableInput:j2,getInput:D2,handleAwaitingPromise:bc,hideLoading:Wh,rejectPromise:k2,resetValidationMessage:B2,showValidationMessage:$2,update:W2});const LB=(t,e,n)=>{t.toast?MB(t,e,n):(VB(e),jB(e),UB(t,e,n))},MB=(t,e,n)=>{e.popup.onclick=()=>{t&&(FB(t)||t.timer||t.input)||n(gl.close)}},FB=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Kh=!1;const VB=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Kh=!0)}}},jB=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Kh=!0)}}},UB=(t,e,n)=>{e.container.onclick=r=>{if(Kh){Kh=!1;return}r.target===e.container&&Yf(t.allowOutsideClick)&&n(gl.backdrop)}},$B=t=>typeof t=="object"&&t.jquery,_1=t=>t instanceof Element||$B(t),BB=t=>{const e={};return typeof t[0]=="object"&&!_1(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||_1(i)?e[n]=i:i!==void 0&&Mo(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function zB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function HB(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const qB=()=>he.timeout&&he.timeout.getTimerLeft(),Q2=()=>{if(he.timeout)return e6(),he.timeout.stop()},Y2=()=>{if(he.timeout){const t=he.timeout.start();return kw(t),t}},WB=()=>{const t=he.timeout;return t&&(t.running?Q2():Y2())},KB=t=>{if(he.timeout){const e=he.timeout.increase(t);return kw(e,!0),e}},GB=()=>!!(he.timeout&&he.timeout.isRunning());let E1=!1;const sy={};function QB(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";sy[t]=this,E1||(document.body.addEventListener("click",YB),E1=!0)}const YB=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in sy){const r=e.getAttribute(n);if(r){sy[n].fire({template:r});return}}};class JB{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){var r=this;const i=function(){r.removeListener(e,i);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];n.apply(r,o)};this.on(e,i)}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,r)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}he.eventEmitter=new JB;const XB=(t,e)=>{he.eventEmitter.on(t,e)},ZB=(t,e)=>{he.eventEmitter.once(t,e)},e9=(t,e)=>{if(!t){he.eventEmitter.reset();return}e?he.eventEmitter.removeListener(t,e):he.eventEmitter.removeAllListeners(t)};var t9=Object.freeze({__proto__:null,argsToParams:BB,bindClickHandler:QB,clickCancel:$6,clickConfirm:I2,clickDeny:U6,enableLoading:Ja,fire:zB,getActions:Tc,getCancelButton:pl,getCloseButton:Aw,getConfirmButton:Gr,getContainer:Rn,getDenyButton:Fo,getFocusableElements:Cw,getFooter:v2,getHtmlContainer:Iw,getIcon:Ec,getIconContent:G5,getImage:y2,getInputLabel:Q5,getLoader:ml,getPopup:ze,getProgressSteps:bw,getTimerLeft:qB,getTimerProgressBar:Xf,getTitle:g2,getValidationMessage:Jf,increaseTimer:KB,isDeprecatedParameter:q2,isLoading:J5,isTimerRunning:GB,isUpdatableParameter:H2,isValidParameter:z2,isVisible:j6,mixin:HB,off:e9,on:XB,once:ZB,resumeTimer:Y2,showLoading:Ja,stopTimer:Q2,toggleTimer:WB});class n9{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const J2=["swal-title","swal-html","swal-footer"],r9=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return d9(n),Object.assign(i9(n),s9(n),o9(n),a9(n),l9(n),u9(n),c9(n,J2))},i9=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Ao(r,["name","value"]);const i=r.getAttribute("name"),s=r.getAttribute("value");!i||!s||(typeof Da[i]=="boolean"?e[i]=s!=="false":typeof Da[i]=="object"?e[i]=JSON.parse(s):e[i]=s)}),e},s9=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),s=r.getAttribute("value");!i||!s||(e[i]=new Function(`return ${s}`)())}),e},o9=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Ao(r,["type","color","aria-label"]);const i=r.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=r.innerHTML,e[`show${Ew(i)}Button`]=!0,r.hasAttribute("color")&&(e[`${i}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},a9=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ao(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},l9=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ao(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},u9=t=>{const e={},n=t.querySelector("swal-input");n&&(Ao(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{Ao(i,["value"]);const s=i.getAttribute("value");if(!s)return;const o=i.innerHTML;e.inputOptions[s]=o})),e},c9=(t,e)=>{const n={};for(const r in e){const i=e[r],s=t.querySelector(i);s&&(Ao(s,[]),n[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},d9=t=>{const e=J2.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Cn(`Unrecognized element <${r}>`)})},Ao=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Cn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},X2=10,h9=t=>{const e=Rn(),n=ze();typeof t.willOpen=="function"&&t.willOpen(n),he.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;m9(e,n,t),setTimeout(()=>{f9(e,n)},X2),Rw()&&(p9(e,t.scrollbarPadding,i),Q6()),!Zf()&&!he.previousActiveElement&&(he.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),he.eventEmitter.emit("didOpen",n),Qr(e,$["no-transition"])},Gh=t=>{const e=ze();if(t.target!==e)return;const n=Rn();e.removeEventListener("animationend",Gh),e.removeEventListener("transitionend",Gh),n.style.overflowY="auto"},f9=(t,e)=>{E2(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Gh),e.addEventListener("transitionend",Gh)):t.style.overflowY="auto"},p9=(t,e,n)=>{Y6(),e&&n!=="hidden"&&rB(n),setTimeout(()=>{t.scrollTop=0})},m9=(t,e,n)=>{Me(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Mt(e,"grid"),setTimeout(()=>{Me(e,n.showClass.popup),e.style.removeProperty("opacity")},X2)):Mt(e,"grid"),Me([document.documentElement,document.body],$.shown),n.heightAuto&&n.backdrop&&!n.toast&&Me([document.documentElement,document.body],$["height-auto"])};var T1={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function g9(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=T1.email),t.input==="url"&&(t.inputValidator=T1.url))}function y9(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Cn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function v9(t){g9(t),t.showLoaderOnConfirm&&!t.preConfirm&&Cn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),y9(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),l6(t)}let Dr;var fd=new WeakMap;class Et{constructor(){if(U5(this,fd,void 0),typeof window>"u")return;Dr=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=Object.freeze(this.constructor.argsToParams(n));this.params=i,this.isAwaitingPromise=!1,$5(fd,this,this._main(Dr.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(xB(Object.assign({},n,e)),he.currentInstance){const s=Ya.swalPromiseResolve.get(he.currentInstance),{isAwaitingPromise:o}=he.currentInstance;he.currentInstance._destroy(),o||s({isDismissed:!0}),Rw()&&C2()}he.currentInstance=Dr;const r=_9(e,n);v9(r),Object.freeze(r),he.timeout&&(he.timeout.stop(),delete he.timeout),clearTimeout(he.restoreFocusTimeout);const i=E9(Dr);return S2(Dr,r),Je.innerParams.set(Dr,r),w9(Dr,i,r)}then(e){return d1(fd,this).then(e)}finally(e){return d1(fd,this).finally(e)}}const w9=(t,e,n)=>new Promise((r,i)=>{const s=o=>{t.close({isDismissed:!0,dismiss:o})};Ya.swalPromiseResolve.set(t,r),Ya.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{_B(t)},e.denyButton.onclick=()=>{EB(t)},e.cancelButton.onclick=()=>{TB(t,s)},e.closeButton.onclick=()=>{s(gl.close)},LB(n,e,s),B6(he,n,s),dB(t,n),h9(n),T9(he,n,s),S9(e,n),setTimeout(()=>{e.container.scrollTop=0})}),_9=(t,e)=>{const n=r9(t),r=Object.assign({},Da,e,n,t);return r.showClass=Object.assign({},Da.showClass,r.showClass),r.hideClass=Object.assign({},Da.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},E9=t=>{const e={popup:ze(),container:Rn(),actions:Tc(),confirmButton:Gr(),denyButton:Fo(),cancelButton:pl(),loader:ml(),closeButton:Aw(),validationMessage:Jf(),progressSteps:bw()};return Je.domCache.set(t,e),e},T9=(t,e,n)=>{const r=Xf();on(r),e.timer&&(t.timeout=new n9(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Mt(r),jn(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&kw(e.timer)})))},S9=(t,e)=>{if(!e.toast){if(!Yf(e.allowEnterKey)){m2("allowEnterKey"),A9();return}I9(t)||b9(t,e)||iy(-1,1)}},I9=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&An(n))return n.focus(),!0;return!1},b9=(t,e)=>e.focusDeny&&An(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&An(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&An(t.confirmButton)?(t.confirmButton.focus(),!0):!1,A9=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}Et.prototype.disableButtons=V2;Et.prototype.enableButtons=F2;Et.prototype.getInput=D2;Et.prototype.disableInput=U2;Et.prototype.enableInput=j2;Et.prototype.hideLoading=Wh;Et.prototype.disableLoading=Wh;Et.prototype.showValidationMessage=$2;Et.prototype.resetValidationMessage=B2;Et.prototype.close=is;Et.prototype.closePopup=is;Et.prototype.closeModal=is;Et.prototype.closeToast=is;Et.prototype.rejectPromise=k2;Et.prototype.update=W2;Et.prototype._destroy=K2;Object.assign(Et,t9);Object.keys(DB).forEach(t=>{Et[t]=function(){return Dr&&Dr[t]?Dr[t](...arguments):null}});Et.DismissReason=gl;Et.version="11.14.5";const Fr=Et;Fr.default=Fr;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');var C9=function(e){return R9(e)&&!P9(e)};function R9(t){return!!t&&typeof t=="object"}function P9(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||O9(t)}var k9=typeof Symbol=="function"&&Symbol.for,x9=k9?Symbol.for("react.element"):60103;function O9(t){return t.$$typeof===x9}function N9(t){return Array.isArray(t)?[]:{}}function Qh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ku(N9(t),t,e):t}function D9(t,e,n){return t.concat(e).map(function(r){return Qh(r,n)})}function L9(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Qh(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Qh(e[i],n):r[i]=Ku(t[i],e[i],n)}),r}function Ku(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||D9,n.isMergeableObject=n.isMergeableObject||C9;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):L9(t,e,n):Qh(e,n)}Ku.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Ku(r,i,n)},{})};var oy=Ku,Z2=typeof global=="object"&&global&&global.Object===Object&&global,M9=typeof self=="object"&&self&&self.Object===Object&&self,Yr=Z2||M9||Function("return this")(),Rs=Yr.Symbol,eP=Object.prototype,F9=eP.hasOwnProperty,V9=eP.toString,$l=Rs?Rs.toStringTag:void 0;function j9(t){var e=F9.call(t,$l),n=t[$l];try{t[$l]=void 0;var r=!0}catch{}var i=V9.call(t);return r&&(e?t[$l]=n:delete t[$l]),i}var U9=Object.prototype,$9=U9.toString;function B9(t){return $9.call(t)}var z9="[object Null]",H9="[object Undefined]",S1=Rs?Rs.toStringTag:void 0;function Vo(t){return t==null?t===void 0?H9:z9:S1&&S1 in Object(t)?j9(t):B9(t)}function tP(t,e){return function(n){return t(e(n))}}var Lw=tP(Object.getPrototypeOf,Object);function jo(t){return t!=null&&typeof t=="object"}var q9="[object Object]",W9=Function.prototype,K9=Object.prototype,nP=W9.toString,G9=K9.hasOwnProperty,Q9=nP.call(Object);function I1(t){if(!jo(t)||Vo(t)!=q9)return!1;var e=Lw(t);if(e===null)return!0;var n=G9.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nP.call(n)==Q9}function Y9(){this.__data__=[],this.size=0}function rP(t,e){return t===e||t!==t&&e!==e}function tp(t,e){for(var n=t.length;n--;)if(rP(t[n][0],e))return n;return-1}var J9=Array.prototype,X9=J9.splice;function Z9(t){var e=this.__data__,n=tp(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():X9.call(e,n,1),--this.size,!0}function ez(t){var e=this.__data__,n=tp(e,t);return n<0?void 0:e[n][1]}function tz(t){return tp(this.__data__,t)>-1}function nz(t,e){var n=this.__data__,r=tp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Pi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pi.prototype.clear=Y9;Pi.prototype.delete=Z9;Pi.prototype.get=ez;Pi.prototype.has=tz;Pi.prototype.set=nz;function rz(){this.__data__=new Pi,this.size=0}function iz(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function sz(t){return this.__data__.get(t)}function oz(t){return this.__data__.has(t)}function Ac(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var az="[object AsyncFunction]",lz="[object Function]",uz="[object GeneratorFunction]",cz="[object Proxy]";function iP(t){if(!Ac(t))return!1;var e=Vo(t);return e==lz||e==uz||e==az||e==cz}var Em=Yr["__core-js_shared__"],b1=function(){var t=/[^.]+$/.exec(Em&&Em.keys&&Em.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function dz(t){return!!b1&&b1 in t}var hz=Function.prototype,fz=hz.toString;function Uo(t){if(t!=null){try{return fz.call(t)}catch{}try{return t+""}catch{}}return""}var pz=/[\\^$.*+?()[\]{}|]/g,mz=/^\[object .+?Constructor\]$/,gz=Function.prototype,yz=Object.prototype,vz=gz.toString,wz=yz.hasOwnProperty,_z=RegExp("^"+vz.call(wz).replace(pz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ez(t){if(!Ac(t)||dz(t))return!1;var e=iP(t)?_z:mz;return e.test(Uo(t))}function Tz(t,e){return t==null?void 0:t[e]}function $o(t,e){var n=Tz(t,e);return Ez(n)?n:void 0}var Gu=$o(Yr,"Map"),Qu=$o(Object,"create");function Sz(){this.__data__=Qu?Qu(null):{},this.size=0}function Iz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bz="__lodash_hash_undefined__",Az=Object.prototype,Cz=Az.hasOwnProperty;function Rz(t){var e=this.__data__;if(Qu){var n=e[t];return n===bz?void 0:n}return Cz.call(e,t)?e[t]:void 0}var Pz=Object.prototype,kz=Pz.hasOwnProperty;function xz(t){var e=this.__data__;return Qu?e[t]!==void 0:kz.call(e,t)}var Oz="__lodash_hash_undefined__";function Nz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qu&&e===void 0?Oz:e,this}function Co(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Co.prototype.clear=Sz;Co.prototype.delete=Iz;Co.prototype.get=Rz;Co.prototype.has=xz;Co.prototype.set=Nz;function Dz(){this.size=0,this.__data__={hash:new Co,map:new(Gu||Pi),string:new Co}}function Lz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function np(t,e){var n=t.__data__;return Lz(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Mz(t){var e=np(this,t).delete(t);return this.size-=e?1:0,e}function Fz(t){return np(this,t).get(t)}function Vz(t){return np(this,t).has(t)}function jz(t,e){var n=np(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Vs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vs.prototype.clear=Dz;Vs.prototype.delete=Mz;Vs.prototype.get=Fz;Vs.prototype.has=Vz;Vs.prototype.set=jz;var Uz=200;function $z(t,e){var n=this.__data__;if(n instanceof Pi){var r=n.__data__;if(!Gu||r.length<Uz-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vs(r)}return n.set(t,e),this.size=n.size,this}function yl(t){var e=this.__data__=new Pi(t);this.size=e.size}yl.prototype.clear=rz;yl.prototype.delete=iz;yl.prototype.get=sz;yl.prototype.has=oz;yl.prototype.set=$z;function Bz(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var A1=function(){try{var t=$o(Object,"defineProperty");return t({},"",{}),t}catch{}}();function sP(t,e,n){e=="__proto__"&&A1?A1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var zz=Object.prototype,Hz=zz.hasOwnProperty;function oP(t,e,n){var r=t[e];(!(Hz.call(t,e)&&rP(r,n))||n===void 0&&!(e in t))&&sP(t,e,n)}function rp(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=void 0;l===void 0&&(l=t[a]),i?sP(n,a,l):oP(n,a,l)}return n}function qz(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Wz="[object Arguments]";function C1(t){return jo(t)&&Vo(t)==Wz}var aP=Object.prototype,Kz=aP.hasOwnProperty,Gz=aP.propertyIsEnumerable,Qz=C1(function(){return arguments}())?C1:function(t){return jo(t)&&Kz.call(t,"callee")&&!Gz.call(t,"callee")},Cc=Array.isArray;function Yz(){return!1}var lP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,R1=lP&&typeof module=="object"&&module&&!module.nodeType&&module,Jz=R1&&R1.exports===lP,P1=Jz?Yr.Buffer:void 0,Xz=P1?P1.isBuffer:void 0,uP=Xz||Yz,Zz=9007199254740991,e7=/^(?:0|[1-9]\d*)$/;function t7(t,e){var n=typeof t;return e=e??Zz,!!e&&(n=="number"||n!="symbol"&&e7.test(t))&&t>-1&&t%1==0&&t<e}var n7=9007199254740991;function cP(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n7}var r7="[object Arguments]",i7="[object Array]",s7="[object Boolean]",o7="[object Date]",a7="[object Error]",l7="[object Function]",u7="[object Map]",c7="[object Number]",d7="[object Object]",h7="[object RegExp]",f7="[object Set]",p7="[object String]",m7="[object WeakMap]",g7="[object ArrayBuffer]",y7="[object DataView]",v7="[object Float32Array]",w7="[object Float64Array]",_7="[object Int8Array]",E7="[object Int16Array]",T7="[object Int32Array]",S7="[object Uint8Array]",I7="[object Uint8ClampedArray]",b7="[object Uint16Array]",A7="[object Uint32Array]",et={};et[v7]=et[w7]=et[_7]=et[E7]=et[T7]=et[S7]=et[I7]=et[b7]=et[A7]=!0;et[r7]=et[i7]=et[g7]=et[s7]=et[y7]=et[o7]=et[a7]=et[l7]=et[u7]=et[c7]=et[d7]=et[h7]=et[f7]=et[p7]=et[m7]=!1;function C7(t){return jo(t)&&cP(t.length)&&!!et[Vo(t)]}function Mw(t){return function(e){return t(e)}}var dP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gu=dP&&typeof module=="object"&&module&&!module.nodeType&&module,R7=gu&&gu.exports===dP,Tm=R7&&Z2.process,Xa=function(){try{var t=gu&&gu.require&&gu.require("util").types;return t||Tm&&Tm.binding&&Tm.binding("util")}catch{}}(),k1=Xa&&Xa.isTypedArray,P7=k1?Mw(k1):C7,k7=Object.prototype,x7=k7.hasOwnProperty;function hP(t,e){var n=Cc(t),r=!n&&Qz(t),i=!n&&!r&&uP(t),s=!n&&!r&&!i&&P7(t),o=n||r||i||s,a=o?qz(t.length,String):[],l=a.length;for(var c in t)(e||x7.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||t7(c,l)))&&a.push(c);return a}var O7=Object.prototype;function Fw(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||O7;return t===n}var N7=tP(Object.keys,Object),D7=Object.prototype,L7=D7.hasOwnProperty;function M7(t){if(!Fw(t))return N7(t);var e=[];for(var n in Object(t))L7.call(t,n)&&n!="constructor"&&e.push(n);return e}function fP(t){return t!=null&&cP(t.length)&&!iP(t)}function Vw(t){return fP(t)?hP(t):M7(t)}function F7(t,e){return t&&rp(e,Vw(e),t)}function V7(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var j7=Object.prototype,U7=j7.hasOwnProperty;function $7(t){if(!Ac(t))return V7(t);var e=Fw(t),n=[];for(var r in t)r=="constructor"&&(e||!U7.call(t,r))||n.push(r);return n}function jw(t){return fP(t)?hP(t,!0):$7(t)}function B7(t,e){return t&&rp(e,jw(e),t)}var pP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,x1=pP&&typeof module=="object"&&module&&!module.nodeType&&module,z7=x1&&x1.exports===pP,O1=z7?Yr.Buffer:void 0,N1=O1?O1.allocUnsafe:void 0;function H7(t,e){if(e)return t.slice();var n=t.length,r=N1?N1(n):new t.constructor(n);return t.copy(r),r}function mP(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function q7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function gP(){return[]}var W7=Object.prototype,K7=W7.propertyIsEnumerable,D1=Object.getOwnPropertySymbols,Uw=D1?function(t){return t==null?[]:(t=Object(t),q7(D1(t),function(e){return K7.call(t,e)}))}:gP;function G7(t,e){return rp(t,Uw(t),e)}function yP(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Q7=Object.getOwnPropertySymbols,vP=Q7?function(t){for(var e=[];t;)yP(e,Uw(t)),t=Lw(t);return e}:gP;function Y7(t,e){return rp(t,vP(t),e)}function wP(t,e,n){var r=e(t);return Cc(t)?r:yP(r,n(t))}function J7(t){return wP(t,Vw,Uw)}function X7(t){return wP(t,jw,vP)}var ay=$o(Yr,"DataView"),ly=$o(Yr,"Promise"),uy=$o(Yr,"Set"),cy=$o(Yr,"WeakMap"),L1="[object Map]",Z7="[object Object]",M1="[object Promise]",F1="[object Set]",V1="[object WeakMap]",j1="[object DataView]",e8=Uo(ay),t8=Uo(Gu),n8=Uo(ly),r8=Uo(uy),i8=Uo(cy),li=Vo;(ay&&li(new ay(new ArrayBuffer(1)))!=j1||Gu&&li(new Gu)!=L1||ly&&li(ly.resolve())!=M1||uy&&li(new uy)!=F1||cy&&li(new cy)!=V1)&&(li=function(t){var e=Vo(t),n=e==Z7?t.constructor:void 0,r=n?Uo(n):"";if(r)switch(r){case e8:return j1;case t8:return L1;case n8:return M1;case r8:return F1;case i8:return V1}return e});var s8=Object.prototype,o8=s8.hasOwnProperty;function a8(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&o8.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var U1=Yr.Uint8Array;function $w(t){var e=new t.constructor(t.byteLength);return new U1(e).set(new U1(t)),e}function l8(t,e){var n=e?$w(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var u8=/\w*$/;function c8(t){var e=new t.constructor(t.source,u8.exec(t));return e.lastIndex=t.lastIndex,e}var $1=Rs?Rs.prototype:void 0,B1=$1?$1.valueOf:void 0;function d8(t){return B1?Object(B1.call(t)):{}}function h8(t,e){var n=e?$w(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var f8="[object Boolean]",p8="[object Date]",m8="[object Map]",g8="[object Number]",y8="[object RegExp]",v8="[object Set]",w8="[object String]",_8="[object Symbol]",E8="[object ArrayBuffer]",T8="[object DataView]",S8="[object Float32Array]",I8="[object Float64Array]",b8="[object Int8Array]",A8="[object Int16Array]",C8="[object Int32Array]",R8="[object Uint8Array]",P8="[object Uint8ClampedArray]",k8="[object Uint16Array]",x8="[object Uint32Array]";function O8(t,e,n){var r=t.constructor;switch(e){case E8:return $w(t);case f8:case p8:return new r(+t);case T8:return l8(t,n);case S8:case I8:case b8:case A8:case C8:case R8:case P8:case k8:case x8:return h8(t,n);case m8:return new r;case g8:case w8:return new r(t);case y8:return c8(t);case v8:return new r;case _8:return d8(t)}}var z1=Object.create,N8=function(){function t(){}return function(e){if(!Ac(e))return{};if(z1)return z1(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function D8(t){return typeof t.constructor=="function"&&!Fw(t)?N8(Lw(t)):{}}var L8="[object Map]";function M8(t){return jo(t)&&li(t)==L8}var H1=Xa&&Xa.isMap,F8=H1?Mw(H1):M8,V8="[object Set]";function j8(t){return jo(t)&&li(t)==V8}var q1=Xa&&Xa.isSet,U8=q1?Mw(q1):j8,$8=1,B8=2,z8=4,_P="[object Arguments]",H8="[object Array]",q8="[object Boolean]",W8="[object Date]",K8="[object Error]",EP="[object Function]",G8="[object GeneratorFunction]",Q8="[object Map]",Y8="[object Number]",TP="[object Object]",J8="[object RegExp]",X8="[object Set]",Z8="[object String]",eH="[object Symbol]",tH="[object WeakMap]",nH="[object ArrayBuffer]",rH="[object DataView]",iH="[object Float32Array]",sH="[object Float64Array]",oH="[object Int8Array]",aH="[object Int16Array]",lH="[object Int32Array]",uH="[object Uint8Array]",cH="[object Uint8ClampedArray]",dH="[object Uint16Array]",hH="[object Uint32Array]",Qe={};Qe[_P]=Qe[H8]=Qe[nH]=Qe[rH]=Qe[q8]=Qe[W8]=Qe[iH]=Qe[sH]=Qe[oH]=Qe[aH]=Qe[lH]=Qe[Q8]=Qe[Y8]=Qe[TP]=Qe[J8]=Qe[X8]=Qe[Z8]=Qe[eH]=Qe[uH]=Qe[cH]=Qe[dH]=Qe[hH]=!0;Qe[K8]=Qe[EP]=Qe[tH]=!1;function yu(t,e,n,r,i,s){var o,a=e&$8,l=e&B8,c=e&z8;if(o!==void 0)return o;if(!Ac(t))return t;var d=Cc(t);if(d){if(o=a8(t),!a)return mP(t,o)}else{var f=li(t),p=f==EP||f==G8;if(uP(t))return H7(t,a);if(f==TP||f==_P||p&&!i){if(o=l||p?{}:D8(t),!a)return l?Y7(t,B7(o,t)):G7(t,F7(o,t))}else{if(!Qe[f])return i?t:{};o=O8(t,f,a)}}s||(s=new yl);var g=s.get(t);if(g)return g;s.set(t,o),U8(t)?t.forEach(function(R){o.add(yu(R,e,n,R,t,s))}):F8(t)&&t.forEach(function(R,b){o.set(b,yu(R,e,n,b,t,s))});var w=c?l?X7:J7:l?jw:Vw,E=d?void 0:w(t);return Bz(E||t,function(R,b){E&&(b=R,R=t[b]),oP(o,b,yu(R,e,n,b,t,s))}),o}var fH=1,pH=4;function Zl(t){return yu(t,fH|pH)}var W1=Array.isArray,K1=Object.keys,mH=Object.prototype.hasOwnProperty,gH=typeof Element<"u";function dy(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=W1(t),r=W1(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!dy(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var c=t instanceof RegExp,d=e instanceof RegExp;if(c!=d)return!1;if(c&&d)return t.toString()==e.toString();var f=K1(t);if(s=f.length,s!==K1(e).length)return!1;for(i=s;i--!==0;)if(!mH.call(e,f[i]))return!1;if(gH&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=f[i],!(o==="_owner"&&t.$$typeof)&&!dy(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var yH=function(e,n){try{return dy(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Wi=Yu(yH);var vH=4;function G1(t){return yu(t,vH)}function SP(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var wH="[object Symbol]";function Bw(t){return typeof t=="symbol"||jo(t)&&Vo(t)==wH}var _H="Expected a function";function zw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(_H);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(zw.Cache||Vs),n}zw.Cache=Vs;var EH=500;function TH(t){var e=zw(t,function(r){return n.size===EH&&n.clear(),r}),n=e.cache;return e}var SH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IH=/\\(\\)?/g,bH=TH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SH,function(n,r,i,s){e.push(i?s.replace(IH,"$1"):r||n)}),e}),AH=1/0;function CH(t){if(typeof t=="string"||Bw(t))return t;var e=t+"";return e=="0"&&1/t==-AH?"-0":e}var RH=1/0,Q1=Rs?Rs.prototype:void 0,Y1=Q1?Q1.toString:void 0;function IP(t){if(typeof t=="string")return t;if(Cc(t))return SP(t,IP)+"";if(Bw(t))return Y1?Y1.call(t):"";var e=t+"";return e=="0"&&1/t==-RH?"-0":e}function PH(t){return t==null?"":IP(t)}function bP(t){return Cc(t)?SP(t,CH):Bw(t)?[t]:mP(bH(PH(t)))}var AP={exports:{}},He={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=typeof Symbol=="function"&&Symbol.for,Hw=Ft?Symbol.for("react.element"):60103,qw=Ft?Symbol.for("react.portal"):60106,ip=Ft?Symbol.for("react.fragment"):60107,sp=Ft?Symbol.for("react.strict_mode"):60108,op=Ft?Symbol.for("react.profiler"):60114,ap=Ft?Symbol.for("react.provider"):60109,lp=Ft?Symbol.for("react.context"):60110,Ww=Ft?Symbol.for("react.async_mode"):60111,up=Ft?Symbol.for("react.concurrent_mode"):60111,cp=Ft?Symbol.for("react.forward_ref"):60112,dp=Ft?Symbol.for("react.suspense"):60113,kH=Ft?Symbol.for("react.suspense_list"):60120,hp=Ft?Symbol.for("react.memo"):60115,fp=Ft?Symbol.for("react.lazy"):60116,xH=Ft?Symbol.for("react.block"):60121,OH=Ft?Symbol.for("react.fundamental"):60117,NH=Ft?Symbol.for("react.responder"):60118,DH=Ft?Symbol.for("react.scope"):60119;function Hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hw:switch(t=t.type,t){case Ww:case up:case ip:case op:case sp:case dp:return t;default:switch(t=t&&t.$$typeof,t){case lp:case cp:case fp:case hp:case ap:return t;default:return e}}case qw:return e}}}function CP(t){return Hn(t)===up}He.AsyncMode=Ww;He.ConcurrentMode=up;He.ContextConsumer=lp;He.ContextProvider=ap;He.Element=Hw;He.ForwardRef=cp;He.Fragment=ip;He.Lazy=fp;He.Memo=hp;He.Portal=qw;He.Profiler=op;He.StrictMode=sp;He.Suspense=dp;He.isAsyncMode=function(t){return CP(t)||Hn(t)===Ww};He.isConcurrentMode=CP;He.isContextConsumer=function(t){return Hn(t)===lp};He.isContextProvider=function(t){return Hn(t)===ap};He.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hw};He.isForwardRef=function(t){return Hn(t)===cp};He.isFragment=function(t){return Hn(t)===ip};He.isLazy=function(t){return Hn(t)===fp};He.isMemo=function(t){return Hn(t)===hp};He.isPortal=function(t){return Hn(t)===qw};He.isProfiler=function(t){return Hn(t)===op};He.isStrictMode=function(t){return Hn(t)===sp};He.isSuspense=function(t){return Hn(t)===dp};He.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ip||t===up||t===op||t===sp||t===dp||t===kH||typeof t=="object"&&t!==null&&(t.$$typeof===fp||t.$$typeof===hp||t.$$typeof===ap||t.$$typeof===lp||t.$$typeof===cp||t.$$typeof===OH||t.$$typeof===NH||t.$$typeof===DH||t.$$typeof===xH)};He.typeOf=Hn;AP.exports=He;var LH=AP.exports,Kw=LH,MH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},FH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},VH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Gw={};Gw[Kw.ForwardRef]=VH;Gw[Kw.Memo]=RP;function J1(t){return Kw.isMemo(t)?RP:Gw[t.$$typeof]||MH}var jH=Object.defineProperty,UH=Object.getOwnPropertyNames,X1=Object.getOwnPropertySymbols,$H=Object.getOwnPropertyDescriptor,BH=Object.getPrototypeOf,Z1=Object.prototype;function PP(t,e,n){if(typeof e!="string"){if(Z1){var r=BH(e);r&&r!==Z1&&PP(t,r,n)}var i=UH(e);X1&&(i=i.concat(X1(e)));for(var s=J1(t),o=J1(e),a=0;a<i.length;++a){var l=i[a];if(!FH[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=$H(e,l);try{jH(t,l,c)}catch{}}}}return t}var zH=PP;const HH=Yu(zH);function $e(){return $e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$e.apply(this,arguments)}function kP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ss(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pp=N.createContext(void 0);pp.displayName="FormikContext";var qH=pp.Provider,WH=pp.Consumer;function xP(){var t=N.useContext(pp);return t}var tS=function(e){return Array.isArray(e)&&e.length===0},$t=function(e){return typeof e=="function"},Rc=function(e){return e!==null&&typeof e=="object"},KH=function(e){return String(Math.floor(Number(e)))===e},Sm=function(e){return Object.prototype.toString.call(e)==="[object String]"},OP=function(e){return N.Children.count(e)===0},Im=function(e){return Rc(e)&&$t(e.then)};function ot(t,e,n,r){r===void 0&&(r=0);for(var i=bP(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Hr(t,e,n){for(var r=G1(t),i=r,s=0,o=bP(e);s<o.length-1;s++){var a=o[s],l=ot(t,o.slice(0,s+1));if(l&&(Rc(l)||Array.isArray(l)))i=i[a]=G1(l);else{var c=o[s+1];i=i[a]=KH(c)&&Number(c)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function NP(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];Rc(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},NP(a,e,n,r[o])):r[o]=e}return r}function GH(t,e){switch(e.type){case"SET_VALUES":return $e({},t,{values:e.payload});case"SET_TOUCHED":return $e({},t,{touched:e.payload});case"SET_ERRORS":return Wi(t.errors,e.payload)?t:$e({},t,{errors:e.payload});case"SET_STATUS":return $e({},t,{status:e.payload});case"SET_ISSUBMITTING":return $e({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return $e({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return $e({},t,{values:Hr(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return $e({},t,{touched:Hr(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return $e({},t,{errors:Hr(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return $e({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return $e({},t,{touched:NP(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return $e({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return $e({},t,{isSubmitting:!1});default:return t}}var Gs={},pd={};function QH(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,c=l===void 0?!1:l,d=t.onSubmit,f=ss(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=$e({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:d},f),g=N.useRef(p.initialValues),w=N.useRef(p.initialErrors||Gs),E=N.useRef(p.initialTouched||pd),R=N.useRef(p.initialStatus),b=N.useRef(!1),v=N.useRef({});N.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var T=N.useState(0),L=T[1],z=N.useRef({values:Zl(p.initialValues),errors:Zl(p.initialErrors)||Gs,touched:Zl(p.initialTouched)||pd,status:Zl(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),A=z.current,S=N.useCallback(function(j){var Y=z.current;z.current=GH(Y,j),Y!==z.current&&L(function(Z){return Z+1})},[]),y=N.useCallback(function(j,Y){return new Promise(function(Z,ae){var se=p.validate(j,Y);se==null?Z(Gs):Im(se)?se.then(function(ce){Z(ce||Gs)},function(ce){ae(ce)}):Z(se)})},[p.validate]),I=N.useCallback(function(j,Y){var Z=p.validationSchema,ae=$t(Z)?Z(Y):Z,se=Y&&ae.validateAt?ae.validateAt(Y,j):JH(j,ae);return new Promise(function(ce,Ne){se.then(function(){ce(Gs)},function(an){an.name==="ValidationError"?ce(YH(an)):Ne(an)})})},[p.validationSchema]),C=N.useCallback(function(j,Y){return new Promise(function(Z){return Z(v.current[j].validate(Y))})},[]),k=N.useCallback(function(j){var Y=Object.keys(v.current).filter(function(ae){return $t(v.current[ae].validate)}),Z=Y.length>0?Y.map(function(ae){return C(ae,ot(j,ae))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Z).then(function(ae){return ae.reduce(function(se,ce,Ne){return ce==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ce&&(se=Hr(se,Y[Ne],ce)),se},{})})},[C]),D=N.useCallback(function(j){return Promise.all([k(j),p.validationSchema?I(j):{},p.validate?y(j):{}]).then(function(Y){var Z=Y[0],ae=Y[1],se=Y[2],ce=oy.all([Z,ae,se],{arrayMerge:XH});return ce})},[p.validate,p.validationSchema,k,y,I]),P=Yn(function(j){return j===void 0&&(j=A.values),S({type:"SET_ISVALIDATING",payload:!0}),D(j).then(function(Y){return b.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:Y})),Y})});N.useEffect(function(){o&&b.current===!0&&Wi(g.current,p.initialValues)&&P(g.current)},[o,P]);var Te=N.useCallback(function(j){var Y=j&&j.values?j.values:g.current,Z=j&&j.errors?j.errors:w.current?w.current:p.initialErrors||{},ae=j&&j.touched?j.touched:E.current?E.current:p.initialTouched||{},se=j&&j.status?j.status:R.current?R.current:p.initialStatus;g.current=Y,w.current=Z,E.current=ae,R.current=se;var ce=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!j&&!!j.isSubmitting,errors:Z,touched:ae,status:se,values:Y,isValidating:!!j&&!!j.isValidating,submitCount:j&&j.submitCount&&typeof j.submitCount=="number"?j.submitCount:0}})};if(p.onReset){var Ne=p.onReset(A.values,Xr);Im(Ne)?Ne.then(ce):ce()}else ce()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);N.useEffect(function(){b.current===!0&&!Wi(g.current,p.initialValues)&&c&&(g.current=p.initialValues,Te(),o&&P(g.current))},[c,p.initialValues,Te,o,P]),N.useEffect(function(){c&&b.current===!0&&!Wi(w.current,p.initialErrors)&&(w.current=p.initialErrors||Gs,S({type:"SET_ERRORS",payload:p.initialErrors||Gs}))},[c,p.initialErrors]),N.useEffect(function(){c&&b.current===!0&&!Wi(E.current,p.initialTouched)&&(E.current=p.initialTouched||pd,S({type:"SET_TOUCHED",payload:p.initialTouched||pd}))},[c,p.initialTouched]),N.useEffect(function(){c&&b.current===!0&&!Wi(R.current,p.initialStatus)&&(R.current=p.initialStatus,S({type:"SET_STATUS",payload:p.initialStatus}))},[c,p.initialStatus,p.initialTouched]);var Vt=Yn(function(j){if(v.current[j]&&$t(v.current[j].validate)){var Y=ot(A.values,j),Z=v.current[j].validate(Y);return Im(Z)?(S({type:"SET_ISVALIDATING",payload:!0}),Z.then(function(ae){return ae}).then(function(ae){S({type:"SET_FIELD_ERROR",payload:{field:j,value:ae}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:j,value:Z}}),Promise.resolve(Z))}else if(p.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),I(A.values,j).then(function(ae){return ae}).then(function(ae){S({type:"SET_FIELD_ERROR",payload:{field:j,value:ot(ae,j)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),qn=N.useCallback(function(j,Y){var Z=Y.validate;v.current[j]={validate:Z}},[]),je=N.useCallback(function(j){delete v.current[j]},[]),Q=Yn(function(j,Y){S({type:"SET_TOUCHED",payload:j});var Z=Y===void 0?i:Y;return Z?P(A.values):Promise.resolve()}),ue=N.useCallback(function(j){S({type:"SET_ERRORS",payload:j})},[]),fe=Yn(function(j,Y){var Z=$t(j)?j(A.values):j;S({type:"SET_VALUES",payload:Z});var ae=Y===void 0?n:Y;return ae?P(Z):Promise.resolve()}),Ie=N.useCallback(function(j,Y){S({type:"SET_FIELD_ERROR",payload:{field:j,value:Y}})},[]),_e=Yn(function(j,Y,Z){S({type:"SET_FIELD_VALUE",payload:{field:j,value:Y}});var ae=Z===void 0?n:Z;return ae?P(Hr(A.values,j,Y)):Promise.resolve()}),Fe=N.useCallback(function(j,Y){var Z=Y,ae=j,se;if(!Sm(j)){j.persist&&j.persist();var ce=j.target?j.target:j.currentTarget,Ne=ce.type,an=ce.name,sr=ce.id,Bs=ce.value,Kt=ce.checked,Go=ce.outerHTML,xi=ce.options,Oi=ce.multiple;Z=Y||an||sr,ae=/number|range/.test(Ne)?(se=parseFloat(Bs),isNaN(se)?"":se):/checkbox/.test(Ne)?eq(ot(A.values,Z),Kt,Bs):xi&&Oi?ZH(xi):Bs}Z&&_e(Z,ae)},[_e,A.values]),ut=Yn(function(j){if(Sm(j))return function(Y){return Fe(Y,j)};Fe(j)}),rt=Yn(function(j,Y,Z){Y===void 0&&(Y=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:j,value:Y}});var ae=Z===void 0?i:Z;return ae?P(A.values):Promise.resolve()}),Tt=N.useCallback(function(j,Y){j.persist&&j.persist();var Z=j.target,ae=Z.name,se=Z.id,ce=Z.outerHTML,Ne=Y||ae||se;rt(Ne,!0)},[rt]),Ot=Yn(function(j){if(Sm(j))return function(Y){return Tt(Y,j)};Tt(j)}),zo=N.useCallback(function(j){$t(j)?S({type:"SET_FORMIK_STATE",payload:j}):S({type:"SET_FORMIK_STATE",payload:function(){return j}})},[]),Ho=N.useCallback(function(j){S({type:"SET_STATUS",payload:j})},[]),Jr=N.useCallback(function(j){S({type:"SET_ISSUBMITTING",payload:j})},[]),it=Yn(function(){return S({type:"SUBMIT_ATTEMPT"}),P().then(function(j){var Y=j instanceof Error,Z=!Y&&Object.keys(j).length===0;if(Z){var ae;try{if(ae=Us(),ae===void 0)return}catch(se){throw se}return Promise.resolve(ae).then(function(se){return b.current&&S({type:"SUBMIT_SUCCESS"}),se}).catch(function(se){if(b.current)throw S({type:"SUBMIT_FAILURE"}),se})}else if(b.current&&(S({type:"SUBMIT_FAILURE"}),Y))throw j})}),Wn=Yn(function(j){j&&j.preventDefault&&$t(j.preventDefault)&&j.preventDefault(),j&&j.stopPropagation&&$t(j.stopPropagation)&&j.stopPropagation(),it().catch(function(Y){console.warn("Warning: An unhandled error was caught from submitForm()",Y)})}),Xr={resetForm:Te,validateForm:P,validateField:Vt,setErrors:ue,setFieldError:Ie,setFieldTouched:rt,setFieldValue:_e,setStatus:Ho,setSubmitting:Jr,setTouched:Q,setValues:fe,setFormikState:zo,submitForm:it},Us=Yn(function(){return d(A.values,Xr)}),Pn=Yn(function(j){j&&j.preventDefault&&$t(j.preventDefault)&&j.preventDefault(),j&&j.stopPropagation&&$t(j.stopPropagation)&&j.stopPropagation(),Te()}),qo=N.useCallback(function(j){return{value:ot(A.values,j),error:ot(A.errors,j),touched:!!ot(A.touched,j),initialValue:ot(g.current,j),initialTouched:!!ot(E.current,j),initialError:ot(w.current,j)}},[A.errors,A.touched,A.values]),vl=N.useCallback(function(j){return{setValue:function(Z,ae){return _e(j,Z,ae)},setTouched:function(Z,ae){return rt(j,Z,ae)},setError:function(Z){return Ie(j,Z)}}},[_e,rt,Ie]),Wo=N.useCallback(function(j){var Y=Rc(j),Z=Y?j.name:j,ae=ot(A.values,Z),se={name:Z,value:ae,onChange:ut,onBlur:Ot};if(Y){var ce=j.type,Ne=j.value,an=j.as,sr=j.multiple;ce==="checkbox"?Ne===void 0?se.checked=!!ae:(se.checked=!!(Array.isArray(ae)&&~ae.indexOf(Ne)),se.value=Ne):ce==="radio"?(se.checked=ae===Ne,se.value=Ne):an==="select"&&sr&&(se.value=se.value||[],se.multiple=!0)}return se},[Ot,ut,A.values]),ki=N.useMemo(function(){return!Wi(g.current,A.values)},[g.current,A.values]),$s=N.useMemo(function(){return typeof a<"u"?ki?A.errors&&Object.keys(A.errors).length===0:a!==!1&&$t(a)?a(p):a:A.errors&&Object.keys(A.errors).length===0},[a,ki,A.errors,p]),Ko=$e({},A,{initialValues:g.current,initialErrors:w.current,initialTouched:E.current,initialStatus:R.current,handleBlur:Ot,handleChange:ut,handleReset:Pn,handleSubmit:Wn,resetForm:Te,setErrors:ue,setFormikState:zo,setFieldTouched:rt,setFieldValue:_e,setFieldError:Ie,setStatus:Ho,setSubmitting:Jr,setTouched:Q,setValues:fe,submitForm:it,validateForm:P,validateField:Vt,isValid:$s,dirty:ki,unregisterField:je,registerField:qn,getFieldProps:Wo,getFieldMeta:qo,getFieldHelpers:vl,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return Ko}function Qw(t){var e=QH(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return N.useImperativeHandle(s,function(){return e}),N.createElement(qH,{value:e},n?N.createElement(n,e):i?i(e):r?$t(r)?r(e):OP(r)?null:N.Children.only(r):null)}function YH(t){var e={};if(t.inner){if(t.inner.length===0)return Hr(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;ot(e,o.path)||(e=Hr(e,o.path,o.message))}}return e}function JH(t,e,n,r){n===void 0&&(n=!1);var i=hy(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function hy(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||I1(i)?hy(i):i!==""?i:void 0}):I1(t[r])?e[r]=hy(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function XH(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?oy(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=oy(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function ZH(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function eq(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var tq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function Yn(t){var e=N.useRef(t);return tq(function(){e.current=t}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function fr(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,l=ss(t,["validate","name","render","children","as","component","className"]),c=xP(),d=ss(c,["validate","validationSchema"]),f=d.registerField,p=d.unregisterField;N.useEffect(function(){return f(n,{validate:e}),function(){p(n)}},[f,p,n,e]);var g=d.getFieldProps($e({name:n},l)),w=d.getFieldMeta(n),E={field:g,form:d};if(r)return r($e({},E,{meta:w}));if($t(i))return i($e({},E,{meta:w}));if(o){if(typeof o=="string"){var R=l.innerRef,b=ss(l,["innerRef"]);return N.createElement(o,$e({ref:R},g,b,{className:a}),i)}return N.createElement(o,$e({field:g,form:d},l,{className:a}),i)}var v=s||"input";if(typeof v=="string"){var T=l.innerRef,L=ss(l,["innerRef"]);return N.createElement(v,$e({ref:T},g,L,{className:a}),i)}return N.createElement(v,$e({},g,l,{className:a}),i)}var mp=N.forwardRef(function(t,e){var n=t.action,r=ss(t,["action"]),i=n??"#",s=xP(),o=s.handleReset,a=s.handleSubmit;return N.createElement("form",$e({onSubmit:a,ref:e,onReset:o,action:i},r))});mp.displayName="Form";function nq(t){var e=function(i){return N.createElement(WH,null,function(s){return N.createElement(t,$e({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",HH(e,t)}var rq=function(e,n,r){var i=Ro(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},iq=function(e,n,r){var i=Ro(e),s=i[n];return i[n]=i[r],i[r]=s,i},bm=function(e,n,r){var i=Ro(e);return i.splice(n,0,r),i},sq=function(e,n,r){var i=Ro(e);return i[n]=r,i},Ro=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from($e({},e,{length:n+1}))}else return[]},nS=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||Rc(i)){var s=Ro(i);return r(s)}return i}},oq=function(t){kP(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,c=l.name,d=l.formik.setFormikState;d(function(f){var p=nS(a,s),g=nS(o,s),w=Hr(f.values,c,s(ot(f.values,c))),E=a?p(ot(f.errors,c)):void 0,R=o?g(ot(f.touched,c)):void 0;return tS(E)&&(E=void 0),tS(R)&&(R=void 0),$e({},f,{values:w,errors:a?Hr(f.errors,c,E):f.errors,touched:o?Hr(f.touched,c,R):f.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(Ro(o),[Zl(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return iq(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return rq(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return bm(a,s,o)},function(a){return bm(a,s,null)},function(a){return bm(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return sq(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(eS(i)),i.pop=i.pop.bind(eS(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Wi(ot(i.formik.values,i.name),ot(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?Ro(o):[];return s||(s=a[i]),$t(a.splice)&&a.splice(i,1),$t(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,c=s.name,d=s.formik,f=ss(d,["validate","validationSchema"]),p=$e({},i,{form:f,name:c});return o?N.createElement(o,p):a?a(p):l?typeof l=="function"?l(p):OP(l)?null:N.Children.only(l):null},e}(N.Component);oq.defaultProps={validateOnChange:!0};var aq=function(t){kP(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return ot(this.props.formik.errors,this.props.name)!==ot(i.formik.errors,this.props.name)||ot(this.props.formik.touched,this.props.name)!==ot(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,l=i.children,c=i.name,d=ss(i,["component","formik","render","children","name"]),f=ot(o.touched,c),p=ot(o.errors,c);return f&&p?a?$t(a)?a(p):null:l?$t(l)?l(p):null:s?N.createElement(s,d,p):p:null},e}(N.Component),pr=nq(aq);function Bo(t){this._maxSize=t,this.clear()}Bo.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Bo.prototype.get=function(t){return this._values[t]};Bo.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var lq=/[^.^\]^[]+|(?=\[\]|\.\.)/g,DP=/^\d+$/,uq=/^\d/,cq=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,dq=/^\s*(['"]?)(.*?)(\1)\s*$/,Yw=512,rS=new Bo(Yw),iS=new Bo(Yw),sS=new Bo(Yw),ho={Cache:Bo,split:fy,normalizePath:Am,setter:function(t){var e=Am(t);return iS.get(t)||iS.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Am(t);return sS.get(t)||sS.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Jw(n)||DP.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){hq(Array.isArray(t)?t:fy(t),e,n)}};function Am(t){return rS.get(t)||rS.set(t,fy(t).map(function(e){return e.replace(dq,"$2")}))}function fy(t){return t.match(lq)||[""]}function hq(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(mq(i)&&(i='"'+i+'"'),a=Jw(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function Jw(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function fq(t){return t.match(uq)&&!t.match(DP)}function pq(t){return cq.test(t)}function mq(t){return!Jw(t)&&(fq(t)||pq(t))}const gq=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,gp=t=>t.match(gq)||[],yp=t=>t[0].toUpperCase()+t.slice(1),Xw=(t,e)=>gp(t).join(e).toLowerCase(),LP=t=>gp(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),yq=t=>yp(LP(t)),vq=t=>Xw(t,"_"),wq=t=>Xw(t,"-"),_q=t=>yp(Xw(t," ")),Eq=t=>gp(t).map(yp).join(" ");var Cm={words:gp,upperFirst:yp,camelCase:LP,pascalCase:yq,snakeCase:vq,kebabCase:wq,sentenceCase:_q,titleCase:Eq},Zw={exports:{}};Zw.exports=function(t){return MP(Tq(t),t)};Zw.exports.array=MP;function MP(t,e){var n=t.length,r=new Array(n),i={},s=n,o=Sq(e),a=Iq(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(c,d,f){if(f.has(c)){var p;try{p=", node was:"+JSON.stringify(c)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[d]){i[d]=!0;var g=o.get(c)||new Set;if(g=Array.from(g),d=g.length){f.add(c);do{var w=g[--d];l(w,a.get(w),f)}while(d);f.delete(c)}r[--n]=c}}}function Tq(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function Sq(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function Iq(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var bq=Zw.exports;const Aq=Yu(bq),Cq=Object.prototype.toString,Rq=Error.prototype.toString,Pq=RegExp.prototype.toString,kq=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",xq=/^Symbol\((.*)\)(.*)$/;function Oq(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function oS(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Oq(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return kq.call(t).replace(xq,"Symbol($1)");const r=Cq.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Rq.call(t)+"]":r==="RegExp"?Pq.call(t):null}function vs(t,e){let n=oS(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=oS(this[r],e);return s!==null?s:i},2)}function FP(t){return t==null?[]:[].concat(t)}let VP,jP,UP,Nq=/\$\{\s*(\w+)\s*\}/g;VP=Symbol.toStringTag;class aS{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[VP]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],FP(e).forEach(s=>{if(vn.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}jP=Symbol.hasInstance;UP=Symbol.toStringTag;class vn extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(Nq,(i,s)=>vs(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new aS(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[UP]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,vn)}static[jP](e){return aS[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Lr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${vs(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${vs(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${vs(n,!0)}\``+i}},fn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},zi={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},py={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Dq={isValue:"${path} field must be ${value}"},my={noUnknown:"${path} field has unspecified keys: ${unknown}"},Lq={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Mq={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${vs(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${vs(n,!0)}\``}return vn.formatError(Lr.notType,t)}};Object.assign(Object.create(null),{mixed:Lr,string:fn,number:zi,date:py,object:my,array:Lq,boolean:Dq,tuple:Mq});const e0=t=>t&&t.__isYupSchema__;class Yh{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Yh(e,(a,l)=>{var c;let d=o(...a)?i:s;return(c=d==null?void 0:d(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!e0(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const md={context:"$",value:"."};function Fq(t,e){return new js(t,e)}class js{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===md.context,this.isValue=this.key[0]===md.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?md.context:this.isValue?md.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ho.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}js.prototype.__isYupRef=!0;const fi=t=>t==null;function ia(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:c,test:d,params:f,message:p,skipAbsent:g}=t;let{parent:w,context:E,abortEarly:R=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=i;function v(k){return js.isRef(k)?k.getValue(n,w,E):k}function T(k={}){const D=Object.assign({value:n,originalValue:s,label:o.spec.label,path:k.path||r,spec:o.spec,disableStackTrace:k.disableStackTrace||b},f,k.params);for(const Te of Object.keys(D))D[Te]=v(D[Te]);const P=new vn(vn.formatError(k.message||p,D),n,D.path,k.type||c,D.disableStackTrace);return P.params=D,P}const L=R?a:l;let z={path:r,parent:w,type:c,from:i.from,createError:T,resolve:v,options:i,originalValue:s,schema:o};const A=k=>{vn.isError(k)?L(k):k?l(null):L(T())},S=k=>{vn.isError(k)?L(k):a(k)};if(g&&fi(n))return A(!0);let I;try{var C;if(I=d.call(z,n,z),typeof((C=I)==null?void 0:C.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${z.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(A,S)}}catch(k){S(k);return}A(I)}return e.OPTIONS=t,e}function Vq(t,e,n,r=n){let i,s,o;return e?(ho.forEach(e,(a,l,c)=>{let d=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let f=t.type==="tuple",p=c?parseInt(d,10):0;if(t.innerType||f){if(f&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[p],t=f?t.spec.types[p]:t.innerType}if(!c){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[d],t=t.fields[d]}s=d,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Jh extends Set{describe(){const e=[];for(const n of this.values())e.push(js.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Jh(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ta(t,e=new Map){if(e0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Ta(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Ta(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Ta(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Ta(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Ir{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Jh,this._blacklist=new Jh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Lr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ta(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&fi(s))return s;let o=vs(e),a=vs(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let d of Object.values(this.internalTests))d&&c.push(d);this.runTests({path:s,value:l,originalValue:o,options:n,tests:c},r,d=>{if(d.length)return i(d,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,d=E=>{i||(i=!0,n(E,o))},f=E=>{i||(i=!0,r(E,o))},p=s.length,g=[];if(!p)return f([]);let w={value:o,originalValue:a,path:l,options:c,schema:this};for(let E=0;E<s.length;E++){const R=s[E];R(w,d,function(v){v&&(Array.isArray(v)?g.push(...v):g.push(v)),--p<=0&&f(g)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const d=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(f,p,g)=>this.resolve(d)._validate(c,d,p,g)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,c)=>{vn.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new vn(l,c,void 0,void 0,s)):o(c)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw vn.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new vn(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(vn.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(vn.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ta(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=ia({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=ia({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Lr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Lr.notNull){return this.nullability(!1,e)}required(e=Lr.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Lr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=ia(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=FP(e).map(s=>new js(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Yh(i,n):Yh.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=ia({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Lr.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=ia({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Lr.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=ia({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,d)=>d.findIndex(f=>f.name===l.name)===c)}}}Ir.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ir.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=Vq(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Ir.prototype[t]=Ir.prototype.oneOf;for(const t of["not","nope"])Ir.prototype[t]=Ir.prototype.notOneOf;const jq=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Uq(t){const e=gy(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function gy(t){var e,n;const r=jq.exec(t);return r?{year:si(r[1]),month:si(r[2],1)-1,day:si(r[3],1),hour:si(r[4]),minute:si(r[5]),second:si(r[6]),millisecond:r[7]?si(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:si(r[10]),minuteOffset:si(r[11])}:null}function si(t,e=0){return Number(t)||e}let $q=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bq=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,zq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Hq="^\\d{4}-\\d{2}-\\d{2}",qq="\\d{2}:\\d{2}:\\d{2}",Wq="(([+-]\\d{2}(:?\\d{2})?)|Z)",Kq=new RegExp(`${Hq}T${qq}(\\.\\d+)?${Wq}$`),Gq=t=>fi(t)||t===t.trim(),Qq={}.toString();function gr(){return new $P}class $P extends Ir{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===Qq?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Lr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=fn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=fn.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=fn.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||fn.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=fn.email){return this.matches($q,{name:"email",message:e,excludeEmptyString:!0})}url(e=fn.url){return this.matches(Bq,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=fn.uuid){return this.matches(zq,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(Kq,{name:"datetime",message:n||fn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||fn.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=gy(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||fn.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=gy(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=fn.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Gq})}lowercase(e=fn.lowercase){return this.transform(n=>fi(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>fi(n)||n===n.toLowerCase()})}uppercase(e=fn.uppercase){return this.transform(n=>fi(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>fi(n)||n===n.toUpperCase()})}}gr.prototype=$P.prototype;let Yq=t=>t!=+t;function BP(){return new zP}class zP extends Ir{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Yq(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=zi.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=zi.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=zi.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=zi.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=zi.positive){return this.moreThan(0,e)}negative(e=zi.negative){return this.lessThan(0,e)}integer(e=zi.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>fi(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>fi(i)?i:Math[e](i))}}BP.prototype=zP.prototype;let Jq=new Date(""),Xq=t=>Object.prototype.toString.call(t)==="[object Date]";class vp extends Ir{constructor(){super({type:"date",check(e){return Xq(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=Uq(e),isNaN(e)?vp.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(js.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=py.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=py.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}vp.INVALID_DATE=Jq;vp.prototype;function Zq(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=ho.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),js.isRef(a)&&a.isSibling?s(a.path,o):e0(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return Aq.array(Array.from(r),n).reverse()}function lS(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function HP(t){return(e,n)=>lS(t,e)-lS(t,n)}const eW=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function zd(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=zd(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=zd(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(zd)}):"optional"in t?t.optional():t}const tW=(t,e)=>{const n=[...ho.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=ho.getter(ho.join(n),!0)(t);return!!(i&&r in i)};let uS=t=>Object.prototype.toString.call(t)==="[object Object]";function nW(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const rW=HP([]);function wp(t){return new qP(t)}class qP extends Ir{constructor(e){super({type:"object",check(n){return uS(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=rW,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(f=>!this._nodes.includes(f))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const f of a){let p=s[f],g=f in i;if(p){let w,E=i[f];c.path=(n.path?`${n.path}.`:"")+f,p=p.resolve({value:E,context:n.context,parent:l});let R=p instanceof Ir?p.spec:void 0,b=R==null?void 0:R.strict;if(R!=null&&R.strip){d=d||f in i;continue}w=!n.__validating||!b?p.cast(i[f],c):i[f],w!==void 0&&(l[f]=w)}else g&&!o&&(l[f]=i[f]);(g!==f in l||l[f]!==i[f])&&(d=!0)}return d?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,c)=>{if(!a||!uS(c)){i(l,c);return}o=o||c;let d=[];for(let f of this._nodes){let p=this.fields[f];!p||js.isRef(p)||d.push(p.asNestedTest({options:n,key:f,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:c,originalValue:o,options:n},r,f=>{i(f.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Zq(e,n),r._sortErrors=HP(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return zd(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=ho.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return tW(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(eW)}noUnknown(e=!0,n=my.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=nW(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=my.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Cm.camelCase)}snakeCase(){return this.transformKeys(Cm.snakeCase)}constantCase(){return this.transformKeys(e=>Cm.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}wp.prototype=qP.prototype;const iW=({submitContact:t})=>{const e={name:"",email:"",reason:"",message:"",rating:3},n=wp({name:gr().required("Name is required."),email:gr().email("Invalid email address.").required("Email is required."),reason:gr().required("Please select a reason to contact."),message:gr().required("The opinion field is required."),rating:BP().min(1,"Rating must be at least 1.").max(5,"Rating cannot exceed 5.").required("Rating is required.")}),r=(i,{resetForm:s})=>{Fr.fire({title:"Success",text:"Form submitted successfully.",icon:"success"}),t(i),s()};return x.jsx("div",{className:"contact-form-container",children:x.jsx(Qw,{initialValues:e,validationSchema:n,onSubmit:r,children:({isSubmitting:i})=>x.jsxs(mp,{className:"contact-form",children:[x.jsxs("div",{className:"form-group",children:[x.jsx(fr,{name:"name",type:"text",className:"input-field",placeholder:"Enter your name"}),x.jsx(pr,{name:"name",component:"div",className:"error-message"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx(fr,{name:"email",type:"email",className:"input-field",placeholder:"Enter your email"}),x.jsx(pr,{name:"email",component:"div",className:"error-message"})]}),x.jsxs("div",{className:"form-group",children:[x.jsxs(fr,{name:"reason",as:"select",className:"input-field",children:[x.jsx("option",{value:"",children:"Select a reason"}),x.jsx("option",{value:"support",children:"Technical Support"}),x.jsx("option",{value:"feedback",children:"Feedback"}),x.jsx("option",{value:"other",children:"Other"})]}),x.jsx(pr,{name:"reason",component:"div",className:"error-message"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx(fr,{name:"message",as:"textarea",className:"input-field textarea-field",placeholder:"Write your opinion"}),x.jsx(pr,{name:"message",component:"div",className:"error-message"})]}),x.jsxs("div",{className:"form-group rating-group",children:[x.jsx("label",{children:"Rate the Page (1-5):"}),x.jsx(fr,{name:"rating",type:"number",min:"1",max:"5",className:"input-field"}),x.jsx(pr,{name:"rating",component:"div",className:"error-message"})]}),x.jsx("button",{className:"submit-button",type:"submit",disabled:i,children:i?"Submitting...":"Submit"})]})})})},sW=()=>{const t=e=>{console.log("Formulario enviado:",e)};return x.jsxs(x.Fragment,{children:[x.jsx("h1",{children:"Contact"}),x.jsx(iW,{submitContact:t})]})},oW=()=>{const{login:t}=ic(),e=rc(),n={username:"",email:"",password:"",confirmPassword:""},r=wp({username:gr().min(3,"Username must be at least 3 characters").required("Username is required"),email:gr().email("Invalid email format").required("Email is required"),password:gr().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:gr().oneOf([Fq("password"),null],"Passwords must match").required("Confirm Password is required")}),i=async(s,{setSubmitting:o,resetForm:a})=>{const{username:l,email:c,password:d}=s;try{const f=VT(DT(jd,"users"),jT("email","==",c)),p=VT(DT(jd,"users"),jT("username","==",l)),g=await BT(f),w=await BT(p);if(!g.empty){Fr.fire({title:"Error",text:"This email is already registered.",icon:"error"}),o(!1);return}if(!w.empty){Fr.fire({title:"Error",text:"This username is already taken.",icon:"error"}),o(!1);return}const E=await lF(gw,c,d),{uid:R}=E.user;await MU(uR(jd,"users",R),{username:l,email:c,favorites:[]}),t({uid:R,email:c,username:l}),Fr.fire({title:"Success",text:"User registered successfully.",icon:"success"}),a(),e("/")}catch(f){Fr.fire({title:"Error",text:f.message,icon:"error"})}finally{o(!1)}};return x.jsx(Qw,{initialValues:n,validationSchema:r,onSubmit:i,children:({isSubmitting:s})=>x.jsxs(mp,{className:"register-form",children:[x.jsxs("div",{className:"form-group",children:[x.jsx(fr,{name:"username",type:"text",placeholder:"Enter your username",className:"input-field"}),x.jsx(pr,{name:"username",component:"div",className:"error-message"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx(fr,{name:"email",type:"email",placeholder:"Enter your email",className:"input-field"}),x.jsx(pr,{name:"email",component:"div",className:"error-message"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx(fr,{name:"password",type:"password",placeholder:"Enter your password",className:"input-field"}),x.jsx(pr,{name:"password",component:"div",className:"error-message"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx(fr,{name:"confirmPassword",type:"password",placeholder:"Confirm your password",className:"input-field"}),x.jsx(pr,{name:"confirmPassword",component:"div",className:"error-message"})]}),x.jsx("button",{type:"submit",disabled:s,className:`submit-button ${s?"disabled":""}`,children:s?"Registering...":"Register"})]})})},aW=()=>{const t=rc(),{login:e}=ic(),n={email:"",password:""},r=wp({email:gr().email("Invalid email format").required("Email is required"),password:gr().min(6,"Password must be at least 6 characters").required("Password is required")}),i=async(s,{setSubmitting:o,resetForm:a})=>{const{email:l,password:c}=s;try{const d=await uF(gw,l,c);e({uid:d.user.uid,email:d.user.email}),Fr.fire({title:"Success",text:"Login successful.",icon:"success"}),a(),t("/user")}catch(d){Fr.fire({title:"Error",text:d.message,icon:"error"})}finally{o(!1)}};return x.jsx(Qw,{initialValues:n,validationSchema:r,onSubmit:i,children:({isSubmitting:s})=>x.jsxs(mp,{className:"login-form",children:[x.jsxs("div",{className:"form-group",children:[x.jsx(fr,{name:"email",type:"email",placeholder:"Enter your email",className:"input-field"}),x.jsx(pr,{name:"email",component:"div",className:"error-message"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx(fr,{name:"password",type:"password",placeholder:"Enter your password",className:"input-field"}),x.jsx(pr,{name:"password",component:"div",className:"error-message"})]}),x.jsx("button",{type:"submit",disabled:s,className:`submit-button ${s?"disabled":""}`,children:s?"Logging in...":"Login"})]})})},lW=()=>{const t=n=>{console.log("Register form submitted:",n)},e=n=>{console.log("Login form submitted:",n)};return x.jsx("main",{children:x.jsxs("div",{className:"auth-container",children:[x.jsxs("div",{className:"auth-section",children:[x.jsx("h1",{className:"auth-subtitle",children:"Register"}),x.jsx(oW,{submitRegister:t})]}),x.jsxs("div",{className:"auth-section",children:[x.jsx("h1",{className:"auth-subtitle",children:"Login"}),x.jsx(aW,{submitLogin:e})]})]})})},uW="modulepreload",cW=function(t){return"/RyMApi/"+t},cS={},WP=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=cW(l),l in cS)return;cS[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":uW,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},dW=Zh.lazy(()=>WP(()=>import("./CharacterSearch-iQtcB7FG.js"),__vite__mapDeps([0,1]))),hW=()=>x.jsx(N.Suspense,{fallback:x.jsx("div",{children:"Loading character search..."}),children:x.jsx(dW,{})}),fW=()=>x.jsx("h1",{children:"Community"}),pW=["","Planet","Cluster","Space station","Microverse","TV","Resort","Fantasy town","Dream","Dimension","unknown"],mW=["","Dimension C-137","Replacement Dimension","Cronenberg Dimension","Fantasy Dimension","Dimension 5-126","Testicle Monster Dimension","unknown"],gW=()=>{const[t,e]=N.useState([]),[n,r]=N.useState({name:"",type:"",dimension:""}),[i,s]=N.useState(1),[o,a]=N.useState(1),[l,c]=N.useState(!1),[d,f]=N.useState(null),p=async()=>{try{c(!0),f(null);const E=await mt.get("https://rickandmortyapi.com/api/location",{params:{page:i,name:n.name||void 0,type:n.type||void 0,dimension:n.dimension||void 0}});e(E.data.results),a(E.data.info.pages)}catch{e([]),a(1),f("No results found or API error")}finally{c(!1)}};N.useEffect(()=>{p()},[n,i]);const g=E=>{r({...n,[E.target.name]:E.target.value}),s(1)},w=()=>{r({name:"",type:"",dimension:""})};return x.jsxs("section",{className:"location-search","aria-label":"Location search section",children:[x.jsx("h2",{children:"Search Locations"}),x.jsxs("form",{className:"filters",onSubmit:E=>E.preventDefault(),"aria-describedby":"filter-desc",children:[x.jsx("p",{id:"filter-desc",className:"sr-only",children:"Filter locations by name, type and dimension."}),x.jsxs("div",{className:"filter-group",children:[x.jsx("label",{htmlFor:"name",children:"Name"}),x.jsx("input",{type:"search",id:"name",name:"name",placeholder:"Location name",value:n.name,onChange:g,"aria-label":"Filter by location name"})]}),x.jsxs("div",{className:"filter-group",children:[x.jsx("label",{htmlFor:"type",children:"Type"}),x.jsx("select",{id:"type",name:"type",value:n.type,onChange:g,"aria-label":"Filter by location type",children:pW.map((E,R)=>x.jsx("option",{value:E,children:E||"All types"},R))})]}),x.jsxs("div",{className:"filter-group",children:[x.jsx("label",{htmlFor:"dimension",children:"Dimension"}),x.jsx("select",{id:"dimension",name:"dimension",value:n.dimension,onChange:g,"aria-label":"Filter by dimension",children:mW.map((E,R)=>x.jsx("option",{value:E,children:E||"All dimensions"},R))})]}),x.jsx("button",{type:"button",onClick:w,"aria-label":"Clear filters",children:"Clear"})]}),l&&x.jsx("p",{role:"status",children:"Loading locations..."}),d&&x.jsx("p",{role:"alert",children:d}),x.jsx("div",{className:"location-list",role:"list","aria-live":"polite",children:t.map(E=>x.jsxs("article",{className:"location-card",role:"listitem",tabIndex:0,children:[x.jsx("h3",{children:E.name}),x.jsxs("p",{children:[x.jsx("strong",{children:"Type:"})," ",E.type]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Dimension:"})," ",E.dimension]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Residents:"})," ",E.residents.length]})]},E.id))}),x.jsxs("nav",{className:"pagination","aria-label":"Pagination navigation",children:[x.jsx("button",{onClick:()=>s(E=>E-1),disabled:i===1,"aria-disabled":i===1,children:"Prev"}),x.jsxs("span",{children:["Page ",i," of ",o]}),x.jsx("button",{onClick:()=>s(E=>E+1),disabled:i===o,"aria-disabled":i===o,children:"Next"})]})]})},yW=()=>x.jsxs("main",{children:[x.jsx("h1",{children:"Regions"}),x.jsx(gW,{})]}),vW=()=>{const[t,e]=N.useState([]),[n,r]=N.useState([]),[i,s]=N.useState(!0),[o,a]=N.useState(null),l=N.useRef(null),[c,d]=N.useState(""),[f,p]=N.useState(""),[g,w]=N.useState(""),E=T=>{T.target.src=d2};N.useEffect(()=>{(async()=>{try{const L=[];let z=1,A=!0;for(;A;){const S=await mt.get(`https://rickandmortyapi.com/api/episode?page=${z}`);L.push(...S.data.results),A=S.data.info.next!==null,z++}e(L),r(L)}catch(L){a(L.message)}finally{s(!1)}})()},[]),N.useEffect(()=>{const T=t.filter(L=>{const z=L.episode.toUpperCase(),A=L.name.toLowerCase().includes(c.toLowerCase()),S=z.includes(c.toUpperCase()),y=f?z.startsWith(f):!0,I=g?z.endsWith(`E${g.padStart(2,"0")}`):!0;return(A||S)&&y&&I});r(T)},[c,f,g,t]);const R=Array.from(new Set(t.map(T=>T.episode.slice(0,3)))),b=f?Array.from(new Set(t.filter(T=>T.episode.startsWith(f)).map(T=>T.episode.slice(4,6)))).sort((T,L)=>parseInt(T)-parseInt(L)):[],v=()=>{const T=l.current;T.scrollTop+T.clientHeight>=T.scrollHeight-50&&console.log("Reached the end of the scroll")};return N.useEffect(()=>{const T=l.current;return T&&T.addEventListener("scroll",v),()=>{T&&T.removeEventListener("scroll",v)}},[]),i?x.jsx("div",{children:"Loading..."}):o?x.jsxs("div",{children:["Error: ",o]}):x.jsxs("div",{className:"episodes-search-container",children:[x.jsxs("div",{className:"filters",children:[x.jsxs("label",{children:["Search:",x.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),placeholder:"e.g., Rick or S01E01"})]}),x.jsxs("label",{children:["Season:",x.jsxs("select",{value:f,onChange:T=>p(T.target.value),children:[x.jsx("option",{value:"",children:"All"}),R.map(T=>x.jsx("option",{value:T,children:T},T))]})]}),x.jsxs("label",{children:["Episode:",x.jsxs("select",{value:g,onChange:T=>w(T.target.value),disabled:!f,children:[x.jsx("option",{value:"",children:"All"}),b.map(T=>x.jsx("option",{value:T,children:T},T))]})]})]}),x.jsxs("div",{className:"episodes-grid",ref:l,children:[n.length===0&&x.jsx("div",{children:"No episodes found."}),n.map(T=>{var L;return x.jsxs("div",{className:"episode-card",children:[x.jsx("h3",{children:T.name}),x.jsx("img",{src:`https://rickandmortyapi.com/api/character/avatar/${(L=T.characters[0])==null?void 0:L.split("/").pop()}.jpeg`,alt:T.name,onError:E,className:"episode-image"}),x.jsxs("p",{children:["Episode: ",T.episode]}),x.jsxs("p",{children:["Air date: ",T.air_date]}),x.jsxs("p",{children:["Characters: ",T.characters.length]})]},T.id)})]})]})},wW=()=>x.jsxs("main",{children:[x.jsx("h1",{children:"Episodes"}),x.jsx(vW,{})]}),_W=Zh.lazy(()=>WP(()=>import("./UserProfile-ClazR2Xi.js"),__vite__mapDeps([2,3]))),EW=()=>x.jsx("main",{"aria-labelledby":"user-profile-heading",children:x.jsx(_W,{})}),TW="/RyMApi/assets/Lumine_404-CdHm_i8-.png",SW=()=>x.jsxs("div",{className:"error-404",children:[x.jsx("h1",{children:"404"}),x.jsx("h2",{children:"Paimon says that this page is not found"}),x.jsx("img",{src:TW,alt:"Paimon Confused"}),x.jsx("p",{children:"Traveler! Did we get lost again?"}),x.jsx(gn,{to:"/",className:"back-home",children:"Go Back Home"})]}),IW=({children:t})=>{const{isAuthenticated:e}=ic();return e?t:x.jsx(XN,{to:"/login",replace:!0})},bW=oD([{path:"/",element:x.jsx(a3,{}),children:[{index:!0,element:x.jsx(V5,{})},{path:"contact",element:x.jsx(sW,{})},{path:"login",element:x.jsx(lW,{})},{path:"characters",element:x.jsx(hW,{})},{path:"community",element:x.jsx(fW,{})},{path:"regions",element:x.jsx(yW,{})},{path:"enemies",element:x.jsx(wW,{})},{path:"user",element:x.jsx(IW,{children:x.jsx(EW,{})})},{path:"*",element:x.jsx(SW,{})}]}]);Rm.createRoot(document.getElementById("root")).render(x.jsx(Zh.StrictMode,{children:x.jsxs(ED,{children:["  ",x.jsx(mD,{router:bW})]})}));export{d2 as P,mt as a,gw as b,DT as c,jd as d,uR as e,kW as f,BT as g,LU as h,x as j,N as r,MU as s,PW as u};
